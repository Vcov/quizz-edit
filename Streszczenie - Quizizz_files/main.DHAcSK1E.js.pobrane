function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["js/preGameActions.DvpMr9vF.js","js/vendor.KND26Koi.js","js/@sentry/vue.DB3s1thx.js","js/useAccommodationWidgetsHelper.DiPYB53y.js","js/useSearch.oXNZCRMH.js","js/TeacherProvidedAE.CoD-kyyh.js","js/QYoutubePlayer.C5RMWyy8.js","js/useScreenfull.BOEvNe-z.js","css/QYoutubePlayer.B8g1Ag6C.css","js/QAudio.MZc476yu.js","js/Sound.s4y1RpvF.js","css/QAudio.BVX3EhGu.css","js/LoadingInstructions.BsAKtSz_.js","js/AuthModal.DUPZdrUQ.js","css/AuthModal.4h2P5DLs.css","js/GroupJoinModal.IHOQ9U-a.js","css/GroupJoinModal.hnCwvoTF.css","js/ClassCodeModal.ywI92Ihn.js","css/ClassCodeModal.CgsTbKho.css","js/GameAssignedNotifModal.BF4d_1LP.js","css/GameAssignedNotifModal.DFyyQoar.css","js/ChallengeReplayNotifModal.Bxr_ceZq.js","css/ChallengeReplayNotifModal.6vgnJkzu.css","js/ImageZoomPreview.Hynomu7z.js","css/ImageZoomPreview.Dhv4-i3y.css","js/AvatarShop.Bn4LjC6d.js","js/index-edf5cc48.7IMVxfMe.js","js/DownloadAvatar.4TqlX5Q_.js","css/DownloadAvatar.CVduOhVk.css","js/QCoinPill.vue_vue_type_style_index_0_lang.CFeCr6HR.js","js/QCoin.HMO_aEab.js","css/QCoinPill.DLi7o8tM.css","js/QCoinButton.B4z3D3N8.js","css/QCoinButton.Cy1davhl.css","js/useExclusiveItems._odKI1Wd.js","css/AvatarShop.BPeFiJ4d.css","js/ExclusiveItemsModal.DuWM2hpf.js","css/ExclusiveItemsModal.Bo2sT9Te.css","js/PseudoTeacherOnBoardingModal.BDUJDJq1.js","js/Featured.CFjrOtgv.js","js/MyAvatar.vue_vue_type_script_setup_true_lang.DZNEptOQ.js","js/SpeechReadAloud.fGLSacOM.js","css/Featured.C2ywb2st.css","js/Home.BFmGWGjk.js","js/ProceedGame.BBtJMyO5.js","js/PreGameErrorMessage.C1YVdIXe.js","css/ProceedGame.BV77cagf.css","js/GoogleOneTapService.CmlBAvRs.js","js/Button.DWCKKN8U.js","css/Button.D-iGgpY4.css","js/Carousel.CC9efYBk.js","css/Carousel.CLvyYcaZ.css","js/ErrorStates.DnqfZ7cl.js","js/GameCards.xGR0pwmg.js","js/FeaturedUtils.HlS30RO4.js","css/GameCards.D7gy5hHQ.css","js/QuizzesList.BsDPAXr6.js","css/QuizzesList.nxSAv4nn.css","js/ConvertToTeacherModal.B_4BAIyG.js","js/FooterLinks.CFykhRsZ.js","css/ConvertToTeacherModal.CvOlH0RM.css","js/OnboardingUtils.CcM3d3Zg.js","css/Home.CQFOAgrA.css","js/Landing.6aM6WiW_.js","css/Landing.DaBnmwLl.css","js/Home.BCMxCWy5.js","js/QVideo.BY-RdQiB.js","js/Activities.BqWpFDuK.js","css/Activities.D9mIczkc.css","css/Home.CrwY7H4s.css","js/SearchPage.mXXP5Qph.js","css/SearchPage.rXATrFZL.css","js/Groups.CEF0i-oc.js","js/Activity.DMtkAz1O.js","css/Activity.kloG8LJa.css","js/ActivitySubRouteContainer.BbOZZPxp.js","css/ActivitySubRouteContainer.CjDDkl_N.css","js/AppSettings.CaJbZY_H.js","js/AvatarFactory.BOs3UfkK.js","js/ThemeIcon.BdGJPp7m.js","css/ThemeIcon.CnGARhPs.css","js/ToggleButton.ohNArtDE.js","css/ToggleButton.oCzqevwm.css","js/useUpdateUserLanguage.C_lNJ-Mu.js","css/AppSettings.2MTj-ucz.css","js/RecommendationsPage.DFlIFLRN.js","css/RecommendationsPage.DvmtZkUz.css","js/EventQuizzesPage.D9riCh_e.js","css/EventQuizzesPage.BEh9m9qw.css","js/Classes.CNT0UqOV.js","css/Classes.C3pJckLP.css","js/InGameApp.B5SYRyJT.js","js/ReadingView.vue_vue_type_style_index_0_lang.CI6_Lqmo.js","css/ReadingView.C3J0dOmC.css","js/ThemeSettingsGrid.CQtdBLS7.js","js/useFocusMode.CANHdeVZ.js","css/useFocusMode.DhEGRfSb.css","css/ThemeSettingsGrid.B5srghTy.css","js/DocumentScroll.BqVLR71W.js","js/FlashcardUtils.WuB96NlK.js","css/InGameApp.D1UGV3WY.css","js/PreGameScreen.DIW5NzeO.js","css/PreGameScreen.okGAF9Yh.css","js/PreGameSubRouteContainer.BEE0f_d7.js","js/AvatarPicker.C6MONfbn.js","css/AvatarPicker.B71oJerR.css","css/PreGameSubRouteContainer.c_IiyP6G.css","js/EmbedQuiz.3EtXtjUu.js","css/EmbedQuiz.8SrO2Ydu.css","js/CoursesDetails.s5Su-1da.js","js/QuizCard.8QFMbyJT.js","css/QuizCard.6OC5XPB9.css","js/Shop.BHLpyytc.js","css/Shop.AbbGj-CL.css","js/FlashcardsTab.DPcSY7bA.js","js/Notes.BGIedKeN.js","css/Notes.D4PxLuTV.css","js/MicrosoftTeams.min.yVyVUgIJ.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Lp=Object.defineProperty;var zp=(e,t,s)=>t in e?Lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var We=(e,t,s)=>(zp(e,typeof t!="symbol"?t+"":t,s),s);import{n as Gp,l as ji,v as Mp,m as ir,u as xp,o as T,p as ze,q as Wt,t as it,w as Va,x as Aa,y as bd,z as Ae,A as Gs,B as $n,C as Fp,D as an,E as Ut,F as Nt,G as ut,H as Jt,I as li,J as Ot,K as m,L as Yr,M as Dn,N as Qp,O as mu,P as ka,Q as ra,R as Qs,T as Zt,U as si,V as It,W as Kr,X as Nd,Y as qp,Z as ys,_ as Ms,$ as _a,a0 as Jr,a1 as Uc,a2 as $i,a3 as Up,a4 as Bp,a5 as rr,a6 as Hp,a7 as ni,a8 as Nr,a9 as k,aa as Rn,ab as qs,ac as ul,ad as pu,ae as Dr,af as oa,ag as Dd,ah as gu,ai as Xo,aj as Ld,ak as Vp,al as Mn,am as jp,an as $p,ao as Wp,ap as Ln,aq as Bc,ar as us,as as Lr,at as Hc,au as zd,av as Wi,aw as Gd,ax as Md,ay as ll,az as Yp,aA as cr,aB as xd,aC as Kp,aD as Ts,aE as Jp,aF as An,aG as nn,aH as Fd,aI as Xp,aJ as W,aK as ht,aL as ae,aM as fs,aN as As,aO as zr,aP as To,aQ as yo,aR as Io,aS as Ta,aT as Gr,aU as va,aV as Vc,aW as gs,aX as Mr,aY as ja,aZ as di,a_ as ur,a$ as Wo,b0 as Zp,b1 as Qd,b2 as eg,b3 as tg,b4 as kn,b5 as sg,b6 as ng,b7 as qd,b8 as hr,b9 as pa,ba as Ud,bb as ag,bc as og,bd as fu,be as ig,bf as rg,bg as cg,bh as ug,bi as xr,bj as jc,bk as lg,bl as dg,bm as mg,bn as pg,bo as dl,bp as Bd,bq as gg,br as fg,bs as hg,bt as _g,bu as vg,bv as Eg,bw as Ag,bx as Tg,by as yg,bz as Ig,bA as Sg,bB as Rg,bC as Cg,bD as wg,bE as Og,bF as Pg,bG as kg,bH as bg,bI as Ng,bJ as Dg,bK as Lg,bL as zg,bM as Gg,bN as Mg}from"./vendor.KND26Koi.js";import{$ as qa,a0 as xg,K as Fg,a1 as Qg,X as qg,a2 as Ug,a3 as Bg}from"./@sentry/vue.DB3s1thx.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2ca93522-e913-4ef1-86cb-86994531f0ca",e._sentryDebugIdIdentifier="sentry-dbid-2ca93522-e913-4ef1-86cb-86994531f0ca")}catch{}})();const Hg=["Error in loading sound","Failed to fetch","NetworkError","<unknown>","Non-Error promise rejection captured","NS_ERROR_FAILURE","undefined is not an object (evaluating 'a.M')","PerformanceObserverInit.entryTypes","window.mobileAPI.closeCurrentPanel","EditorInternalError","node_modules/","No available storage method found"];function Vg(e){return["console","dom","xhr","fetch","beacon","history","navigation"].includes(e.category||"")?null:e}const Hd=[/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i,/\/(gtm|ga|analytics|hotjar)\.js/i];function jg(e){if(e.type==="resource"){const t=e.resource.url;return Hd.some(s=>s.test(t))}}const pc={ignoredErrors:Hg,beforeBreadcrumb:Vg,denyUrls:Hd,shouldDiscard:jg};function $g(){return typeof window<"u"?window.crypto:Gp.webcrypto}function Wg(){return Math.round(new Date().getTime()/1e3).toString(16)}function Yg(){return new Date().getTime()/1e3}function ml(e){const t=new Uint8Array(e);$g().getRandomValues(t);let s="";for(let n=0;n<t.length;n++)s+=t[n].toString(16);return s.substring(0,e)}function Kg(e){return`Root=${e.traceId};Parent=${e.id};Sampled=1`}function Jg(){const e={traceId:`1-${Wg()}-${ml(24)}`,id:ml(16),startTime:Yg()};return Kg(e)}function Xg(e,t){(e.message.includes("Failed to fetch dynamically imported module")||e.message.includes("Importing a module script failed"))&&(t!=null&&t.fullPath?window.location.href=t.fullPath:window.location.reload())}const Zg=["auth","deactivate","facebook/state","logout","user/checkPhoneNumberAvail","user/checkUserEmailAvail","user/checkUserNameAvail","user/resetPassword","user/resetPasswordLink","user/setPassword","login","v1/user/"],ef=["_geo/location","activate-account","api/v1/isUserLoggedIn","api/v1/school","api/v1/updateIntentCopy","api/v1/worksheetRecommendations/node","api/v1/worksheets","certifications/contests","certifications/gameChanger","certifications/gameChangerWithoutGameId","certifications/generic","contests","game/offline-relay/","gcse/share","getUploadURL","i18n/","naverfa4060244ab727146abb994306dffa41.html","oembed","paper-mode-admin/rosters","paper-mode/rosters","paper-mode/rosters/","profile/share","qdash","quizPageRec","reactivate-account","referral/signup","referrals/","rpc/contest","rpc/gameChangerBadgeEligibilityUpdate","rpc/paperMode","rpc/user/mark-activation","schools/","send-deactivation-link","send-reactivation-link","send-reactivation-otp","signup/","tos","translations-csv/","translations/","translations/create","translations/delete","translations/generate","translations/languages/","translations/languages/create","translations/languages/names","translations/master-strings/delete","translations/strings","translations/update","translations/updateTranslatedTo","trial/giftsuper","trial/giftsuper/exists","trial/referral","user/fromtoken","user/gameChangerBadgeShowProfileUpdate","user/recommendationMeta","user/refer","user/userData","user/referral-campaigns","user/referral/activation","user/share","yandex_dce5bebfc626b551.html","embed/quiz/","embed/presentation/","embed/lesson/","search/v2/local"],tf=["_support/games","_support/games/restore","_support/getUserGames","_support/user/games/restore","admin/reports","backup-ping/games","game","game/","games","img/memegen/meme_templates/full/","join","join-game","list-player-attempts","play","player-attempts","player-report-data","player-report-history","playerGames/","playerProfileV2/completed","playerProfileV2/quizAttempts","savexls/","students/game/","students/running","students/running/","user/setAvatar","userAddon/update","userAddons/","v2/game","v4/students/game/","v4/students/running"],sf=["paid-org","org-invite","paid-org-migration","paid-org-migration-internal","organization","snd","group","groups","v2/groups","user/groups","team","teams","lead","common-assessment","class","lms","tags","v1/orgContentRecommend","v1/organization/teachers","v1/recommendation/snd/teachers","v1/fetchOrgsInDistrict","v2/orgContentRecommend","v3/orgContentRecommend","v1/recommendHostedContent","v2/recentOrgContentRecommend","v2/authorizedSchoolContentRecommend","v2/authorizedDistrictContentRecommend","v1/districtContentRecommend","v2/organization/teachers","search/v1","search/v2/private","resource-permissions","learning-track",...ef],Pi={...Zg.reduce((e,t)=>(e[t]={cName:"authMain"},e),{}),...tf.reduce((e,t)=>(e[t]={cName:"gameMain"},e),{}),...sf.reduce((e,t)=>(e[t]={cName:"schoolMain"},e),{})};function nf(e){try{e.url&&e.url.startsWith("/")&&(e.url=e.url.slice(1));const t=new URL((e.baseURL?`${e.baseURL}/`:"")+(e.url||"")),s=t.pathname.split("/")[1],n=t.pathname.split("/")[2],a=t.pathname.split("/").slice(3).join("/");let o=s,i=n;if(n==="main"&&s==="_api"){for(const r in Pi)if(a.startsWith(r)){const c=a.slice(0,r.length);"cType"in Pi[c]&&(o=Pi[c].cType),"cName"in Pi[c]&&(i=Pi[c].cName)}}e.baseURL?(e.baseURL=e.baseURL.replace(s,o),e.baseURL=e.baseURL.replace(n,i)):(e.url=e.url.replace(s,o),e.url=e.url.replace(n,i))}catch{return e}return e}const af="https://fnl.quizizz.com/_anserverv2/main/api/v1",of="https://dev-services-2.quizizz.com/_anserverv2/main/api/v1",Yi="QuizizzAnalytics",wr="metadata";var mi=(e=>(e.click="click",e.impression="impression",e.modalView="modalView",e.hover="hover",e.unknown="unknown",e))(mi||{});const Es={environment:"production",setEnvironment(e){this.environment=e},getEnvironment(){return this.environment},screenType:"desktop",setScreenType(e){this.screenType=e},getScreenType(){return this.screenType},locale:"en-US",setLocale(e){this.locale=e},getLocale(){return this.locale},country:"US",setCountry(e){this.country=e},getCountry(){return this.country},region:"",setRegion(e){this.region=e},getRegion(){return this.region},userId:"",setUserId(e){this.userId=e},getUserId(){return this.userId},subPlanId:"",setSubPlanId(e){this.subPlanId=e},getSubPlanId(){return this.subPlanId},platform:"web",setPlatform(e){this.platform=e},getPlatform(){return this.platform},featureFlags:{},setFeatureFlags(e){this.featureFlags=e},getFeatureFlags(){return this.featureFlags}};function rf(e){e.environment&&Es.setEnvironment(e.environment),e.locale&&Es.setLocale(e.locale),e.screenType&&Es.setScreenType(e.screenType),e.country&&Es.setCountry(e.country),e.region&&Es.setRegion(e.region),e.userId&&Es.setUserId(e.userId),e.subPlanId&&Es.setSubPlanId(e.subPlanId),e.platform&&Es.setPlatform(e.platform)}function cf(){if(typeof window>"u")return()=>{};window.addEventListener("commonStoreUpdate",e=>{Object.entries(e.detail).forEach(([t,s])=>{Es[t]=s})})}function Vd(){const e=Es.getEnvironment();return e==="production"||e==="prod"}function uf(){return Vd()?af:of}function jd(){return typeof window>"u"}function $c(e){var t;return((t=e.meta)==null?void 0:t.struct)||"UNKNOWN"}function $d(e){return Object.entries(e).reduce((t,[s,n])=>(Object.keys(n).includes("defaultValue")?t[s]=e[s].defaultValue:t[s]=n,t),{})}class lf{constructor(){We(this,"storage");this.storage={}}getItem(t){const s=this.storage[t];return s||null}setItem(t,s){this.storage[t]=s}removeItem(t){delete this.storage[t]}clear(){this.storage={}}key(t){return Object.keys(this.storage)[t]||null}get length(){return Object.keys(this.storage).length}}class df{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){}get length(){return 0}}const Wd=jd()?df:lf;class hu{constructor(t){We(this,"storage");We(this,"isProd");this.isProd=t,hu.isAvailable()?this.storage=window.localStorage:this.storage=new Wd}static isAvailable(){return!!(typeof window<"u"&&window.localStorage)}getItem(t,s={parseJSON:!0}){try{const n=this.storage.getItem(t);return s.parseJSON?JSON.parse(n)??{}:n}catch(n){this.isProd()||console.error(`Error at LocalStorage "getItem" in q-analytics: for key(${t})`,n)}}setItem(t,s,n={storeAsJSON:!0}){try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.storage.setItem(t,a)}catch(a){this.isProd()||console.error(`Error at LocalStorage "setItem" in q-analytics: for key(${t})`,a)}}removeItem(t){return this.storage.removeItem(t)}clear(){return this.storage.clear()}}const Ki=new hu(()=>Vd()),_u=1e3*60*30,Or=new Wd;function mf(){Ki.setItem(Yi,{sessionId:Mp(),expiry:Date.now()+_u,startingReferrer:document.referrer,lastActivity:Date.now()})}function vu(){let e=Ki.getItem(Yi);(!e||ji(e)||Date.now()-e.lastActivity>_u)&&(mf(),e=Ki.getItem(Yi)),Or.setItem(wr,e)}function Fr(){let e=Or.getItem(wr);(!e||ji(e)||Date.now()-e.lastActivity>_u)&&(vu(),e=Or.getItem(wr));const t={sessionId:e.sessionId,expiry:Date.now()+1e3*60*30,startingReferrer:e.startingReferrer,lastActivity:Date.now()};return Or.setItem(wr,t),t}function pf(){window.addEventListener("beforeunload",()=>{Ki.setItem(Yi,Fr())})}function gf(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?vu():Ki.setItem(Yi,Fr())})}var Pd;const Qr={getSessionId(){var e;return(e=Fr())==null?void 0:e.sessionId},startingReferrer:(Pd=Fr())==null?void 0:Pd.startingReferrer,getStartingReferrer(){return this.startingReferrer},referrerSourceName:"",setReferrerSourceName(e){this.referrerSourceName=e},getReferrerSourceName(){return this.referrerSourceName}},pl={fullPath:"",matched:[],name:"",path:"",params:{},query:{},hash:"",href:"",meta:{}},gl={previousRoute:pl,currentRoute:pl,setPreviousRoute(e){this.previousRoute=e},setCurrentRoute(e){this.currentRoute=e},getPreviousRoute(){return this.previousRoute},getCurrentRoute(){return this.currentRoute}};class Yo{static get(t,s){const n={};return!s&&jd()?"":typeof document>"u"?this.getFromRequest(t,s):(document.cookie.split(";").forEach(a=>{const[o,i]=a.split("=");n[o.trim()]=i}),n[t])}static getFromRequest(t,s){var a;if(!((a=s.headers)!=null&&a.cookie))return null;const n={};return s.headers.cookie.split(";").forEach(o=>{const[i,r]=o.split("=");n[i.trim()]=r}),n[t]}static set(t,s,n){let a=new Date;a=new Date(a.getTime()+1e3*t);const o=`${s} = ${n}; expires=' + ${a.toUTCString()}; path=/;`;document.cookie=o}}class ff{constructor(t){We(this,"getBaseUrl");this.getBaseUrl=t}getEventEndpoint(t){return t==="frontend"?`${this.getBaseUrl()}/frontend`:t==="pageview3"?`${this.getBaseUrl()}/pv3`:t==="webflow_pageview3"?`${this.getBaseUrl()}/webflow/pv3`:t==="voyagemath_webflow_pageview3"?`${this.getBaseUrl()}/voyagemath/webflow/pv3`:t==="voyagemath_pageview3"?`${this.getBaseUrl()}/voyagemath/pv3`:`${this.getBaseUrl()}/other2`}sendUsingBeacon(t,s){const n=JSON.stringify(t);navigator.sendBeacon(this.getEventEndpoint(s),n)}async sendUsingFetch(t,s){const n=JSON.stringify(t);try{await fetch(this.getEventEndpoint(s),{method:"POST",mode:"no-cors",credentials:"include",headers:{"Content-Type":"application/json"},body:n,keepalive:!1})}catch(a){console.error("Error while sending analytics event data:",a)}}async logFrontendEvent(t){return"sendBeacon"in navigator?this.sendUsingBeacon(t,"frontend"):this.sendUsingFetch(t,"frontend")}logPageView(t,s=!1){"sendBeacon"in navigator&&!s?this.sendUsingBeacon(t,"pageview3"):this.sendUsingFetch(t,"pageview3")}logWebflowPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"webflow_pageview3"):this.sendUsingFetch(t,"webflow_pageview3")}logVMPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"voyagemath_pageview3"):this.sendUsingFetch(t,"voyagemath_pageview3")}logVMWebflowPageView(t){"sendBeacon"in navigator?this.sendUsingBeacon(t,"voyagemath_webflow_pageview3"):this.sendUsingFetch(t,"voyagemath_webflow_pageview3")}}const Ka=new ff(()=>uf());function Xr(e={}){const t=window.screen.width,s=window.screen.height,n=window.devicePixelRatio,a=navigator.connection,o=(a==null?void 0:a.effectiveType)||"unknown",i=window.location.href,r=gl.getCurrentRoute(),c=gl.getPreviousRoute(),u=$d(Es.getFeatureFlags());return{eventName:e.eventName||"UnknownEvent",eventType:e.eventType||mi.unknown,page:{url:i,path:$c(r)??null,name:(r==null?void 0:r.name)||"UnknownPage",params:r!=null&&r.query&&!ji(r.query)?r.query:null},referrer:{url:(c==null?void 0:c.fullPath)||null,path:$c(c)||null,name:(c==null?void 0:c.name)||"UnknownPage"},deviceId:Yo.get("quizizz_uid")||"localhost",deviceTime:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),sessionId:Qr.getSessionId(),country:Es.getCountry()||null,userId:Es.getUserId()||null,subPlanId:Es.getSubPlanId()||null,locale:Es.getLocale(),platform:Es.getPlatform(),screen:{width:t,height:s,density:n},featureFlags:u,featureHash:Yo.get("featureHash")||null,effectiveNetworkType:o,params:ji(e.params)?null:e.params}}function hf(e,t){const s=Xr({eventName:e,eventType:mi.click,params:t});Ka.logFrontendEvent(s)}function _f(e,t){const s=Xr({eventName:e,eventType:mi.hover,params:t});Ka.logFrontendEvent(s)}function vf(e,t){function s(){let n=null;if(typeof t.ele=="string"?n=document.querySelector(t.ele):n=t.ele,!n)return;const a=new IntersectionObserver(o=>{o.forEach(i=>{if(i.isIntersecting){const r=Xr({eventName:e,eventType:mi.impression,params:t.params});Ka.logFrontendEvent(r),t.triggerOnce&&a.disconnect()}})},{root:null,rootMargin:t.rootMargin??"0px",threshold:t.eleThreshold});a.observe(n)}s()}function Ef(e,t){const s=Xr({eventName:e,eventType:mi.modalView,params:t});Ka.logFrontendEvent(s)}function Af(e){const t=new URL(window.location.href),s={};return t.searchParams.forEach((n,a)=>{s[a]=n}),s}function Tf(e){let t;return t=Af(),{source:t.utm_source??"",medium:t.utm_medium??"",campaign:t.utm_campaign??"",term:t.utm_term??"",content:t.utm_content??""}}let fl=!1;function yf(e,t){var c;const s=e&&e.path==="/"&&ji(e.query);let n=!1;document.referrer!==""&&!fl&&(n=!0);let a="";n?a=document.referrer:e&&e.fullPath&&(a=e.fullPath);const o=((c=t==null?void 0:t.query)==null?void 0:c.source)||{};let i="UNKNOWN";s&&o.source&&(i="ExternalClick"),!o.source&&s&&(i="BrowserLoad");const r=Qr.getReferrerSourceName();return(r||!s)&&(i="SourceClick"),fl=!0,{sourceName:r,url:a,variant:i}}function Zr(e,t,s){let n=Yo.get("QUIZIZZ_EXP_SLOT");n?n=Number(n):n=0;const a=$d(Es.getFeatureFlags());return{eventName:s,location:{country:Es.getCountry()??null,region:Es.getRegion()??null},userId:Es.getUserId()??null,language:Es.getLocale()??null,deviceId:Yo.get("quizizz_uid")||null,sessionId:Qr.getSessionId(),slot:n,experiment:Yo.get("QUIZIZZ_EXP_NAME")||"",referrer:yf(t,e),screenType:Es.getScreenType()??null,platform:Es.getPlatform(),featureFlags:a,featureHash:Yo.get("featureHash")||null,deviceTime:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),startingReferrer:Qr.getStartingReferrer(),utmParams:{...Tf()},url:{url:e==null?void 0:e.path,urlStruct:$c(e),queryParams:e==null?void 0:e.fullPath}}}function If(e,t,s=!1){Ka.logPageView(Zr(e,t,"pageview3"),s)}function Sf(e,t){Ka.logWebflowPageView(Zr(e,t,"webflow_pageview3"))}function Rf(e,t){Ka.logVMPageView(Zr(e,t,"voyagemath_pageview3"))}function Cf(e,t){Ka.logVMWebflowPageView(Zr(e,t,"voyagemath_webflow_pageview3"))}class wf{constructor(){We(this,"logClickEvent");We(this,"logModalViewEvent");We(this,"logHoverEvent");We(this,"logImpressionEvent");We(this,"logPageviewEvent");We(this,"logWebflowPageviewEvent");We(this,"logVMPageviewEvent");We(this,"logVMWebflowPageviewEvent");this.logClickEvent=hf,this.logImpressionEvent=vf,this.logModalViewEvent=Ef,this.logHoverEvent=_f,this.logPageviewEvent=If,this.logWebflowPageviewEvent=Sf,this.logVMPageviewEvent=Rf,this.logVMWebflowPageviewEvent=Cf}init(t){rf(t.commonStoreProps),vu(),pf(),gf()}}const Of=["aria-label","disabled","data-testid"],Pf=ir({__name:"ButtonV2",props:{title:{default:""},type:{default:"primary"},ariaLabel:{default:""},size:{default:"default"},isFloating:{type:Boolean,default:!1},isFullWidth:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},licon:{default:""},ticon:{default:""},testId:{default:"button"},isPressed:{type:Boolean,default:!1},iconOnly:{type:Boolean,default:!1}},emits:["onClick"],setup(e){const t=e,s=xp(),n=T(()=>t.iconOnly||!a(s.default)&&(t.licon&&!t.ticon||!t.licon&&t.ticon));function a(u){if(u&&Gs(u)){const l=u();return Array.isArray(l)&&l.length===1&&l[0].children!=="v-if"}return!!u}const o=T(()=>{const u=[];switch(t.type){case"link-light":u.push("disabled:text-ds-light-500-30","disabled:bg-transparent");break;case"link-dark":u.push("disabled:text-ds-dark-100","disabled:bg-transparent");break;case"light-bg":u.push("disabled:text-ds-dark-100","disabled:bg-ds-light-200","disabled:border-transparent");break;default:t.isFloating&&t.type!=="secondary"?u.push("disabled:text-dark-tertiary","disabled:bg-ds-light-200","disabled:hover:border-ds-light-200"):u.push("disabled:text-ds-light-500-30","disabled:bg-ds-light-500-10","disabled:hover:bg-ds-light-500-10");break}switch(t.type){case"secondary":u.push("text-ds-light-500","bg-ds-light-500-20","border-transparent"),u.push("hover:bg-ds-light-500-30","active:bg-ds-light-500-10");break;case"tertiary":u.push("text-ds-light-500","bg-ds-dark-500-50","border-transparent"),u.push("hover:bg-ds-dark-500-80","active:bg-ds-dark-500-30");break;case"other":u.push("text-ds-light-500","bg-ds-lilac-500","border-transparent"),u.push("hover:bg-ds-lilac-400","hover:border-ds-lilac-400","active:bg-ds-lilac-600","active:border-ds-lilac-600");break;case"danger":u.push("text-ds-light-500","bg-ds-fail-500","border-transparent"),u.push("hover:bg-ds-fail-400","active:bg-ds-fail-600");break;case"danger-secondary":u.push("text-ds-fail-500","bg-ds-fail-100","border-transparent"),u.push("hover:bg-ds-fail-200","active:bg-ds-fail-300");break;case"super":u.push("text-ds-light-500","bg-ds-super-500","border-transparent"),u.push("hover:bg-ds-super-400","active:bg-ds-super-600");break;case"super-secondary":u.push("text-ds-super-500","bg-ds-super-100","border-transparent"),u.push("hover:bg-ds-super-200","active:bg-ds-super-300");break;case"link-light":u.push("text-ds-light-500","bg-transparent","border-transparent"),u.push("hover:bg-ds-light-500-30","active:bg-ds-light-500-10");break;case"link-dark":u.push("text-ds-dark-400","bg-transparent","border-transparent"),u.push("hover:bg-ds-dark-500-5","active:bg-ds-dark-500-10");break;case"light-bg":u.push("text-ds-dark-400","bg-ds-dark-500-5","border-ds-dark-500-20"),u.push("hover:bg-ds-dark-500-5","hover:border-ds-dark-500-20","active:bg-ds-dark-500-10","active:border-ds-dark-500-20");break;case"unstyled":break;case"primary":default:u.push("text-ds-dark-400","bg-ds-light-500","border-ds-dark-500-20"),u.push("hover:bg-ds-light-300","active:bg-ds-light-200");break}return u}),i=T(()=>{let u="";if(n.value)switch(t.size){case"small":u="text-base";break;case"large":u="text-xl sm:text-2xl";break;case"default":default:u="text-base sm:text-xl";break}else switch(t.size){case"small":u="px-3 py-1 text-xs sm:text-sm";break;case"large":u="px-4 py-2 text-base sm:text-xl";break;case"default":default:u="px-3 py-1 sm:py-2 text-sm sm:text-base";break}return u}),r=T(()=>{if(t.isFullWidth)return"w-full";if(n.value)switch(t.size){case"small":return"w-6 sm:w-8 h-6 sm:h-8";case"large":return"w-10 sm:w-12 h-10 sm:h-12";case"default":default:return"w-8 sm:w-10 h-8 sm:h-10"}return"w-fit"}),c=T(()=>{if(t.isDisabled)return t.type==="secondary"?{default:"rgba(255,255,255,0.2)",hover:"rgba(255,255,255,0.2)"}:{default:"#B9B9B9",hover:"#B9B9B9"};switch(t.type){case"super":return{default:"#CE8602",hover:"#CF9C36"};case"secondary":return{default:"rgba(255,255,255,0.1)",hover:"rgba(255,255,255,0.2)"};case"other":return{default:"#6F459B",hover:"#8D66AF"};case"tertiary":return{default:"rgba(0, 0, 0, 0.25)",hover:"rgba(0, 0, 0, 0.5)"};case"primary":default:return{default:"#CECECE",hover:"#C3C3C3"}}});return(u,l)=>(Ae(),ze("button",{"aria-label":u.ariaLabel,class:Wt(["box-border select-none font-bold border text-center disabled:cursor-auto",[o.value,i.value,r.value,u.isFloating?"rounded-lg":"rounded",{floatingButton:u.isFloating,"mb-1":u.isFloating,"cursor-pointer":!u.isDisabled,pressed:u.isFloating&&!u.isDisabled&&u.isPressed,"flex justify-center items-center":n.value}]]),disabled:u.isDisabled,style:Aa({"--fb-default-bg":c.value.default,"--fb-hover-bg":c.value.hover}),"data-testid":u.testId,onKeyup:l[0]||(l[0]=bd(p=>u.$emit("onClick"),["enter","space"])),onClick:l[1]||(l[1]=p=>u.$emit("onClick"))},[u.licon?(Ae(),ze("i",{key:0,class:Wt([u.licon,u.size==="large"?"mr-2":"mr-1",{"!mr-0":n.value}])},null,2)):it("",!0),Va(u.$slots,"default",{},void 0,!0),u.ticon?(Ae(),ze("i",{key:1,class:Wt([u.ticon,u.size==="large"?"ml-2":"ml-1",{"!ml-0":n.value}])},null,2)):it("",!0)],46,Of))}}),Hs=(e,t)=>{const s=e.__vccOpts||e;for(const[n,a]of t)s[n]=a;return s},kf=Hs(Pf,[["__scopeId","data-v-064489bb"]]),bf="modulepreload",Nf=function(e){return"https://cf.quizizz.com/assets/v3/j/scripts/"+e},hl={},xe=function(t,s,n){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.all(s.map(r=>{if(r=Nf(r),r in hl)return;hl[r]=!0;const c=r.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${u}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":bf,c||(l.as="script",l.crossOrigin=""),l.href=r,i&&l.setAttribute("nonce",i),document.head.appendChild(l),c)return new Promise((p,d)=>{l.addEventListener("load",p),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})}))}return a.then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Yd={DEV:"development",PROD:"production",TEST:"test"},Ke={NodeEnvs:Yd,BundleLocations:{NONE:"none",LOCAL:"local"},BackendEnvs:{DEV:"dev",STAGING:"staging",PROD:"prod",LOCAL:"local"},localBackendEnvOptions:{QUIZIZZ_REPO_GAME_BUNDLE_LOCATION:"../quizizz/assets/mobile/",QUIZIZZ_REPO_GAME_FILE_CONFIG_LOCATION:"../quizizz/src/paths/mobile.json"},UploadDetails:{STATIC_SERVER_BASE_LOCATION:"https://cf.quizizz.com",JS_ASSETS_PATH:"assets/scripts/mobile",TRANLSATION_ASSETS_PATH:"assets/translations/game",BUILD_META_PATH:"assets/buidMeta"},OutputDirs:{DIST:"dist",DIST_TEMP:"dist/temp",DIST_BUILD:"dist/build",DIST_UPLOAD:"dist/upload"},OutputFileNames:{MAIN:"bundle",STATS:"stats",BUILD_INFO:"buildInfo"},TRANSLATIONS_FOLDER_NAME:"translations"},Xt={getCookie:e=>{const t={};return document.cookie.split(";").forEach(s=>{const[n,a]=s.split("=");t[n.trim()]=a}),t[e]},setCookie:(e,t)=>{Object.keys(t).forEach(n=>{let a=new Date;a=new Date(a.getTime()+1e3*e);const o=`${n} = ${t[n]}; expires=' + ${a.toUTCString()}; path=/;`;document.cookie=o})}},Qi="default",lw=4e3,ho={TEACHER_SCHOOL:"teacher_school",TEACHER_UNIVERSITY:"teacher_university",TEACHER:"teacher",STUDENT:"student",OTHER:"other",CORPORATE:"corporate",CORPORATE_TEACHER:"corporate_teacher",CORPORATE_LEARNER:"corporate_learner"},zs={LIVE_PRESENTATION:"pres_tp",SOLO_PRESENTATION:"pres_solo",ASYNC_PRESENTATION:"pres_async",FLASHCARD:"flashcard",FLASHCARD_ASYNC:"flashcard_async"},Ct={WAITING:"waiting",RUNNING:"running",COMPLETED:"completed",STOPPED:"stopped",SCHEDULED:"scheduled",PAUSED:"paused",ARCHIVED:"archived"},dw={RECENT:"recent",RUNNING:"running",COMPLETED:"completed",FEATURED:"featured",MY_QUIZZES:"myQuizzes",SEARCH:"search",RECOMMENDATION_HOME_LIST:"featuredRecommendation",RECOMMENDATION_TOPICS_PAGE:"featuredRecommendationTopic"},rt={CLASSIC:"classic",COSMIC_PICNIC:"cosmic-picnic",SYNTHWAVE:"synthwave",DOGSVILLE:"dogsville",THE_8_BIT:"the8Bit",ANIME:"anime",FOOTBALL:"football",SNS:"sns",MYSTIC_PEAK:"mystic-peak",HALLOWEEN:"halloween2024"},mw={[rt.CLASSIC]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.COSMIC_PICNIC]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.SYNTHWAVE]:{progress:"icon-far-sun-haze",end:"icon-fas-flag-checkered"},[rt.DOGSVILLE]:{progress:"icon-far-paw-alt",end:"icon-fas-flag-checkered"},[rt.THE_8_BIT]:{progress:"icon-far-computer-classic",end:"icon-fas-flag-checkered"},[rt.ANIME]:{progress:"icon-fas-hood-cloak",end:"icon-fas-flag-checkered"},[rt.FOOTBALL]:{progress:"icon-fas-football-ball",end:"icon-fas-flag-checkered"},[rt.SNS]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.MYSTIC_PEAK]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"},[rt.HALLOWEEN]:{progress:"icon-fas-running",end:"icon-fas-flag-checkered"}},_t={THREE_IN_ROW:"threeRow",SEVEN_IN_ROW:"sevenRow",TEN_IN_ROW:"tenRow",COMEBACK:"comeback",TOO_FAST:"tooFast",HALFWAY:"halfway",PERFECT:"perfect",CORRECT:"correct",INCORRECT:"incorrect"},Wc={GENERAL:"general",SPECIAL:"special"},_l={MCQ:3,MSQ:3,OPEN:4,WORDCLOUD:4,BLANK:4,SLIDE:3,SLIDEV2:2,DRAW:2,AUDIO:2,VIDEO:2,MATCH:2,REORDER:2,DRAGNDROP:3,DROPDOWN:3,EQUATION:3,GRAPHING:2,DND_IMAGE:3,HOTSPOT:3,CLASSIFICATION:2,COMPREHENSION:3,COMPREHENSION_VIDEO:3,FLASHCARD:2},pw=[{issueIcon:"https://cf.quizizz.com/img/RaiseHands/help-icon-3x.png",issueText:"I need help"},{issueIcon:"https://cf.quizizz.com/img/RaiseHands/time-icon-3x.png",issueText:"I need more time"}],ia={KILLED:"killed",INACTIVE:"inactive",BACKGROUND:"background",ACTIVE:"active"},ya=[{lang:"English",locale:"en",flag:"https://cf.quizizz.com/img/flag_icons/us.png"},{lang:"Español",locale:"es",flag:"https://cf.quizizz.com/img/flag_icons/es.png"},{lang:"Français",locale:"fr",flag:"https://cf.quizizz.com/img/flag_icons/fr.png"},{lang:"Polski",locale:"pl",flag:"https://cf.quizizz.com/img/flag_icons/pl.png"},{lang:"Русский",locale:"ru",flag:"https://cf.quizizz.com/img/flag_icons/ru.png"},{lang:"Bahasa Indonesia",locale:"id",flag:"https://cf.quizizz.com/img/flag_icons/id.png"},{lang:"Melayu",locale:"ms",flag:"https://cf.quizizz.com/img/flag_icons/my.png"},{lang:"Filipino",locale:"tl",flag:"https://cf.quizizz.com/img/flag_icons/ph.png"},{lang:"Deutsch",locale:"de",flag:"https://cf.quizizz.com/img/flag_icons/de.png"},{lang:"Tiếng Việt",locale:"vi",flag:"https://cf.quizizz.com/img/flag_icons/vn.png"},{lang:"ไทย",locale:"th",flag:"https://cf.quizizz.com/img/flag_icons/th.png"},{lang:"Azərbaycan",locale:"az",flag:"https://cf.quizizz.com/img/flag_icons/az.png"},{lang:"Português",locale:"pt-br",flag:"https://cf.quizizz.com/img/flag_icons/br.png"},{lang:"한국인",locale:"ko",flag:"https://cf.quizizz.com/img/flag_icons/kr.png"},{lang:"中文（简体）",locale:"zh-CN",flag:"https://cf.quizizz.com/img/flag_icons/cn.png"},{lang:"繁體 ",locale:"zh-TW",flag:"https://cf.quizizz.com/img/flag_icons/tw.png"},{lang:"Türk",locale:"tr",flag:"https://cf.quizizz.com/img/flag_icons/tr.png"},{lang:"Italiano",locale:"it",flag:"https://cf.quizizz.com/img/flag_icons/it.png"},{lang:"日本語",locale:"ja",flag:"https://cf.quizizz.com/img/flag_icons/ja.png"},{lang:"қазақша",locale:"kk",flag:"https://cf.quizizz.com/img/flag_icons/kz.png"}],gw={NONE:"",RECONNECTING:"reconnecting",RECONNECTED:"reconnected"},Yc={APP:"app",WEB:"web"},Us={NOT_SENT:"not_sent",SENDING:"sending",SENT:"sent"},Zo={PRE_GAMEOVER:"pre_gameover",ON_EXIT:"on_exit",ON_UNLOAD:"on_unload"},Df=60,Ft={PHONE:"mobile",TABLET:"tablet",DESKTOP:"desktop"},ai={IN_PROGRESS:"inProgress",DONE:"done"},_r={MAX_ATTEMPTS:12,MAX_RUNNING_GAMES:8,MAX_COMPLETED_GAMES:6,MIN_ATTEMPTS:3},co={DONE:"done",FAILED:"failed",SUCCESS:"success"},fw=6,hw={MATHEMATICS:"Mathematics",ENGLISH:"English",HISTORY:"History",GEOGRAPHY:"Geography",BIOLOGY:"Biology",PHYSICS:"Physics",SCIENCE:"Science"},vr=3,Lf=24,Ks={NONE:"none",GROUP_CREATION:"groupCreation",ONLY_ASSIGNED:"onlyAssigned"},vo={FROM_LINK:"fromLink",FROM_GAME_CODE:"fromGameCode",FROM_CLASS_CODE:"fromClassCode"},_w={"primary school":[0,1,2,3,4,5],"middle school":[6,7,8],"high school":[9,10,11,12],university:[13]},vw=[{key:0,value:"Kindergarten"},{key:1,value:"1st Grade"},{key:2,value:"2nd Grade"},{key:3,value:"3rd Grade"},{key:4,value:"4th Grade"},{key:5,value:"5th Grade"},{key:6,value:"6th Grade"},{key:7,value:"7th Grade"},{key:8,value:"8th Grade"},{key:9,value:"9th Grade"},{key:10,value:"10th Grade"},{key:11,value:"11th Grade"},{key:12,value:"12th Grade"},{key:13,value:"University"}],Kd=[6,7,8,10],zf={DESKTOP_LARGE:12,DESKTOP:12,TABLET:12,MOBILE:12},Ea={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Ew={REPLAY:"replay",PRACTICE:"practice",COMPLETE:"complete",START:"start",CANCEL_ICON:"cancel_icon",CANCEL_OUTSIDE:"cancel_outside",START_GROUP_ASSIGNED:"start_group_assigned",START_CHALLENGE_GAME:"start_challenge_game",REPLAY_CHALLENGE_GAME:"replay_challenge_game"},un={QUIZ_INFO:"QUIZ_INFO",AUTH:"AUTH",APP_SETTINGS:"APP_SETTINGS",AVATAR_PICKER:"AVATAR_PICKER",GROUP_JOIN:"GROUP_JOIN",GAME_ASSIGNED_NOTIF:"gameAssigned",IMAGE_ZOOM_PREVIEW:"IMAGE_ZOOM_PREVIEW",REPORT_AD:"REPORT_AD",POWERUP_DRAWER:"POWERUP_DRAWER",USER_SURVEY:"USER_SURVEY",SOLO_PRESENTATION_ONBOARDING:"SOLO_PRESENTATION_ONBOARDING",CHALLENGE_REPLAY_NOTIF:"CHALLENGE_REPLAY_NOTIF",PRESENTATION_SURVEY:"PRESENTATION_SURVEY",CLASS_CODE:"CLASS_CODE",GAME_CHANGER_CERTIFICATE:"GAME_CHANGER_CERTIFICATE",QUIZIZZ_AI_CERTIFICATE:"QUIZIZZ_AI_CERTIFICATE",INNOVATOR_CERTIFICATE:"INNOVATOR_CERTIFICATE",LMS_AUTH:"LMS_AUTH"},Aw=6,gc={MIN_DESKTOP_WIDTH:1025,MIN_DESKTOP_HEIGHT:768,MAX_TABLET_WIDTH:1024,MIN_TABLET_WIDTH:576,MIN_SMARTPHONE_WIDTH:360},wn={CREATED:"created",RUNNING:"running",COMPLETED:"completed"},qr={REDIRECT_TO_LOGIN:"REDIRECT_TO_LOGIN",REDIRECT_TO_LOGIN_FROM_SUMMARY:"REDIRECT_TO_LOGIN_FROM_SUMMARY",REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME:"REDIRECT_TO_LOGIN_FROM_DUPLICATE_NAME",REDIRECT_TO_SIGNUP:"REDIRECT_TO_SIGNUP",REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN:"REDIRECT_TO_SIGNUP_FROM_USER_DROPDOWN",REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING:"REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING",REDIRECT_TO_SIGNUP_FROM_HEADER:"REDIRECT_TO_SIGNUP_FROM_HEADER",REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES:"REDIRECT_TO_SIGNUP_FROM_HEADER_CLASSES",REDIRECT_TO_SIGNUP_FROM_HEADER_FLASHCARDS:"REDIRECT_TO_SIGNUP_FROM_HEADER_FLASHCARDS",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO_MOBILE",REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO:"REDIRECT_TO_SIGNUP_FROM_PROFILE_HERO",REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE:"REDIRECT_TO_SIGNUP_FROM_ACTIVITY_MOBILE",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK",REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY:"REDIRECT_TO_SIGNUP_FROM_SUMMARY_CREATE_ACTIVITY",REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE:"REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE",REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME:"REDIRECT_TO_SIGNUP_FROM_LOCKED_THEME"},Gf=2e3,Mf={ANDROID:"android",IOS:"ios"},vl={ANDROID:"quizizzgame://open/",IOS:"quizizz://"},Tw={LARGE:"large",MEDIUM:"medium",SMALL:"small"},ha={BASE:600,TIMER:400,TIMER_WHEN_REDEMPTION:0},qi={ORIGINAL:"original",REDEMPTION:"redemption",EXTRA_LIFE:"extraLife",REATTEMPT:"reattempt"},mn={ATTEMPTED:"attempted",TIMED_OUT:"timedOut",ATTEMPTED_SILENTLY:"attemptedSilently",SEEN:"seen",DRAFT:"draft",AUTO_ATTEMPTED:"autoAttempted",PASSED:"passed"},Ua={PARTIALLY_CORRECT:"PARTIALLY_CORRECT",INCORRECT:"INCORRECT",CORRECT:"CORRECT"},yw={a:97},ki={RETRACTION_THRESHOLD:450,FIRST:{START:1,END:3},SECOND:{START:4,END:6},THIRD:{START:7,END:9}},po={IN_PROGRESS:"IN_PROGRESS",UTILISED:"UTILISED"},Gt={ExtraLife:{ENABLED:"ENABLED",DISABLED:"DISABLED"},Redemption:{NO:"no",YES:"yes"},hasRedemptionPass:{NO:"no",YES:"yes"},Powerups:{NO:"no",YES:"yes"},StudentLeaderboard:{YES:!0,NO:!1},ShowAnswers:{NEVER:"never",ALWAYS:"always",PARTIAL:"partial"},StudentQuizReview:{YES:"yes",QONLY:"qonly",NO:"no"},Timer:{OFF:"off",CLASSIC:"classic",STRICT:"strict"},BreakRoom:{YES:!0,NO:!1},Practice:{V1:"v1",V2:"v2",NO:"no"},IsDuelEnabled:{YES:!0,NO:!1},ShowAvatarCustomizationSurvey:{YES:!0,NO:!1}},xf=[{code:"en",name:"English"},{code:"es",name:"Spanish; Castilian"},{code:"pl",name:"Polish"},{code:"fr",name:"French"},{code:"zh",name:"Chinese"},{code:"ms",name:"Malay"},{code:"id",name:"Indonesian"},{code:"th",name:"Thai"},{code:"nl",name:"Dutch"},{code:"de",name:"German"},{code:"pt",name:"Portuguese"},{code:"ar",name:"Arabic"},{code:"it",name:"Italian"},{code:"ru",name:"Russian"},{code:"he",name:"Hebrew (modern)"},{code:"et",name:"Estonian"},{code:"tr",name:"Turkish"},{code:"ca",name:"Catalan; Valencian"},{code:"sv",name:"Swedish"},{code:"hu",name:"Hungarian"},{code:"fi",name:"Finnish"},{code:"ja",name:"Japanese"}],Vn={AWARDED:"AWARDED",ACTIVATED:"ACTIVATED",ARCHIVED:"ARCHIVED"},fa={ACTIVATED:"ACTIVATED",DESTROYED:"DESTROYED"},Ur={POSITIVE:"positive",NEGATIVE:"negative",ACTIVATOR:"activator"},Iw={MAIN_HEADER:"MainHeader",FILTER_COMPONENT:"FilterComponent",BROWSER_LOAD:"BrowserLoad",ON_SEARCH_NAVIGATION:"OnSearchNav"},Er={PERFECT:"PERFECT",GOOD:"GOOD",AVERAGE:"AVERAGE",POOR:"POOR"},fc={SOLO_START:"solo_start",RUNNING_START:"running_start",CHALLENGE_START:"challenge_start"},Jd={PLAY_APIS:"v2"},Y={MCQ:"MCQ",MSQ:"MSQ",BLANK:"BLANK",OPEN:"OPEN",DRAW:"DRAW",CONTENT_SLIDE:"SLIDE",CONTENT_SLIDE_V2:"SLIDEV2",AUDIO:"AUDIO",VIDEO:"VIDEO",REORDER:"REORDER",MATCH:"MATCH",DRAGNDROP:"DRAGNDROP",DROPDOWN:"DROPDOWN",EQUATION:"EQUATION",DND_IMAGE:"DND_IMAGE",HOTSPOT:"HOTSPOT",GRAPHING:"GRAPHING",WORDCLOUD:"WORDCLOUD",CLASSIFICATION:"CLASSIFICATION",COMPREHENSION:"COMPREHENSION",COMPREHENSION_VIDEO:"COMPREHENSION_VIDEO",FLASHCARD:"FLASHCARD"},Sn={VISIBLE:"VISIBLE",COLLAPSED:"COLLAPSED",HIDDEN:"HIDDEN"},Ff={WORDCLOUD:"word_cloud",BLANK:{SINGLE_BLANK:"single_blank",BOX:"box"}},Sw={TargetOptionObject:"TargetOptionObject",OptionObject:"OptionObject",Latex:"Latex",PlotObject:"PlotObject",Media:"Media"},Qf={Answer:"Answer",Upload:"Upload"},El={STRING:"string",NUMBER:"number",LATEX:"latex"},es={NONE:"none",FULL:"full",PARTIAL:"partial"},qf={TITLE_SUBTITLE:"TITLE_SUBTITLE",TITLE_PARA:"TITLE_PARA",TITLE_BULLETS:"TITLE_BULLETS",MEDIA_SUBTITLE:"MEDIA_SUBTITLE",TITLE_PARA_MEDIA:"TITLE_PARA_MEDIA",TITLE_BULLETS_MEDIA:"TITLE_BULLETS_MEDIA",EMBED_WEBPAGE:"EMBED_WEBPAGE"},Rw={YOUTUBE:"youtube",IMAGE:"image",AUDIO:"audio",VIDEO:"video"},dn={INACTIVE:"inactive",ACTIVE:"active",WAITING:"waiting",REVEAL:"reveal",COMPLETED:"completed"},$a={QUIZ:"quiz",PRESENTATION:"presentation",FLASHCARD:"flashcard"},Cw={SOLO_PRESENTATION:"sp",THEME_STREAK:"ts",POWERUP:"pu",PRESENTATION_SURVEY:"ps"},hc={GAME_HEADER:{STANDARD:"standard",MINIMAL:"minimal"}},ww={IMG_MOBILE:"https://cf.quizizz.com/game/img/misc/bvz_artwork_mobile.png",IMG_TABLET:"https://cf.quizizz.com/game/img/misc/bvz_artwork_tablet.png",IMG_DESKTOP:"https://cf.quizizz.com/game/img/misc/bvz_artwork_desktop.png",IMG_MOBILE_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_mobile.png",IMG_TABLET_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_tablet.png",IMG_DESKTOP_NO_CTA:"https://cf.quizizz.com/img/Upsells/bvz/bvz_no_cta_desktop.png",SHOULD_SHOW_BANNER:!1},Eu="me",aa={START:"start",PAUSE:"pause",RESTART:"restart",RESET:"reset",FREEZE:"freeze"},uo={SHOW_CANVAS:"canvas/show",HIDE_CANVAS:"canvas/hide",CLEAR_CANVAS:"canvas/clear",CLEAR_ALL_CANVAS:"canvas/clearAll",UPDATE_CANVAS:"canvas/update",CREATE_ELEMENT:"element/create",UPDATE_ELEMENT:"element/update",DELETE_ELEMENT:"element/delete",ENABLE_PLAYER_CANVAS:"player/canvas/enable",DISABLE_PLAYER_CANVAS:"player/canvas/disable",REFRESH_HOST_CANVAS:"host/canvas/refresh",REFRESH_PLAYER_CANVAS:"player/canvas/refresh"},Fo={NIL:-1,START:0,Powerups:[[1,2,3],[4,5,6],[7,8,9]],Indices:{POPPING_IN:0,TRANSLATE_DOWN:1,DONE:2}},Ow={A:["A","À","Á","Â","Ã","Ä","Å","Ā"],C:["C","Ç","Ć","Č"],E:["E","È","É","Ê","Ë","Ē","Ė","Ę"],I:["I","Ì","Í","Î","Ï","Ī","Į"],N:["N","Ñ","Ń"],O:["O","Ò","Ó","Ô","Õ","Ö","Ō"],S:["S","Ś","Š"],U:["U","Ù","Ú","Û","Ü","Ū"],Y:["Y","Ÿ"],Z:["Z","Ź","Ż","Ž"]},Uf={POST_ANSWER:"postAnswer",WHILE_ANSWERING:"whileAnswering",PRE_QUESTION:"preQuestion"},Bf={TWO_POINT_ZERO:"2.0",ONE:1},Au={ROUTE_NAVIGATION:"routeNavigation"},En={DEFAULT:"DEFAULT",ERROR:"ERROR",SUCCESS:"SUCCESS",ALERT:"ALERT"},Pw={discoveryFlag:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-flag.png",discoveryTicks:"https://cf.quizizz.com/img/ReviewAndSubmit/review-discovery-ticks.png",flagSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_selected.png",flagUnSelected:"https://cf.quizizz.com/img/ReviewAndSubmit/flag_unselected.png"},kw=500,Mi={DEFAULT_THEME:rt.CLASSIC},Qo={GAME_STATUS:{NOT_STARTED:"not_started",STARTED:"started",COMPLETED:"completed",INCOMPLETE:"incomplete"},SCREENS:{PRE_COURSE_GAME:"pre_course_game",POST_COURSE_GAME:"post_course_game"}},Gn={ANSWER_LATER_RESPONSE_STATES:[mn.DRAFT,mn.SEEN],ANSWER_LATER_BTN:{TOOLTIP_SEEN:"answer_later_tooltip_seen",REATTEMPT_TOOLTIP_SEEN:"answer_later_reattempt_tooltip_seen"},REVIEW_AND_SUBMIT_RESPONSE_STATES:[mn.ATTEMPTED,mn.DRAFT,mn.SEEN],MASTERY_MODE_ANIMATION_PRESETS:{IN_GAME:"IN_GAME",INITIAL:"INITIAL",INCREASED:"INCREASED",DECREASED:"DECREASED",ACHIEVED_WITH_UNSEEN:"ACHIEVED_WITH_UNSEEN",ACHIEVED_WITH_SEEN:"ACHIEVED_WITH_SEEN"},MASTERY_MODE_REATTEMPTS:{unlimited:"unlimited",1:1,2:2},MASTERY_PEAK_TIMER:30*1e3,PAID_ORG_TO_EXCLUDE_SUMMY_RECOMM:["63fde5f98012205a06887f62"]},bw={DEGREE:"degree",RADIAN:"radian"},Hf=[{id:"taylor_swift",text:"Taylor Swift"},{id:"michael_jackson",text:"Michael Jackson"},{id:"bts",text:"BTS"},{id:"harry_styles",text:"Harry Styles"},{id:"the_weeknd",text:"The Weeknd"},{id:"zach_bryan",text:"Zach Bryan"},{id:"boygenius",text:"boygenius"},{id:"beyonce",text:"Beyoncé"},{id:"olivia_rodrigo",text:"Olivia Rodrigo"},{id:"lana_del_rey",text:"Lana Del Rey"}],Vf=20,jf=[Y.MCQ,Y.MSQ,Y.BLANK,Y.OPEN,Y.MATCH,Y.REORDER,Y.DRAGNDROP,Y.DROPDOWN,Y.CLASSIFICATION,Y.EQUATION],Xd="673b8cf6d0426ac509a07a27",Zd="671bf34344891c0d6d936bf0",em="670d4f74d0b74b44fe273990",tm="67251cf93f577f777b80808a",Nw=[Xd,Zd,em,tm],Dw={[Xd]:{url:"https://cf.quizizz.com/image/innovator_ela.png",home:"https://quizizz.com/home/courses/ela-innovator-course?lng=en"},[tm]:{url:"https://cf.quizizz.com/image/innovator_math.png",home:"https://quizizz.com/home/courses/math-innovator-course?lng=en"},[em]:{url:"https://cf.quizizz.com/image/innovator_science.png",home:"https://quizizz.com/home/courses/science-innovator-course?lng=en"},[Zd]:{url:"https://cf.quizizz.com/image/innovator_ss.png",home:"https://quizizz.com/home/courses/social-studies-innovator-course?lng=en"}},Lw=[{label:"Spanish",value:"es"},{label:"Bahasa Indonesia",value:"id"},{label:"Vietnamese",value:"vi"},{label:"Russian",value:"ru"},{label:"Hindi",value:"hi"},{label:"Arabic",value:"ar"},{label:"Chinese (Simplified)",value:"zh"},{label:"Chinese (Traditional)",value:"zh_TW"},{label:"Korean",value:"ko"},{label:"Japanese",value:"ja"},{label:"Malay",value:"ms"},{label:"French",value:"fr"},{label:"Portuguese",value:"pt"},{label:"Irish",value:"ga"},{label:"Haitian Creole",value:"ht"},{label:"Punjabi",value:"pa"},{label:"Urdu",value:"ur"},{label:"Hmong",value:"hmn"},{label:"Ukrainian",value:"uk"},{label:"Polish",value:"pl"},{label:"Romanian",value:"ro"},{label:"German",value:"de"},{label:"Gujarati",value:"gu"}],Ui={DEFAULT:"default",FOLLOWUP_QUIZ:"followupQuiz"},sm=["/join","/join/dashboard","/join/avatar-shop"];class $f{constructor(){We(this,"windowStorage");this.windowStorage=window.localStorage}isPresent(){return!!(window.localStorage&&Gs(window.localStorage.getItem)&&Gs(window.localStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,s={parseFromJSON:!0,removeItemOnError:!1}){s=$n(s,{parseFromJSON:!0,removeItemOnError:!1});try{const n=this.windowStorage.getItem(t);return s.parseFromJSON?JSON.parse(n):n}catch{s.removeItemOnError&&this.removeItem(t)}}setItem(t,s,n={storeAsJSON:!0}){n=$n(n,{storeAsJSON:!0});try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.windowStorage.setItem(t,a)}catch{}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const Rs=new $f;class Wf{constructor(){We(this,"windowStorage");this.windowStorage=window.sessionStorage}isPresent(){return!!(window.sessionStorage&&Gs(window.sessionStorage.getItem)&&Gs(window.sessionStorage.setItem))}key(t){return this.windowStorage.key(t)}getItem(t,s={}){s=$n(s,{parseFromJSON:!0,removeItemOnError:!1});try{const n=this.windowStorage.getItem(t);return s.parseFromJSON?JSON.parse(n):n}catch{s.removeItemOnError&&this.removeItem(t)}}setItem(t,s,n={}){n=$n(n,{storeAsJSON:!0});try{const a=n.storeAsJSON?JSON.stringify(s):s;return this.windowStorage.setItem(t,a)}catch{}}removeItem(t){return this.windowStorage.removeItem(t)}clear(){return this.windowStorage.clear()}}const go=new Wf;function Yf(e){return typeof e=="object"&&e!==null}function Kf(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function S(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0}function Pr(e,t){return e!=null&&Object.prototype.hasOwnProperty.call(e,t)}function zw(e,t=1){const s=10**t;return Math.round(e*s)/s}function sn(e){return e===!0||e===!1||Yf(e)&&Kf(e)==="[object Boolean]"}function Al(e){return e==null}var Jf={npm_package_devDependencies__types_node:"18.16.6",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.7 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_RE_SECRET_KEY:"6Ld5MucnAAAAAOx3BubwZWrSqUR5csc0ltZOnHxo",NODE_VERSION:"18.20.7",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"fb5533062c90",YARN_VERSION:"1.22.22",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_user_agent_data_types:"0.4.2",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"2",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",SENTRY_URL:"https://sentry.io",npm_package_dependencies_slide_previews:"workspace:slide-previews",npm_package_devDependencies_sass:"1.62.0",COREPACK_ROOT:"/usr/local/lib/node_modules/corepack",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",Q_BUILD_GOOGLE_PROJECT_ID:"quizizz-org",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.json",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",version:"6e304f4_67baa7ba",npm_package_dependencies_html2canvas:"1.4.1",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",VITE_RE_SITE_KEY:"6Ld5MucnAAAAAMT2r7RrT0GPherTWgUc5Mxx8rzt",COREPACK_ENABLE_DOWNLOAD_PROMPT:"1",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",Q_SENTRY_DSN:"https://f4055af1be6347b5a3b645683a6b50ff@o984659.ingest.sentry.io/4505148554412032",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/usr/app/apps/join/node_modules/.bin:/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node-gyp-bin:/usr/app/node_modules/.bin:/opt/python_env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/.pnpm",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_dependencies_marked:"^15.0.2",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",componentName:"main",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",AWS_ACCOUNT_ID:"399771530480",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_devDependencies_vite_plugin_environment:"1.1.3",commitId:"6e304f4210f4c5f8680f3dda6cc62281d1c9d696",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/usr/app/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",Q_GCLOUD_PROD_CRED_ENV:'{"type":"service_account","project_id":"quizizz-org","private_key_id":"689560b691f67f317cf4236ba52b37dc7ca2d810","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwlHYA7exrEuOe\\nJ4Yb2DwOf8d7h47c4rqrf4Y0oPBgN+cS2kVKTKFwaG28QPNiLxo0lHZRuIPH9tvE\\n9sPeCzuSCFKUwVaan85j50IMiP0qesmK/bLvqXJC/9xZyW/t+4yyRm3ixF2jP+fQ\\nugtZOirI/V/meh1QSbUI0UxYihoA1G41tGs/SqjUn+PFV23rB49mWHJdCXBH3zjl\\n9vBAJBP3zZZ9VGSxwlFjA5/2nPB0FiZ1XEiICl7BbOhvehEdUcvMF20IVAPT9Xxj\\njjzJ52ARYpnyuyI4TWvssd19RWk4qtTNnP/wya860FkMpZlXjQbOqjIK4c0uP6el\\nx/UA+IdFAgMBAAECggEACdHPuCCDB7dOsiJXil/dgx7m/H8e2ji/kb7vOykCBQ/G\\nyV0bAlU9mw8rnw7rmfetmOPyqnu81FdthEgGv2fXgbj1wrD3vHSLmTGokiLiFUUr\\nxQ9zrnE5WfF5kwKpN05IVjelb7lkzanFne1iqS0baP7yINKEo8zdhOaCvN+9L3OJ\\nDObj/1o47YdVWmVGJM1P7/aB7+yQnCVdSmnnlFVQpekhLVpXMltDUQzlG5KML4HK\\nZqjIc1EgoVUxOhziB2RWef4TC97dUqV6pCL2AOFKxzW2A2yesEV4L+RgqkCJk1H9\\n6/8LZprS63E8a4RGJlWOdFEhrqXAw8xhOUkpFdz1AQKBgQDnBPUinD9DQUxuv7U6\\nIQ1EhwVpJ2jDy/Vf/5g/NpwycW0BLUwxfIP1LHLhrv5DSAVkMGpx35IpDppQjNhy\\nmUful/9HpkymwzM9LFQ8BQYDWENZ3xZuldK+kD5gAKitxCakOXn04fT00qQNgX9R\\nig2Rh52yajyT06iGXFXDf2U2gQKBgQDDrITrRGB57aPSvrbr0eITtmBsm569XNUz\\nSGpIN90EPn/Vy/lpEgUHp2VJd92hiwkS4GEPcUDTtmrgJMrXf59im0cHx4kxnpfM\\n0TEShDx0vvz0xFRw+1xD1LzI2SSYEBB7mU1WLBJCV92h/qZ2QsD5csTZ1bfqL8Rm\\nZOtNEyaWxQKBgQCS0v/JQ2yhnfqp2IWhsCfyia3Sqw1Wg2Yr4RIt+tNC6/vPZ66p\\nNO3ZAKry7HkE4d0rU+oS/XizR2ikER/vlaO17Dx+mR7WTfFey7Gtg7PSpGIJ2FM1\\nbVtHaf16nnCWH7g/X5g3HvTENKu3ObplZExDVeHP5t0hRsAwxLZtTaZSAQKBgQCB\\nCsENtqY5QrMLRKK1mlCR13B3r5lcIGCp1VPiFJU5O05q3H27ARs4FPkDHn2XD24I\\neNkJqhKqjF6nOxxaSdv+15BcXQbpJkHN3ReTsol8JIgFk4Rsjhgm06E8g5dSgSWd\\nnVgXQDE6d1++eYWl8Bf7aejQD9WeJ6pKLLvQtJR6UQKBgAoVdYrKHcxuFvZn7mTa\\ngdF9xaDJ5QO8nExvzDCZclGENhQEhYDRY2LPSwua/GdFp1dlNvF7mcCYM9AQ71wi\\nwjgTpgmDWVAhlHiwgXdZpaF4T1iR2z5fSYrXNCnHuBLpepEHOCUU9hWzQf1Kxov/\\nJsYdlN8vkfFjI91rbhEHlR1B\\n-----END PRIVATE KEY-----\\n","client_email":"quizizz-org@appspot.gserviceaccount.com","client_id":"114144258260971284008","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://accounts.google.com/o/oauth2/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/quizizz-org%40appspot.gserviceaccount.com"}',npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",Q_SENTRY_AUTH_TOKEN:"f17875a1ca5a4392a703e29271e4e73f55e1705d9c9f48329b6f411af15f128a",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",SENTRY_LOG_LEVEL:"debug",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",npm_package_dependencies_join_icons:"workspace:join-icons",PWD:"/usr/app/apps/join",npm_execpath:"/root/.cache/node/corepack/v1/pnpm/8.6.2/bin/pnpm.cjs",env:"prod",npm_package_dependencies_pinia_logger:"1.3.12",Q_BUILD_ADDRESS:"https://cf.quizizz.com",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/usr/app/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_dependencies_hls_js:"^1.5.17",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/usr/app/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",VITE_ENV_API_E2E_MODE:"false",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const Wr=class Wr{constructor(){We(this,"Q_CONSOLE_LOGGING_ALLOWED_KEY","qgCLAllowed");We(this,"SESSION_STORAGE_LOGS_KEY","qgLogs");We(this,"currentLogSessionId",`s_${Date.now()}`);We(this,"isEnvProd",Yd.PROD==="production");We(this,"isBrowserConsoleLoggingAllowed",!1);this.isBrowserConsoleLoggingAllowed=this.checkIfBrowserConsoleLoggingAllowed()}isStateLogAllowedInProd(){return this.isBrowserConsoleLoggingAllowed}checkIfBrowserConsoleLoggingAllowed(){if(!this.isEnvProd)return!0;if(Jf.DISABLE_PINIA_LOGGER==="true"||!Rs.isPresent())return!1;try{return Rs.getItem(this.Q_CONSOLE_LOGGING_ALLOWED_KEY)===!0}catch(t){return this.isEnvProd||console.error("Error at QLogger checkIfBrowserConsoleLoggingAllowed",t),!1}}warningLog(){setTimeout(console.log.bind(console,"%c%s","color: red; background: yellow; font-size: 24px;","WARNING!")),setTimeout(console.log.bind(console,"%c%s","font-size: 18px;",`Using this console may allow attackers to impersonate you and steal your information using an attack called Self-XSS.
Do not enter or paste code that you don't understand.`))}isSessionLoggingAllowed(){return this.isEnvProd&&go.isPresent()&&Wr.IS_SESSION_STORAGE_ALLOWED}logItems(t,s="info"){if(!this.isBrowserConsoleLoggingAllowed)return;const a=(Array.isArray(t)?t:[t]).map(o=>typeof o=="function"?o():o);console[s](...a)}warn(...t){this.logItems(t,"warn")}error(...t){this.logItems(t,"error")}log(...t){this.logItems(t,"log")}info(...t){this.logItems(t,"info")}logForSession(t,s="info",n={}){n=$n(n,{logToBrowserConsole:!0,numArgsToUseForSessionLog:-1});const a=Array.isArray(t)?t:[t];if(n.logToBrowserConsole&&this.isBrowserConsoleLoggingAllowed&&console[s](...a),this.isSessionLoggingAllowed()){const o=[`[${Fp(s[0])}]`,...a];this._handleUpdatingSessionStorage(o,Date.now(),n)}}invariant(t,s="",n={}){if(t===!0)return;n=$n(n,{logOnSentry:!1,logOnSentryAs:"exception",alsoConsoleLog:!1,numArgsToUseForSessionLog:-1});const a=Array.isArray(s)?s:[s];if(this.isEnvProd){this.logForSession(["Invariant Violation:",...a],"error"),n.logOnSentry&&this.logOnSentry(a,n.logOnSentryAs,"error");return}const o=new Error(...a);throw o.name="Invariant Violation",o.framesToPop=1,n.alsoConsoleLog&&console.error(o),o}_handleUpdatingSessionStorage(t=[],s,n){const a=go.getItem(this.SESSION_STORAGE_LOGS_KEY),o=this._stringifyArrItem(t,n.numArgsToUseForSessionLog),i=this._getCurrentSessionKeyName();let r={};an(a)?(r=a,S(r[i])&&(r[i]={}),r[i][s]=o):r[i]={[s]:o},go.setItem(this.SESSION_STORAGE_LOGS_KEY,r)}_stringifyArrItem(t,s){const n=t.map(o=>typeof o=="string"?o:JSON.stringify(o)),a=typeof s=="number"?s:-1;return a>0?n.slice(0,a):n}_getCurrentSessionKeyName(){return`for_${this.currentLogSessionId}`}logOnSentry(t,s="exception",n="error"){const a=Array.isArray(t)?t:[t];if(this[n](...a),!!this.isEnvProd)switch(s){case"exception":qa(o=>{o.setLevel(n),o.setExtra("forceCapture",!0),o.setExtra("params",t),Fg(new Error(a[0]))});break;case"message":qa(o=>{o.setLevel(n),o.setExtra("forceCapture",!0),o.setExtra("params",t),xg(a[0])});break}}};We(Wr,"IS_SESSION_STORAGE_ALLOWED",!1);let Kc=Wr;const b=new Kc,Xf=(e,t)=>{const s=e[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t)))})},Ar="qGameTranslations";class Zf{constructor(){We(this,"englishLocale");We(this,"currentLanguage");We(this,"allPossibleLangValues");We(this,"configFetchedForLanguages");We(this,"configInStorageForLanguages");We(this,"currentLanguageConfig");We(this,"englishStringsMap");this.englishLocale=Ut(ya,{lang:"English"}).locale,this.currentLanguage=this.englishLocale,this.allPossibleLangValues=Nt(ya,t=>t.locale),this.configFetchedForLanguages={},this.configInStorageForLanguages={},this.currentLanguageConfig={},this.englishStringsMap={},go.setItem(Ar,{})}getTranslation(t,s=[],n=0){const a=String(t);let o=s,i=n;return!ut(n)&&ut(s)&&(i=s,o=[]),this.translate(a,this.currentLanguage,o,i)}async setCurrentLanguage(t){if(b.invariant(!!t,`Translator: invalid language '${t}' provided to setCurrentLanguage`),t===this.englishLocale)return this.englishStringsMap={},this.currentLanguage=t,{success:!0};this.englishStringsMap=await this.getEnglishStringsMap();try{return this.currentLanguageConfig=await this.getTranslationsForLocale(t),this.currentLanguage=t,{success:!0}}catch(s){return b.error(`Translator: error in fetching locale JSON for ${t}`,s),{success:!1}}}isAValidLanguage(t){return t?Jt(this.allPossibleLangValues,t):!1}translate(t,s=this.englishLocale,n=[],a){const o=th(s),i=o&&s!==this.englishLocale,r=!S(this.englishStringsMap);if(s===this.englishLocale||!o||i&&!r)return Tr(t,n);const c=this.currentLanguageConfig;if(!(`${t}`in this.englishStringsMap))return b.warn(`Translator: the string '${t}' does not exist in the englishStringsMap. Falling back to 'en'`),Tr(t,n);const l=this.englishStringsMap[`${t}`];if(li(c)){const p=l in c;return b.invariant(p,`Translator: the string '${t}' does not have a translation for locale '${s}'. Falling back to 'en'`),Tr(p?c[l]:t,n)}return t}async getEnglishStringsMap(){let t={};try{const{default:s}=await xe(()=>import("./en.P0_npvkd.js"),__vite__mapDeps([]));b.invariant(!S(s),"Translator: The file '/translations/en.json' has empty content. No English strings map found."),t=s}catch(s){b.logForSession(["Translator getEnglishStringsMap",s],"error")}return t}async getTranslationsForLocale(t){const s=t in this.configFetchedForLanguages,n=t in this.configInStorageForLanguages;let a;if(s&&n){const o=go.getItem(Ar)||{},i=!S(o)&&t in o;return b.invariant(i,`Translator: translations for locale '${t}' does not exist in translations fetched from session storage`),o[t]}try{a=(await Xf(Object.assign({"../../translations/ar.json":()=>xe(()=>import("./ar.B_IZaYlO.js"),__vite__mapDeps([])),"../../translations/az.json":()=>xe(()=>import("./az.DNJUIZgS.js"),__vite__mapDeps([])),"../../translations/de.json":()=>xe(()=>import("./de.DoYeP-ST.js"),__vite__mapDeps([])),"../../translations/en.json":()=>xe(()=>import("./en.P0_npvkd.js"),__vite__mapDeps([])),"../../translations/es.json":()=>xe(()=>import("./es.B0MutICI.js"),__vite__mapDeps([])),"../../translations/fr.json":()=>xe(()=>import("./fr.g54hywh0.js"),__vite__mapDeps([])),"../../translations/id.json":()=>xe(()=>import("./id.DunmhKdV.js"),__vite__mapDeps([])),"../../translations/it.json":()=>xe(()=>import("./it.BvKNE-8l.js"),__vite__mapDeps([])),"../../translations/ja.json":()=>xe(()=>import("./ja.Me0TEMej.js"),__vite__mapDeps([])),"../../translations/kk.json":()=>xe(()=>import("./kk.DLnUgyXy.js"),__vite__mapDeps([])),"../../translations/ko.json":()=>xe(()=>import("./ko.BWp9d-Vu.js"),__vite__mapDeps([])),"../../translations/ms.json":()=>xe(()=>import("./ms.WIzSk5Mt.js"),__vite__mapDeps([])),"../../translations/nl.json":()=>xe(()=>import("./nl.D8KZ60MK.js"),__vite__mapDeps([])),"../../translations/pl.json":()=>xe(()=>import("./pl.69urRK5Y.js"),__vite__mapDeps([])),"../../translations/pt-br.json":()=>xe(()=>import("./pt-br.C_zbYgGF.js"),__vite__mapDeps([])),"../../translations/ru.json":()=>xe(()=>import("./ru.DbtnCYh9.js"),__vite__mapDeps([])),"../../translations/th.json":()=>xe(()=>import("./th.nnnkm6Z2.js"),__vite__mapDeps([])),"../../translations/tl.json":()=>xe(()=>import("./tl.CxF8TNtf.js"),__vite__mapDeps([])),"../../translations/tr.json":()=>xe(()=>import("./tr.B4mquSYX.js"),__vite__mapDeps([])),"../../translations/vi.json":()=>xe(()=>import("./vi.CLbiHAFI.js"),__vite__mapDeps([])),"../../translations/zh-CN.json":()=>xe(()=>import("./zh-CN.Ch6Cn2Dy.js"),__vite__mapDeps([])),"../../translations/zh-TW.json":()=>xe(()=>import("./zh-TW.DRu9NXLb.js"),__vite__mapDeps([]))}),`../../translations/${t}.json`)).default;const i=!S(a);if(b.invariant(i,`Translator: invalid response on fetching for locale '${t}' at '${a}'`),!i)return{};this.configFetchedForLanguages[t]=!0;const r=go.getItem(Ar)||{};return r[t]=a,go.setItem(Ar,r),this.configInStorageForLanguages[t]=!0,a}catch(o){throw b.logForSession([`Translator: Error at fetching translation file at '${a}'`,o]),o}}}const Ji=new Zf,U=Ji.getTranslation.bind(Ji),eh=Ji.getTranslation.bind(Ji);function Tr(e,t){if(!t)return e;let s=e,n=0;const a=/(\{\$.*?\})/;let o=a.exec(s);for(;o;)t[n]===void 0?s=s.replace(a,""):s=s.replace(a,t[n]),n+=1,o=a.exec(s);return s}function th(e){const t=Nt(ya,s=>s.locale);return Jt(t,e)}const nm=Ot("toasts",()=>{const e=m([]);function t(n){e.value.push(n)}function s(){e.value.shift()}return{toasts:e,shiftToast:s,pushToast:t}});class _o{static add(t){const s=nm(),n=ut(t.time)?t.time:3e3;Ut(s.toasts,a=>a.title===t.title)||(s.pushToast(t),setTimeout(()=>{s.shiftToast()},n))}}const jt={QUES_TEXT:"ques_text",QUES_IMAGE:"ques_image",QUES_VIDEO:"ques_video",QUES_AUDIO:"ques_audio",QUES_HINT:"ques_hint",OPTION_1_TEXT:"op_1_text",OPTION_2_TEXT:"op_2_text",OPTION_3_TEXT:"op_3_text",OPTION_4_TEXT:"op_4_text",OPTION_5_TEXT:"op_5_text",OPTION_6_TEXT:"op_6_text",OPTION_7_TEXT:"op_7_text",OPTION_8_TEXT:"op_8_text",OPTION_9_TEXT:"op_9_text",OPTION_10_TEXT:"op_10_text",OPTION_11_TEXT:"op_11_text",OPTION_12_TEXT:"op_12_text",OPTION_13_TEXT:"op_13_text",OPTION_14_TEXT:"op_14_text",OPTION_15_TEXT:"op_15_text",OPTION_16_TEXT:"op_16_text",OPTION_17_TEXT:"op_17_text",OPTION_18_TEXT:"op_18_text",OPTION_19_TEXT:"op_19_text",OPTION_20_TEXT:"op_20_text",POSITION_1_TEXT:"pos_1_text",POSITION_2_TEXT:"pos_2_text",POSITION_3_TEXT:"pos_3_text",POSITION_4_TEXT:"pos_4_text",POSITION_5_TEXT:"pos_5_text",SLIDE_TITLE_TEXT:"slide_title_text",SLIDE_SUBTITLE_TEXT:"slide_subtitle_text",SLIDE_PARA_TEXT:"slide_para_text",SLIDE_BULLET_TEXT:"slide_bullet_text",SLIDE_IMAGE_TEXT:"slide_image_text",SLIDE_EMBEDED_WEBPAGE:"slide_embeded_webpage"},Tl=[jt.QUES_IMAGE,jt.QUES_VIDEO,jt.QUES_AUDIO,jt.QUES_TEXT,jt.OPTION_1_TEXT,jt.OPTION_2_TEXT,jt.OPTION_3_TEXT,jt.OPTION_4_TEXT,jt.OPTION_5_TEXT,jt.OPTION_6_TEXT,jt.OPTION_7_TEXT,jt.OPTION_8_TEXT,jt.OPTION_8_TEXT,jt.OPTION_10_TEXT,jt.POSITION_1_TEXT,jt.POSITION_2_TEXT,jt.POSITION_3_TEXT,jt.POSITION_4_TEXT,jt.POSITION_5_TEXT,jt.SLIDE_TITLE_TEXT,jt.SLIDE_SUBTITLE_TEXT,jt.SLIDE_PARA_TEXT,jt.SLIDE_IMAGE_TEXT,jt.SLIDE_EMBEDED_WEBPAGE,jt.SLIDE_BULLET_TEXT],Xi=Ot("readAloud",()=>{const e=m({}),t=m(Tl),s=m(!1),n=m(!0),a=m(!0),o=m(1),i=m(""),r=m(""),c=m(0),u=m({});function l(_){Xi().$patch(_)}function p({raId:_,text:v}){if(!_.includes(jt.SLIDE_BULLET_TEXT)&&!Object.values(jt).includes(_)){b.invariant(Object.values(jt).includes(_),`addReadAloudIds: raId '${_}' does not exist in registered ReadAloudIds`);return}e.value[_]=v}function d({raId:_,data:v}){if(!_.includes(jt.SLIDE_BULLET_TEXT)&&!Object.values(jt).includes(_)){b.invariant(Object.values(jt).includes(_),`addTTSIds: raId '${_}' does not exist in registered TTSIds`);return}u.value[_]=v}function g({raId:_}){_ in e.value&&(e.value[_]="")}function f(_){const{order:v}=_;if(v.length===Object.values(jt).length){for(let y=0;y<v.length;y++)if(!Object.values(jt).includes(v[y])){b.invariant(Object.values(jt).includes(v[y]),`setReadAloudinputOrder: '${v[y]}' does not exist in registered ReadAloudIds`);return}t.value=v}else b.invariant(!1,"setReadAloudOrder: order should contains all values from registered ReadAloudIds")}function h(){e.value={}}function E(){u.value={}}function A(){e.value={},t.value=Tl,s.value=!1,n.value=!0,a.value=!0,o.value=1,i.value="",r.value="",c.value=0,u.value={}}return{activeRAIds:e,order:t,isPlaying:s,isDisabled:n,isReadAloudOn:n,willAutoReadAloudQuestion:a,rate:o,currentIdBeingRead:i,highlightedWord:r,highlightedWordIndex:c,activeTTSIds:u,updateReadAloudV2:l,addReadAloudIds:p,addTTSIds:d,removeReadAloudIds:g,setReadAloudOrder:f,flushActiveRAIds:h,flushTTSIds:E,$reset:A}}),Os={AUTH:"auth",CTA:"cta",START_VIDEO_RECORDING:"startVideoRecording",STOP_VIDEO_RECORDING:"closeVideoRecording",SUBMIT_VIDEO_QUESTION:"submitVideoQuestion",START_RA:"startReadAloud",STOP_RA:"stopReadAloud",PAUSE_RA:"pauseReadAloud",RESUME_RA:"resumeReadAloud",UPDATE_CURR_RA_ID:"updateCurrReadAloudId",RA_COMPLETE:"readAloudComplete",UNSUPPORTED_LANG_RA:"unsupportedLangReadAloud",PREGAME_SCREEN_LOADED:"preGameScreenLoaded",FOCUS_MODE_STATUS:"focusModeStatus",RN_APP_STATE_CHANGE:"rnAppStateChange",WINDOW_LOADED:"windowLoaded",SHOW_APP_RATING_MODAL:"showAppRatingModal",UPDATE_INCOMPLETE_GAME:"updateIncompleteGame",UPDATE_GAME_DATA:"updateGameData",SET_THEME_COLOR:"setThemeColor",ENABLE_SINGLE_MODE:"enableSingleMode"},sh={CLOSE:"close"},Ps=!!window.ReactNativeWebView;function on(e){try{window.ReactNativeWebView.postMessage(JSON.stringify(e))}catch{b.info("React Native Context not available")}}async function nh(){const e={type:Os.AUTH};on(e)}function ah(e=sh.CLOSE){const t={type:Os.CTA,action:e};on(t)}function oh(e){Xt.setCookie(86400,{_sid:e});const{search:s,origin:n,pathname:a}=window.location,i=new URLSearchParams(s).get("gc");i&&(window.location.href=`${n}${a}?gc=${i}`)}function am(e){try{const{type:t,value:s}=JSON.parse(e.data),n=Xi();switch(t){case Os.AUTH:oh(s);break;case Os.RA_COMPLETE:n.updateReadAloudV2({isPlaying:!1});break;case Os.UPDATE_CURR_RA_ID:n.updateReadAloudV2({currentIdBeingRead:s});break;case Os.UNSUPPORTED_LANG_RA:_o.add({type:En.DEFAULT,title:U("Language is not supported by your browser, defaulting to English")});break;default:break}}catch{b.error("Error parsing postmessage data")}}function Gw(e){const t={type:Os.START_VIDEO_RECORDING,payload:e};on(t)}function Mw(){const e={type:Os.STOP_VIDEO_RECORDING};on(e)}function xw(e){const t={type:Os.START_RA,payload:e};on(t)}function Fw(){const e={type:Os.STOP_RA};on(e)}function Qw(){const e={type:Os.PAUSE_RA};on(e)}function qw(){const e={type:Os.RESUME_RA};on(e)}function yl(){const e={type:Os.WINDOW_LOADED};on(e)}function Uw(){const e={type:Os.PREGAME_SCREEN_LOADED};on(e)}function ih(e){const t={type:Os.FOCUS_MODE_STATUS,payload:e};on(t)}function Bw(){const e={type:Os.SHOW_APP_RATING_MODAL};on(e)}function Tu(){Ps&&(ah(),window.location.href="/auth/logout?isWebview=true",window.removeEventListener("message",am,!0))}function rh(e){const{game:t,user:s}=e,n={quizId:t.data.quizId,quizName:t.data.quizName,quizImage:t.data.image,grade:t.data.grade,subjects:t.data.subjects,createdAt:t.data.createdAt,isClassroomGame:t.data.isClassroomGame,classroomInfo:t.data.classroomInfo,roomCode:t.data.roomCode,roomHash:t.data.roomHash,gameType:t.data.gameType,expiry:t.data.expiry,numQuestions:t.questions.initSequence.length,numQuesAttempted:Object.keys(t.questions.questionResponses).length,numCorrect:t.player.totalCorrect,accuracy:t.player.accuracy,playerId:t.player.playerId,playerUsername:s.profile.userName},a={type:Os.UPDATE_GAME_DATA,payload:{...n}};on(a)}function ch(e){on({type:Os.UPDATE_INCOMPLETE_GAME,payload:e})}function Il(e){let t="";switch(e){case rt.SYNTHWAVE:t="#7B183E";break;case rt.COSMIC_PICNIC:t="#000000";break;case rt.THE_8_BIT:t="#000000";break;case rt.FOOTBALL:t="#C80E0";break;case rt.ANIME:t="#0C624C";break;case rt.DOGSVILLE:t="#01797A";break;case rt.HALLOWEEN:t="#512878";break;case rt.SNS:t="#230A1F";break;default:t="#510960";break}on({type:Os.SET_THEME_COLOR,payload:{baseColor:t}})}function Hw(){const e={type:Os.ENABLE_SINGLE_MODE};on(e)}Ps&&window.addEventListener("message",am,!0);const as={FEATURED_QUIZ_CLICK:"qg_featured_quiz_click",SEARCH_RESULT_CLICK:"searchEvent_searchItemClick",GAME_CARD_CLICK:"qg_game_card_click",QUIZ_PREVIEW_CTA_CLICK:"qg_quiz_preview_cta_click",USER_NAV_INTERACTED:"qg_user_nav_interacted",SEARCH_SUBMIT:"qg_search_submit",NETWORK_ISSUE:"nh_network_issue",APP_LOADING:"qg_app_loading",SUMMARY_SCREEN:"qg_summary_screen",PLAY_AGAIN_SUMMARY:"ft_summary_play_again",SUMMARY_SHARE_TWITTER:"qg_summary_share_tw",CREATE_QUIZ:"qg_create_quiz",CLASS_INVITE_SHOWN:"qg_class_invite_modal_show",CLASS_INVITE_ACCEPTED:"qg_class_invite_modal_accepted",PRE_GAME_SCREEN_VISITED:"PRE_GAME_SCREEN_VISITED",PRE_GAME_SCREEN_CTA_CLICK:"PRE_GAME_SCREEN_CTA_CLICK",CREATED_QUIZ_SHARE_CLICKED:"qg_created_quiz_share_clicked",JOIN_ROOM:"qg_join_room",LIVE_REACTION_CLICKED:"ft_student_live_reaction_clicked",LIVE_REACTION_HOLD:"ft_student_live_reaction_hold",NPS_FEEDBACK_TRIGGERED:"join_nps_feedback_tiggered",STUDENT_RAISED_HAND:"ft_student_raised_hand",STUDENT_DROPPED_HAND:"ft_student_dropped_hand",STUDENT_RAISE_HAND_INITIATED:"ft_student_raised_hand_init",TEACHER_DROPPED_HAND:"ft_teacher_dropped_hand",SLIDE_INITIAL_STATE:"ft_slide_initial_state",TEACHER_DISABLED_RAISE_HAND:"ft_teacher_disabled_raise_hand",TEACHER_ENABLED_RAISE_HAND:"ft_teacher_enabled_raise_hand",GOOGLE_FONT_LOAD_SUCCEEDED:"ft_google_font_load_succeeded",GOOGLE_FONT_LOAD_FAILED:"ft_google_font_load_failed",FONT_FACE_API_NOT_SUPPORTED:"ft_font_face_api_not_supported",PRESENTATION_SURVEY:"ft_pres_survey",PRESENTATION_MUTE_TOGGLED:"PresoJoinMute",PRESENTATION_RESYNCED:"PresoJoinResync",PRESENTATION_PLAYED_AGAIN:"PresoJoinPlayAgain",PRESENTATION_MOVE_TO_LAST_SLIDE:"PresoJoinLastSlide",SUMMARY_CREATE_ACTIVITY:"ft_summary_create_activity",ONE_TAP_SSO_DISMISS:"qg_google_one_tap_dismiss",ONE_TAP_SSO_SHOW:"qg_google_one_tap_show",ONE_TAP_SSO_LOGIN:"qg_google_one_tap_login",KICKED_OUT_ISSUE:"qg_kicked_out",RESUME_CARD_ISSUE:"qg_resume_card_issue",SKIP_QUESTION_CLICKED:"ft_skip_question_clicked",MEDIA_PERMISSIONS_ERROR:"ft_media_permissions_error",UPLOAD_MEDIA_RESPONSE:"ft_upload_media_response",SUBMIT_MEDIA_RESPONSE:"ft_submit_media_response",INVALID_PHONENUMBER:"searchEvent_invalidPhoneNumber",SESSION_ACTIVE:"tracking/active-time/events",CAN_SHOW_WORK:"ft_sw_can_show_work",SHOW_WORK_UPLOAD_INIT:"ft_sw_upload_init",SHOW_WORK_IMAGE_ERROR:"ft_sw_image_error",TRIGGER_REPLAY_ASYNC:"ft_tra_init",TRIGGER_REPLAY:"ft_tra_replay",TABLE_REPLAY_ASYNC:"ft_tra_table",SHOW_REPLAY_ASYNC_LINK:"ft_tra_show_link",HIDE_REPLAY_ASYNC_LINK:"ft_tra_hide_link",COPY_REPLAY_ASYNC_LINK:"ft_tra_copy_link",COPY_REPLAY_ASYNC_CODE:"ft_tra_copy_code",PLAY_REPLAY_ASYNC:"ft_tra_play",COMPLETE_PASS_1:"rdq_complete_pass_1",SUMBIT_PASS_2_RESPONSE:"rdq_sumbit_pass_2_response",COMPLETE_PASS_2:"rdq_complete_pass_2",SHARE_FLASHCARDS_PREGAME:"share_flashcards_pregame",ANSWER_LATER_TOOLTIP_SEEN:"ft_answer_later_tooltip_seen",ANSWER_LATER_CLICKED:"ft_answer_later_clicked",ANSWER_LATER_RESURFACED:"ft_answer_later_resurfaced",ANSWER_LATER_QUESTION_ATTEMPTED:"ft_answer_later_question_attempted",JOIN_ROOM_EXPIRED:"join_room_expired",TRY_QUIZ_QP_SOLO_GAME_LOADED:"try_quiz_qp_solo_game_loaded",STUDENT_GCL_FLOW_JOIN:"join_gcl_flow_join",STUDENT_ROSTERING_TRIGGERED:"join_student_rostering_triggered",STUDENT_GCL_ROSTERING_SUCCESFULL:"join_student_gcl_rostering_succesfull",STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL:"join_student_schoology_rostering_succesfull",STUDENT_CANVAS_ROSTERING_SUCCESFULL:"join_student_canvas_rostering_succesfull",STUDENT_ROSTERING_NOT_PART_OF_CLASS:"join_student_rostering_not_part_of_class",EMBED_MODE_GAME_STARTED:"embed_mode_game_started",EMBED_MODE_EXPLORE_QUIZIZZ:"embed_mode_explore_cta_click",TEACHER_ONBOARDING_MODAL_OPENED:"teacher_onboarding_modal_opened",TEACHER_ONBOARDING_MODAL_CLOSED:"teacher_onboarding_modal_closed",TEACHER_ONBOARDING_MODAL_NOT_NOW_PRESSED:"teacher_onboarding_modal_not_now_pressed",TEACHER_ONBOARDING_MODAL_CONVERTED:"teacher_onboarding_modal_converted",TEACHER_ONBOARDING_MODAL_FAILED:"teacher_onboarding_modal_failed",QUESTION_MARKED_FOR_REVIEW:"question_marked_for_review",ALL_TAB_SELECT_REVIEW:"all_tab_selected",UNATTEMPTED_TAB_SELECT_REVIEW:"unattempted_tab_selected",FLAGGED_TAB_SELECT_REVIEW:"flagged_tab_selected",QUESTION_UNMARKED_FOR_REVIEW:"question_unmarked_for_review",REVIEW_QUESTION_CANCELLED:"review_question_cancelled",REVIEW_QUESTION_SAVED:"review_question_saved",REVIEW_SCREEN_FINAL_SUBMIT:"review_screen_final_submit",QUESTION_REVIEW_TRIGGERED:"question_review_triggered",REVIEW_TEST_MODAL_SUBMIT:"review_test_modal_submit",REVIEW_TEST_MODAL_GOBACK:"review_test_modal_goBack",FT_MASTERY_START_GAME:"ft_mastery_start_game",FT_MASTERY_SHOW_INITIAL_PROGRESS_BAR:"ft_mastery_show_initial_progress_bar",FT_MASTERY_SHOW_PROGRESS_BAR:"ft_mastery_show_progress_bar",FT_MASTERY_ACHIEVE_MASTERY:"ft_mastery_achieve_mastery",FT_MASTERY_LETS_GO:"ft_mastery_lets_go",FT_MASTERY_END_GAME:"ft_mastery_end_game",FT_MASTERY_SUMMARY_PAGE:"ft_mastery_summary_page",FT_MASTERY_REATTEMPT:"ft_mastery_reattempt",REPORT_WITH_CURRENT_QUESTION_CLICKED:"report_with_current_question_clicked",REPORT_WITH_PREVIOUS_QUESTION_CLICKED:"report_with_previous_question_clicked",REPORT_QUESTION_CANCELLED:"report_question_cancelled",REPORT_QUESTION_SUBMITTED:"report_question_submitted",PATHFINDER_POINTS_UPDATE:"pathfinder_points_update",PATHFINDER_SELECTION:"pathfinder_selection",SLOW_INTERNET_CONNECTION:"slow_internet_connection",SIGNUP_FLOW:"signup_flow",LOGIN_FLOW:"login_flow",SUMMARY_ACCURACY_TOOLTIP:"summary_accuracy_tooltip",SUMMARY_PROGRESS_PERCENT_TOOLTIP:"summary_progress_percent_tooltip",SUMMARY_PROGRESS_PERCENT_MASTERY_TOOLTIP:"summary_progress_percent_mastery_tooltip",PROCEED_GAME_FAILURE:"game_proceed_failure_dialog",BREAKROOM_ENTRY:"breakroom_entry",BREAKROOM_EXIT:"breakroom_exit",BREAKROOM_ROCK_CLICKED:"breakroom_rock_clicked",WAITING_FOR_OTHERS_VIEWED:"waiting_for_others_viewed",PLAY_MINIGAMES_CLICKED:"play_minigames_clicked",REVIEW_ANSWERS_CLICKED:"review_answers_clicked",MINIGAME_SELECTION_CLICKED:"minigame_selection_clicked",REPLAY_MINIGAME_CLICKED:"replay_minigame_clicked",QFW_NAV_CREATE_QUIZ:"qfw_nav_create_quiz",QFW_JOIN_GROUP:"qfw_join_group",QFW_JOIN_GROUP_CONTINUE:"qfw_join_group_continue",QFW_JOIN_PAGE_MOUNT:"qfw_join_page_mount",QFW_ACTIVITIES_FETCHED:"qfw_activities_fetched",QFW_JOIN_QUIZ:"qfw_join_quiz",QFW_JOIN_QUIZ_SUCCESSFUL:"qfw_join_quiz_successful",STRIKE_SHIELD_ACTION:"strike_shield_action",COURSE_JOIN_VIA_CODE_SUCCESS:"course_join_via_code_success",STUDENT_STRIKE_SUMMARY:"student_strike_summary",LIVE_MINIGAME_CLICKED:"live_minigame_clicked",LIVE_MINIGAME_CLOSED:"live_minigame_closed",LIVE_MINIGAME_REPLAYED:"live_minigame_replayed",LIVE_MINIGAME_BTS:"live_minigame_bts",LIVE_MINIGAME_SHOWN:"live_minigame_shown",PLAYER_AVATAR_CLICKED:"student_avatar_clicked",PLAYER_NAME_GENERATOR_CLICKED:"player_name_generator_clicked",PLAYER_POWERUP_SHUFFLE:"powerup_shuffle",PLAYER_READ_TEXT_ALOUD:"player_read_text_aloud",PLAYER_MUSIC_CLICKED:"player_music_clicked",PLAYER_SOUND_EFFECTS_CLICKED:"player_sound_effects_clicked",PLAYER_MEME_CLICKED:"player_meme_clicked",PLAYER_THEME_SELECTED:"player_theme_selected",PLAYER_IDIOMAS:"player_idiomas",PLAYER_MAGNIFIER:"student_magnifier",STUDENT_FORUM_SHOWN:"student_forum_shown",STUDENT_FORUM_CLICKED:"student_forum_clicked",CUSTOMISE_AVATAR_FEEDBACK_SUBMIT:"customise-avatar-feedback-submit",CUSTOMISE_AVATAR_FEEDBACK_CLOSE:"customise-avatar-feedback-close",CUSTOMISE_AVATAR_FEEDBACK_CLICKED:"customise-avatar-feedback-clicked",CUSTOMISE_AVATAR_FEEDBACK_SHOWN:"customise-avatar-feedback-shown",CUSTOMISE_AVATAR_FEEDBACK_NEXT_CLICKED:"customise-avatar-feedback-next-clicked",CUSTOMISE_AVATAR_FEEDBACK_MODAL_CLOSED:"customise-avatar-feedback-modal-closed",PLAYER_SCREEN_TRANSITION_CLICKED:"qg_player_screen_transition_clicked",LANDING_PAGE_SHOW:"qg_landing_page_show",LANDING_DASHBOARD_CTA:"landing_dashboard_cta",LANDING_AVATAR_SHOP_CTA:"landing_avatar_shop_cta",LANDING_JOIN_CLICKED:"qg_landing_join_clicked",LANDING_JOIN_ERROR:"landing_join_error",LANDING_ASSIGNED_ACTIVITIES_SHOW:"qg_landing_assigned_activities_show",LANDING_ASSIGNED_ACTIVITIES_CLICK:"landing_assigned_activities_click",LANDING_ASSIGNED_ACTIVITIES_SEE_ALL:"landing_assigned_activities_see_all",NLE_PAGE_SHOW:"nle_page_show",NLE_JOIN_CLICKED:"nle_join_clicked",NLE_JOIN_ERROR:"nle_join_error",PRACTICE_PAGE_VIEW_ENTRY_POINT:"vm_join_btn_shown",PRACTICE_CLICK_JOIN_ENTRY_POINT:"vm_join_btn_clicked",AVATAR_EDIT_CLICKED:"qg_avatar_edit_clicked",AVATAR_SAVED:"qg_avatar_saved",AVATAR_SHUFFLED:"avatar_shuffled",AVATAR_DOWNLOADED:"avatar_downloaded",AVATAR_ONBOARDING_VIDEO_SHOWN:"onboarding_avatar_video_shown",AVATAR_PURCHASE_CLICK:"ce_paid_category_clicked",AVATAR_PURCHASE_INITIATED:"ce_purchase_initiated",AVATAR_PURCHASE_COMPLETED:"ce_purchased",AVATAR_BONUS_ENTRY_SHOWN:"qg_ce_claim_reward_shown",AVATAR_BONUS_ENTRY_CLICKED:"qg_ce_claim_reward_clicked",AVATAR_BONUS_MODAL_SHOWN:"ce_daily_bonus_shown",AVATAR_BONUS_CLAIM_IN_MODAL:"ce_daily_bonus_claim_clicked",AVATAR_SUMMARY_GO_TO_SHOP:"ce_go_to_shop",AVATAR_HOW_IT_CLICK:"info_icon_clicked",LOGIN_SIGNUP_CLICK:"login_signup_clicked",VQT_PLAY_PAUSE_VIDEO:"video_qt_play_pause_video",VQT_SPEED_CHANGE:"video_qt_speed_change",VQT_COLLAPSE_LIST:"video_qt_questions_collapse",VQT_EXPAND_LIST:"video_qt_questions_expand",DIFF_BILINGUAL_DICTIONARY_CLICK:"bilingual_dictionary_click",DIFF_CALCULATOR_CLICK:"calculator_click",DIFF_GRAPHING_CLICK:"graphing_click",COMPLETED_CARD_CLICK:"completed_card_click",PLAYER_ANSWER_CLICK:"qg_player_answer_click",AFTER_ATTEMPT_INFORMATION:"qg_after_attempt_information",JOIN_CODE_MOUNTED:"join_code_mounted"};function om(e){return Yr(e,{powerupEffectId:"",powerupId:"",name:"",score:0})}function yu(e){const t=Yr({...e,powerups:Dn(e,"powerups")?Nt(e.powerups,om):[]},{base:0,timer:0,streak:0,powerups:[],total:0});return t.total=Qp(t.base+t.timer+t.streak+mu(t.powerups,"score")),t}function uh({currentId:e,isOver:t,accuracy:s,questionTimer:n,orderedOriginalResponses:a}){let o=!1,i={},r;return t?o=!0:(i={numQuesAttempted:a.length,accuracy:s},r=e),{isComplete:o,playerStats:i,lastVisibleQuestionId:r,isOver:t,questionTimer:{...n}}}function Vw(e){const t=[],s={};return S(e)||(t.push({quizInfo:{quizId:e.quizId},fromList:"running",numQuesAttempted:e.numQuesAttempted,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:[{...ka(e,["numQuestions","numQuesAttempted","numCorrect","playerId"]),numAnswerableQuestions:ut(e.numQuestions)?e.numQuestions:1,isOver:!1}],gameInfo:{roomHash:e.roomHash,gameType:e.gameType,gameCode:e.roomCode,gameState:Ct.RUNNING,gameCreatedAt:null,dueDate:e.expiry&&new Date(e.expiry)||null,host:{},hasLMSAttempts:e.isClassroomGame,lmsInfo:e.classroomInfo}}]}),s[e.quizId]={name:e.quizName,image:e.quizImage,subjects:e.subjects,grades:e.grade,questions:null}),{games:t,quizzes:s}}function Sl(e,t=Eu){if(typeof e=="string"){let s=e.trim();!s&&(s=t);let n=s.slice(0,Df);return n=n.replace(/{|\[|</g,"("),n=n.replace(/}|\]|>/g,")"),n=n.replace(/['"&/]/gi,""),n}return t}function lh(e,t,s,n){const a={marks:0,score:0,accuracy:0,totalCorrect:0},o={},i=[],r=n===es.NONE;let c=[];if(r||n===es.FULL){const u=ra(e,(d,g)=>({...d,[g.questionId]:g}),{}),l=Qs(u),p=Zt(t,d=>Jt(l,d));c=ra(p,(d,g)=>[...d,u[g]],[])}else c=si(e,"createdAt");return It(c,u=>{const l=typeof u=="string"?JSON.parse(u):u,{questionId:p}=l.data||l,d=ut(l.attempt)?l.attempt:0,g=!!(o[p]&&o[p][d]),f={marks:0,score:0,wasCorrect:!1},h=!g||r;b.invariant(h,`At cookServerPlayerResponses: The attempt num '${d}' for question id '${p}' already exists.`),g&&(f.marks=o[p][d].marks,f.score=o[p][d].score,f.wasCorrect=o[p][d].isCorrect),o[p]||(o[p]=[]),Dn(l,"scoreBreakup")&&(l.scoreBreakup=yu(l.scoreBreakup)),o[p].push({...l,attempt:d,isEvaluated:!0}),i.push(p),g?(a.marks=l.marks?a.marks+(l.marks-f.marks):0,a.score+=l.score-f.score,a.totalCorrect+=(l.isCorrect?1:0)-(f.wasCorrect?1:0)):(l.marks&&(a.marks=l.marks?a.marks+l.marks:l.marks),a.score+=l.score,a.totalCorrect+=l.isCorrect?1:0)}),It(s,u=>{a.score+=u.details.score}),a.accuracy=Math.floor(a.totalCorrect/t.length*100),{player:a,questionResponses:o,answeredQuestions:i}}const ec="game",Zi="|-$";function ei(e,t,s=!0){const n=e+Zi+t,a=Kr.encrypt(n,ec).toString();return s?encodeURIComponent(a):a}function qo({roomHash:e,playerId:t,quizId:s,gameState:n},a=!0){let o=e;n===Ct.COMPLETED&&([o]=e.split(":"));const i=[o,t,s,n].join(Zi),r=Kr.encrypt(i,ec).toString();return a?encodeURIComponent(r):r}function dh(e,t=!0){const s=t?decodeURIComponent(e):e,a=Kr.decrypt(s,ec).toString(Nd).split(Zi),o=a[0];a.splice(0,1);const i=a.join(Zi);return{roomHash:o,playerId:i}}function mh(e,t=!0){const s=t?decodeURIComponent(e):e,a=Kr.decrypt(s,ec).toString(Nd).split(Zi),o=a[0],i=a[1],r=a[2],c=a[3];return{roomHash:o,playerId:i,quizId:r,gameState:c}}var lo={npm_package_devDependencies__types_node:"18.16.6",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.7 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_RE_SECRET_KEY:"6Ld5MucnAAAAAOx3BubwZWrSqUR5csc0ltZOnHxo",NODE_VERSION:"18.20.7",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"fb5533062c90",YARN_VERSION:"1.22.22",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_user_agent_data_types:"0.4.2",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"2",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",SENTRY_URL:"https://sentry.io",npm_package_dependencies_slide_previews:"workspace:slide-previews",npm_package_devDependencies_sass:"1.62.0",COREPACK_ROOT:"/usr/local/lib/node_modules/corepack",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",Q_BUILD_GOOGLE_PROJECT_ID:"quizizz-org",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.json",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",version:"6e304f4_67baa7ba",npm_package_dependencies_html2canvas:"1.4.1",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",VITE_RE_SITE_KEY:"6Ld5MucnAAAAAMT2r7RrT0GPherTWgUc5Mxx8rzt",COREPACK_ENABLE_DOWNLOAD_PROMPT:"1",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",Q_SENTRY_DSN:"https://f4055af1be6347b5a3b645683a6b50ff@o984659.ingest.sentry.io/4505148554412032",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/usr/app/apps/join/node_modules/.bin:/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node-gyp-bin:/usr/app/node_modules/.bin:/opt/python_env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/.pnpm",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_dependencies_marked:"^15.0.2",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",componentName:"main",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",AWS_ACCOUNT_ID:"399771530480",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_devDependencies_vite_plugin_environment:"1.1.3",commitId:"6e304f4210f4c5f8680f3dda6cc62281d1c9d696",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/usr/app/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",Q_GCLOUD_PROD_CRED_ENV:'{"type":"service_account","project_id":"quizizz-org","private_key_id":"689560b691f67f317cf4236ba52b37dc7ca2d810","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwlHYA7exrEuOe\\nJ4Yb2DwOf8d7h47c4rqrf4Y0oPBgN+cS2kVKTKFwaG28QPNiLxo0lHZRuIPH9tvE\\n9sPeCzuSCFKUwVaan85j50IMiP0qesmK/bLvqXJC/9xZyW/t+4yyRm3ixF2jP+fQ\\nugtZOirI/V/meh1QSbUI0UxYihoA1G41tGs/SqjUn+PFV23rB49mWHJdCXBH3zjl\\n9vBAJBP3zZZ9VGSxwlFjA5/2nPB0FiZ1XEiICl7BbOhvehEdUcvMF20IVAPT9Xxj\\njjzJ52ARYpnyuyI4TWvssd19RWk4qtTNnP/wya860FkMpZlXjQbOqjIK4c0uP6el\\nx/UA+IdFAgMBAAECggEACdHPuCCDB7dOsiJXil/dgx7m/H8e2ji/kb7vOykCBQ/G\\nyV0bAlU9mw8rnw7rmfetmOPyqnu81FdthEgGv2fXgbj1wrD3vHSLmTGokiLiFUUr\\nxQ9zrnE5WfF5kwKpN05IVjelb7lkzanFne1iqS0baP7yINKEo8zdhOaCvN+9L3OJ\\nDObj/1o47YdVWmVGJM1P7/aB7+yQnCVdSmnnlFVQpekhLVpXMltDUQzlG5KML4HK\\nZqjIc1EgoVUxOhziB2RWef4TC97dUqV6pCL2AOFKxzW2A2yesEV4L+RgqkCJk1H9\\n6/8LZprS63E8a4RGJlWOdFEhrqXAw8xhOUkpFdz1AQKBgQDnBPUinD9DQUxuv7U6\\nIQ1EhwVpJ2jDy/Vf/5g/NpwycW0BLUwxfIP1LHLhrv5DSAVkMGpx35IpDppQjNhy\\nmUful/9HpkymwzM9LFQ8BQYDWENZ3xZuldK+kD5gAKitxCakOXn04fT00qQNgX9R\\nig2Rh52yajyT06iGXFXDf2U2gQKBgQDDrITrRGB57aPSvrbr0eITtmBsm569XNUz\\nSGpIN90EPn/Vy/lpEgUHp2VJd92hiwkS4GEPcUDTtmrgJMrXf59im0cHx4kxnpfM\\n0TEShDx0vvz0xFRw+1xD1LzI2SSYEBB7mU1WLBJCV92h/qZ2QsD5csTZ1bfqL8Rm\\nZOtNEyaWxQKBgQCS0v/JQ2yhnfqp2IWhsCfyia3Sqw1Wg2Yr4RIt+tNC6/vPZ66p\\nNO3ZAKry7HkE4d0rU+oS/XizR2ikER/vlaO17Dx+mR7WTfFey7Gtg7PSpGIJ2FM1\\nbVtHaf16nnCWH7g/X5g3HvTENKu3ObplZExDVeHP5t0hRsAwxLZtTaZSAQKBgQCB\\nCsENtqY5QrMLRKK1mlCR13B3r5lcIGCp1VPiFJU5O05q3H27ARs4FPkDHn2XD24I\\neNkJqhKqjF6nOxxaSdv+15BcXQbpJkHN3ReTsol8JIgFk4Rsjhgm06E8g5dSgSWd\\nnVgXQDE6d1++eYWl8Bf7aejQD9WeJ6pKLLvQtJR6UQKBgAoVdYrKHcxuFvZn7mTa\\ngdF9xaDJ5QO8nExvzDCZclGENhQEhYDRY2LPSwua/GdFp1dlNvF7mcCYM9AQ71wi\\nwjgTpgmDWVAhlHiwgXdZpaF4T1iR2z5fSYrXNCnHuBLpepEHOCUU9hWzQf1Kxov/\\nJsYdlN8vkfFjI91rbhEHlR1B\\n-----END PRIVATE KEY-----\\n","client_email":"quizizz-org@appspot.gserviceaccount.com","client_id":"114144258260971284008","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://accounts.google.com/o/oauth2/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/quizizz-org%40appspot.gserviceaccount.com"}',npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",Q_SENTRY_AUTH_TOKEN:"f17875a1ca5a4392a703e29271e4e73f55e1705d9c9f48329b6f411af15f128a",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",SENTRY_LOG_LEVEL:"debug",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",npm_package_dependencies_join_icons:"workspace:join-icons",PWD:"/usr/app/apps/join",npm_execpath:"/root/.cache/node/corepack/v1/pnpm/8.6.2/bin/pnpm.cjs",env:"prod",npm_package_dependencies_pinia_logger:"1.3.12",Q_BUILD_ADDRESS:"https://cf.quizizz.com",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/usr/app/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_dependencies_hls_js:"^1.5.17",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/usr/app/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",VITE_ENV_API_E2E_MODE:"false",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const Jc=lo.LOCAL_GAME_SERVICE==="true"||!1,Rl=lo.GAME_SERVICE_PORT||7002,vn={BASE:{[Ke.BackendEnvs.PROD]:"https://quizizz.com",[Ke.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com",[Ke.BackendEnvs.LOCAL]:lo.VITE_LOCAL_INTERNAL_SERVER_BASE_URL?lo.VITE_LOCAL_INTERNAL_SERVER_BASE_URL:"http://localhost:3000"},SOCKET:{[Ke.BackendEnvs.PROD]:{BASE:"https://socket.quizizz.com",PATH:""},[Ke.BackendEnvs.STAGING]:{BASE:"https://staging.quizizz.com",PATH:""},[Ke.BackendEnvs.DEV]:{BASE:"https://dev-socket.quizizz.com",PATH:""},[Ke.BackendEnvs.LOCAL]:{BASE:"https://dev-socket.quizizz.com",PATH:""}},GAME:{[Ke.BackendEnvs.PROD]:"https://game.quizizz.com",[Ke.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Ke.BackendEnvs.DEV]:Jc?`http://localhost:${Rl}`:"https://dev.quizizz.com",[Ke.BackendEnvs.LOCAL]:Jc?`http://localhost:${Rl}`:"https://dev.quizizz.com"},REQUEST:{[Ke.BackendEnvs.PROD]:"https://quizizz.com",[Ke.BackendEnvs.STAGING]:"https://staging.quizizz.com",[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_api/main",[Ke.BackendEnvs.LOCAL]:lo.VITE_LOCAL_INTERNAL_SERVER_BASE_URL?lo.VITE_LOCAL_INTERNAL_SERVER_BASE_URL:"http://localhost:3000"},NOTIFICATION_BASE:{[Ke.BackendEnvs.PROD]:"https://notif.quizizz.com",[Ke.BackendEnvs.STAGING]:"https://notif.quizizz.com",[Ke.BackendEnvs.DEV]:"https://dev-services.quizizz.com",[Ke.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com"},DRAW_SERVICE:{[Ke.BackendEnvs.PROD]:"https://draw.quizizz.com/_dserver/main",[Ke.BackendEnvs.STAGING]:"https://draw.quizizz.com/_dserver/main",[Ke.BackendEnvs.DEV]:"https://dev-services.quizizz.com/_dserver/main",[Ke.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com/_dserver/main"},MEDIA_SERVICE:{[Ke.BackendEnvs.PROD]:"https://media.quizizz.com/_mdserver/main",[Ke.BackendEnvs.STAGING]:"https://media.quizizz.com/_mdserver/main",[Ke.BackendEnvs.DEV]:"https://dev-services.quizizz.com/_mdserver/mdserver",[Ke.BackendEnvs.LOCAL]:"https://dev-services.quizizz.com/_mdserver/mdserver"},PRACTICE_SERVICE:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_pracserver/main/v1",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_pracserver/main/v1",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_pracserver/main/v1",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_pracserver/main/v1"},AVATAR_SERVICE:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_uasserver/main/",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_uasserver/main/",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_uasserver/main/",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_uasserver/main/"},QUIZ_SERVICE:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_quizserver/main/v2",[Ke.BackendEnvs.LOCAL]:`${lo.VITE_LOCAL_QUIZ_SERVER_BASE_URL??"http://localhost:8080"}/v2`,[Ke.BackendEnvs.PROD]:"https://quizizz.com/_quizserver/main/v2",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_quizserver/main/v2"},AI_SERVICE:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_aiserver/main/public/v1",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_aiserver/main/public/v1",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_aiserver/main/public/v1",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_aiserver/main/public/v1"},AVATAR_BUCKET:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_media",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_media",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_media",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_media"},GAME_API:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_gameapi/main/public",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_gameapi/main/public",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_gameapi/main/public",[Ke.BackendEnvs.STAGING]:"https://quizizz.com/_gameapi/main/public"},FEATURE_FLAGS_SERVICE:{[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_featserverv2/main/",[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_featserverv2/main/",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_featserverv2/main/"},CLASS_SERVICE:{[Ke.BackendEnvs.LOCAL]:"http://localhost:4100",[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_clsserver/main/public",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_clsserver/main/public"},SEARCH_SERVICE:{[Ke.BackendEnvs.LOCAL]:"https://dev.quizizz.com/_sserverv2/main",[Ke.BackendEnvs.DEV]:"https://dev.quizizz.com/_sserverv2/main",[Ke.BackendEnvs.PROD]:"https://quizizz.com/_sserverv2/main"}};var Da={npm_package_devDependencies__types_node:"18.16.6",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.7 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_RE_SECRET_KEY:"6Ld5MucnAAAAAOx3BubwZWrSqUR5csc0ltZOnHxo",NODE_VERSION:"18.20.7",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"fb5533062c90",YARN_VERSION:"1.22.22",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_user_agent_data_types:"0.4.2",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"2",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",SENTRY_URL:"https://sentry.io",npm_package_dependencies_slide_previews:"workspace:slide-previews",npm_package_devDependencies_sass:"1.62.0",COREPACK_ROOT:"/usr/local/lib/node_modules/corepack",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",Q_BUILD_GOOGLE_PROJECT_ID:"quizizz-org",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.json",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",version:"6e304f4_67baa7ba",npm_package_dependencies_html2canvas:"1.4.1",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",VITE_RE_SITE_KEY:"6Ld5MucnAAAAAMT2r7RrT0GPherTWgUc5Mxx8rzt",COREPACK_ENABLE_DOWNLOAD_PROMPT:"1",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",Q_SENTRY_DSN:"https://f4055af1be6347b5a3b645683a6b50ff@o984659.ingest.sentry.io/4505148554412032",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/usr/app/apps/join/node_modules/.bin:/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node-gyp-bin:/usr/app/node_modules/.bin:/opt/python_env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/.pnpm",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_dependencies_marked:"^15.0.2",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",componentName:"main",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",AWS_ACCOUNT_ID:"399771530480",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_devDependencies_vite_plugin_environment:"1.1.3",commitId:"6e304f4210f4c5f8680f3dda6cc62281d1c9d696",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/usr/app/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",Q_GCLOUD_PROD_CRED_ENV:'{"type":"service_account","project_id":"quizizz-org","private_key_id":"689560b691f67f317cf4236ba52b37dc7ca2d810","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwlHYA7exrEuOe\\nJ4Yb2DwOf8d7h47c4rqrf4Y0oPBgN+cS2kVKTKFwaG28QPNiLxo0lHZRuIPH9tvE\\n9sPeCzuSCFKUwVaan85j50IMiP0qesmK/bLvqXJC/9xZyW/t+4yyRm3ixF2jP+fQ\\nugtZOirI/V/meh1QSbUI0UxYihoA1G41tGs/SqjUn+PFV23rB49mWHJdCXBH3zjl\\n9vBAJBP3zZZ9VGSxwlFjA5/2nPB0FiZ1XEiICl7BbOhvehEdUcvMF20IVAPT9Xxj\\njjzJ52ARYpnyuyI4TWvssd19RWk4qtTNnP/wya860FkMpZlXjQbOqjIK4c0uP6el\\nx/UA+IdFAgMBAAECggEACdHPuCCDB7dOsiJXil/dgx7m/H8e2ji/kb7vOykCBQ/G\\nyV0bAlU9mw8rnw7rmfetmOPyqnu81FdthEgGv2fXgbj1wrD3vHSLmTGokiLiFUUr\\nxQ9zrnE5WfF5kwKpN05IVjelb7lkzanFne1iqS0baP7yINKEo8zdhOaCvN+9L3OJ\\nDObj/1o47YdVWmVGJM1P7/aB7+yQnCVdSmnnlFVQpekhLVpXMltDUQzlG5KML4HK\\nZqjIc1EgoVUxOhziB2RWef4TC97dUqV6pCL2AOFKxzW2A2yesEV4L+RgqkCJk1H9\\n6/8LZprS63E8a4RGJlWOdFEhrqXAw8xhOUkpFdz1AQKBgQDnBPUinD9DQUxuv7U6\\nIQ1EhwVpJ2jDy/Vf/5g/NpwycW0BLUwxfIP1LHLhrv5DSAVkMGpx35IpDppQjNhy\\nmUful/9HpkymwzM9LFQ8BQYDWENZ3xZuldK+kD5gAKitxCakOXn04fT00qQNgX9R\\nig2Rh52yajyT06iGXFXDf2U2gQKBgQDDrITrRGB57aPSvrbr0eITtmBsm569XNUz\\nSGpIN90EPn/Vy/lpEgUHp2VJd92hiwkS4GEPcUDTtmrgJMrXf59im0cHx4kxnpfM\\n0TEShDx0vvz0xFRw+1xD1LzI2SSYEBB7mU1WLBJCV92h/qZ2QsD5csTZ1bfqL8Rm\\nZOtNEyaWxQKBgQCS0v/JQ2yhnfqp2IWhsCfyia3Sqw1Wg2Yr4RIt+tNC6/vPZ66p\\nNO3ZAKry7HkE4d0rU+oS/XizR2ikER/vlaO17Dx+mR7WTfFey7Gtg7PSpGIJ2FM1\\nbVtHaf16nnCWH7g/X5g3HvTENKu3ObplZExDVeHP5t0hRsAwxLZtTaZSAQKBgQCB\\nCsENtqY5QrMLRKK1mlCR13B3r5lcIGCp1VPiFJU5O05q3H27ARs4FPkDHn2XD24I\\neNkJqhKqjF6nOxxaSdv+15BcXQbpJkHN3ReTsol8JIgFk4Rsjhgm06E8g5dSgSWd\\nnVgXQDE6d1++eYWl8Bf7aejQD9WeJ6pKLLvQtJR6UQKBgAoVdYrKHcxuFvZn7mTa\\ngdF9xaDJ5QO8nExvzDCZclGENhQEhYDRY2LPSwua/GdFp1dlNvF7mcCYM9AQ71wi\\nwjgTpgmDWVAhlHiwgXdZpaF4T1iR2z5fSYrXNCnHuBLpepEHOCUU9hWzQf1Kxov/\\nJsYdlN8vkfFjI91rbhEHlR1B\\n-----END PRIVATE KEY-----\\n","client_email":"quizizz-org@appspot.gserviceaccount.com","client_id":"114144258260971284008","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://accounts.google.com/o/oauth2/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/quizizz-org%40appspot.gserviceaccount.com"}',npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",Q_SENTRY_AUTH_TOKEN:"f17875a1ca5a4392a703e29271e4e73f55e1705d9c9f48329b6f411af15f128a",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",SENTRY_LOG_LEVEL:"debug",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",npm_package_dependencies_join_icons:"workspace:join-icons",PWD:"/usr/app/apps/join",npm_execpath:"/root/.cache/node/corepack/v1/pnpm/8.6.2/bin/pnpm.cjs",env:"prod",npm_package_dependencies_pinia_logger:"1.3.12",Q_BUILD_ADDRESS:"https://cf.quizizz.com",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/usr/app/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_dependencies_hls_js:"^1.5.17",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/usr/app/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",VITE_ENV_API_E2E_MODE:"false",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};const La={NODE:"production",BACKEND:Da.BACKEND_ENV,B_MAIN:Da.B_MAIN,B_SOCKET:Da.B_SOCKET,B_GAME_SOCKET_PATH:Da.B_GAME_SOCKET_PATH,B_GAME:Da.B_GAME,B_REQUEST:Da.B_REQUEST,B_NOTIFICATION_BASE:Da.B_NOTIFICATION_BASE,B_DRAW_SERVICE:Da.B_DRAW_SERVICE};function ph(){const e=La.BACKEND,t={BASE:"/",SOCKET:{BASE:"/",PATH:"/"},GAME:"/",REQUEST:"/",NOTIFICATION_BASE:"/",DRAW_SERVICE:vn.DRAW_SERVICE[Ke.BackendEnvs.PROD],MEDIA_SERVICE:vn.MEDIA_SERVICE[Ke.BackendEnvs.PROD],PRACTICE_SERVICE:vn.PRACTICE_SERVICE[Ke.BackendEnvs.PROD],AVATAR_SERVICE:vn.AVATAR_SERVICE[Ke.BackendEnvs.PROD],QUIZ_SERVICE:vn.QUIZ_SERVICE[Ke.BackendEnvs.PROD],AI_SERVICE:vn.QUIZ_SERVICE[Ke.BackendEnvs.PROD],AVATAR_BUCKET:vn.AVATAR_BUCKET[Ke.BackendEnvs.PROD],GAME_API:vn.GAME_API[Ke.BackendEnvs.PROD],FEATURE_FLAGS_SERVICE:vn.FEATURE_FLAGS_SERVICE[Ke.BackendEnvs.PROD],CLASS_SERVICE:vn.CLASS_SERVICE[Ke.BackendEnvs.PROD],SEARCH_SERVICE:vn.SEARCH_SERVICE[Ke.BackendEnvs.PROD]};return Object.keys(vn).forEach(s=>{if(s==="SOCKET"){const a=vn.SOCKET[e];a&&Object.keys(a).forEach(o=>{t.SOCKET[o]=a[o]})}else t[s]=vn[s][e]}),t.BASE=La.B_MAIN,t.SOCKET.BASE=La.B_SOCKET,t.GAME=La.B_GAME,t.REQUEST=La.B_REQUEST,t.NOTIFICATION_BASE=La.B_NOTIFICATION_BASE,La.B_DRAW_SERVICE&&(t.DRAW_SERVICE=La.B_DRAW_SERVICE),t}const Ds=ph();var re=(e=>(e.NORMAL="normal",e.TEAM="team",e.TEST="test",e.CHALLENGE="challenge",e.TEACHER_PACED="tp",e.PRESENTATION="pres",e.FLASHCARD="flashcard",e.MYSTIC_PEAK="mystic_peak",e.MASTERY_MODE="mastery_mode",e.OFFLINE="tp_offline",e.COMMON_ASSESSMENT="common_assessment",e))(re||{}),Je=(e=>(e.LIVE="live",e.ASYNC="async",e.SOLO="solo",e.LIVEASYNC="live-async",e))(Je||{}),xn=(e=>(e.QUESTION="question",e.SLIDE="slide",e.ELEMENT="element",e.EXPLAIN="explain",e))(xn||{}),zn=(e=>(e.YOUTUBE="youtube",e.GOOGLE_DRIVE="google-drive",e.ONE_DRIVE="one-drive",e.LOCAL="local",e.BOCLIPS="boclips",e))(zn||{}),oi=(e=>(e.TEACHER_PACED="teacher-paced",e.STUDENT_PACED="student-paced",e))(oi||{}),Xc=(e=>(e.STRIKE="strike",e.SHIELD="shield",e.SKIP="skip",e))(Xc||{}),im=(e=>(e.STANDARD="standard",e.STEALTH="stealth",e.DEFLECTOR="deflector",e.ABSORPTION="absorption",e))(im||{}),rm=(e=>(e.STANDARD="standard",e.STEALTH="stealth",e.PRECISION="precision",e.SWAP="swap",e))(rm||{}),gh=(e=>(e.REBOUNDED="rebounded",e.BROKE_TARGET_SHIELD="brokeTargetShield",e.STRUCK_TARGET="struckTarget",e.DEFLECTED="deflected",e.ABSORBED="absorbed",e))(gh||{});const za=`${Ds.REQUEST}/`,Wa={getAppBaseUrl(){return window.location.pathname.split("/")[1]==="pro"?"/pro/join":"/join"},getSentryDsnURL(){return"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987"},getPowerupBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-banner.png"},getPowerupOnboardingBannerURL(){return"https://cf.quizizz.com/game/img/powerups/powerup-onboarding-banner.png"},getGlitchPowerupGifURL(e){return e===re.MYSTIC_PEAK?"https://cf.quizizz.com/game/img/powerups/snow3.png":"https://cf.quizizz.com/game/img/powerups/glitch-powerup-GIF.gif"},getPlayerMonsterURL(e){return`https://cf.quizizz.com/join/img/monsters_lg/monster${e}.png`},getSmallMonsterURL(e,t=Ft.TABLET,s=!1){const n=Cl(e,s);return t===Ft.PHONE?t="phone":(t===Ft.DESKTOP||t===Ft.TABLET)&&(t=Ft.TABLET),`https://cf.quizizz.com/join/img/avatars/${s?"halloween/":""}${t}_sm/${s?"":"monster"}${n}.png`},getBigMonsterURL(e,t=Ft.TABLET,s=!1){const n=Cl(e,s);return t===Ft.PHONE?t="phone":(t===Ft.DESKTOP||t===Ft.TABLET)&&(t=Ft.TABLET),`https://cf.quizizz.com/join/img/avatars/${s?"halloween/":""}${t}_lg/${s?"":"monster"}${n??1}.png`},getSmallTeamEmblemURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/sm/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/sm/${e}.png`},getLargeTeamEmblemURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/emblems/lg/${e}.png`:`https://cf.quizizz.com/game/img/teams/emblems/lg/${e}.png`},getTeamMascotURL(e,t=!1){return t?`https://cf.quizizz.com/game/img/teams/halloween/mascots/${e}.png`:`https://cf.quizizz.com/game/img/teams/mascots/${e}.png`},getQuizGrade(e){return`${za}quiz/${e}/grades`},registerGoogleClassroomUser:`${za}register/google`,decodeGoogleClassroomLink(e){return`${za}code?c=${e}`},getDemoGamePageURL(e,t){return`${za}democode?mobile=true&w=2&theme=${e}&bgcolor=${t}`},getInHouseEventTrackingURL:()=>"https://analytics.quizizz.com/events",getSessionTrackingEventURL(){return"https://analytics.quizizz.com/tracking/active-time/events"},getFeedbackTrackingURL(){return"https://fnl.quizizz.com/_anserverv2/main/api/v1/feedback2"},appDeepLinkingUrls(e,t,s={}){const a=`${e===Mf.ANDROID?vl.ANDROID:vl.IOS}${t}`;return Ga(a,s)},getLMSResgisterUserUrl(e,t){const s=`${za}lms/${e}/2`;return Ga(s,t)},getAppUserLoginUrl(e){const t=`${za}auth/mobile`;return Ga(t,e)},getAppUserGoogleSignupUrl(e){const t=`${za}auth/google`;return Ga(t,e)},getWebLogoutUrl(){return`${za}auth/logout`},quizPlaceholderImage(e="big"){return e==="big"?"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-md.png":"https://cf.quizizz.com/game/img/search/quiz-placeholder-transparent-sm.png"},getWebGameUrl(e,t={},s=""){const n=s||`${window.location.origin}${this.getAppBaseUrl()}`,a=ei(e.roomHash,e.playerId),o=`${n}/game/${a}`;return Ga(o,{gameType:e.gameType,gameState:e.gameState,...t})},getWebQuizStartUrl(e,{query:t={},forDomain:s="",replaceProtocol:n=!1,type:a=$a.QUIZ}={}){let i=`${s||`${window.location.origin}${this.getAppBaseUrl()}`}/${a}/${e}/start`;return n&&(i=i.replace(/http:\/\/|https:\/\//,"")),Ga(i,t)},getAdminQuizUrl(e,t={},s,n){let o=`${s||`${window.location.origin}`}/admin/quiz/${e}`;return n&&(o=o.replace(/http:\/\/|https:\/\//,"")),Ga(o,t)},getAdminHomeUrl(e={},t=""){const n=`${t||`${window.location.origin}`}/admin`;return Ga(n,e)},getRedemptionMascotImgUrl(e){switch(e){case"mascotWithBanner":return"https://cf.quizizz.com/game/img/misc/redemption_mascot_plus_label-600.png";case"mascot":return"https://cf.quizizz.com/game/img/misc/redemption_mascot-120.png"}},getShareableGameJoinLink(e){return`${window.location.origin}${this.getAppBaseUrl()}?gc=${e}&from=challengeFriends`},getThemeAssetsUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.jpg`},getThemeVideoUrl(e,t){return`https://cf.quizizz.com/themes/v2/${e}/${t}.mp4`}};function Ga(e,t={}){let s=e;if(!S(t)){s+="?";let n=!1;It(t,(a,o)=>{n&&(s+="&"),qp(a)||(s+=`${o}=${a}`,n=!0)})}return s}function Cl(e,t){let n=e;return t&&(n%=34),n}const fh=new wf,Fa=fh;function hh({environment:e,screenType:t,locale:s,country:n,platform:a,userId:o,subPlanId:i,region:r}){Fa.init({commonStoreProps:{environment:e,screenType:t,locale:s,country:n,platform:a,featureFlags:{},userId:o,subPlanId:i||null,region:r}})}const _h="immediate";function vh(){return"https://analytics.quizizz.com/events"}function Eh(){return"https://fnl.quizizz.com/_anserverv2/main/api/v1/other2"}const Ah={apiEndpoint:vh(),sendAsBatched:!0,attachAdditionalParams:!0,attachAdditionalGameParams:!0,eventOptions:{}};class Th{constructor(){this.expName="",this.expSlot="",this.platform="",this.sessionId="",this.deviceId="",this.requestCountry="",this.gameData={roomHash:"",gameType:"",gameState:"",experiment:""},this.profile={userId:"",occupation:"",subPlanId:"",isLoggedIn:!1},this.playerId="",this.mediaType="",this.currentPage="",this.getEventsInBuffer=()=>{},this.putEventsInBuffer=()=>{}}init(t,s,n){this.expName=t.expName,this.expSlot=t.expSlot,this.platform=t.platform,this.getEventsInBuffer=s,this.putEventsInBuffer=n}setSessionId(t){this.sessionId=t,this.deviceId=t}setRequestCountry(t){this.requestCountry=t}setGameDataState(t,s,n,a){this.gameData={roomHash:t,gameType:s,gameState:n,experiment:a}}setProfileState(t,s,n,a){this.profile={userId:s,occupation:n,isLoggedIn:t,subPlanId:a?a.planId||a.id:null}}setPlayerId(t){this.playerId=t}setMediaType(t){this.mediaType=t}setCurrentPage(t){this.currentPage=t}logEvent(t,s={},n=_h,a={}){const o=$n(a,Ah),i=this._returnEventData(t,s,o);if(S(t)){b.error(`Error at logEvent: given eventName(${t}) is not valid`,n,s);return}b.log(`
 InHouseEventLogger logEvent:`,t,n,ys(i),`
`),Fa.logClickEvent(t,i.params)}async logSessionTackingEvent(t,s){const n=this._returnEventData(t,s,{attachAdditionalParams:!0,apiEndpoint:Wa.getSessionTrackingEventURL()});n.params.userId&&(b.log(`
 EventLoggerService logSessionTackingEvent:`,t,ys(n),`

`),await this._post(n,n.forApiEndpoint))}addToBuffer(t){this._selectAndPushEventsToServer(t,10)}sendPreviousSessionEvents(){const t=this.getEventsInBuffer("temp");S(t)||this._pushEventsToServer(t)}sendAllEventsInBuffer(){b.log(`
InHouseEventLogger Sending All Events in Buffer
`),this._selectAndPushEventsToServer(null,-1)}_returnEventData(t,s,n={}){let a={};n.attachAdditionalParams&&(a=this._getAdditionalParams(n));const o={},i={...a,sessionId:this.sessionId,deviceId:this.sessionId,...s};return It(i,(r,c)=>{o[c]=typeof r=="string"?r:JSON.stringify(r)}),{eventName:t,params:o,platform:this.platform,slot:this.expSlot?Number(this.expSlot):0,experiment:this.expName,time:Date.now(),timezoneOffset:new Date().getTimezoneOffset(),forApiEndpoint:n.apiEndpoint||Wa.getInHouseEventTrackingURL(),isBatched:n.sendAsBatched,...n.eventOptions}}_pushEventsToServer(t=[]){const s=this._groupBasedOnEndPoint(t);It(s,(n,a)=>{S(n.batched)||this._post(n.batched,a),It(n.unBatched,o=>{this._post(o,a)})})}async _post(t=null,s){const n={method:"POST",cache:"no-cache",mode:"no-cors",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)};try{await(await fetch(s,n)).json(),this._cleanupTempEventsQueue(t)}catch(a){b.logForSession([`Error at InHouseEventLogger._pushEventsToServer at sending ${t.length}`,t,a],"error",{numArgsToUseForSessionLog:1})}}_logToAnalyticsV2(t){this._post(t,Eh())}_filterEventsToClean(t=[],s=[]){const n=[],a=ys(s);for(let o=0;o<t.length;o++){const i=Ms(a,r=>r.time===t[o].time&&r.eventName===t[o].eventName);if(i>=0?a.splice(i,1):n.push(t[o]),a.length===0)break}return n}_getAdditionalParams(t){let s={};return s.screen=this.currentPage,s.country=this.requestCountry,s.media=this.mediaType,s.maxTouchPoints=(navigator==null?void 0:navigator.maxTouchPoints)||0,this.profile.isLoggedIn&&(s.userId=this.profile.userId,s.occupation=this.profile.occupation,s.subPlanId=this.profile.subPlanId),Ps&&(s.runningInWebview=!0),this.gameData.roomHash&&t.attachAdditionalGameParams&&(s=Object.assign(s,{roomHash:this.gameData.roomHash,gameType:this.gameData.gameType,gameState:this.gameData.gameState,playerId:this.playerId,sessionId:this.sessionId,deviceId:this.sessionId,userId:this.profile.userId,gameExperiment:this.gameData.experiment})),s}_cleanupTempEventsQueue(t){const s=this._filterEventsToClean(this.getEventsInBuffer("temp"),t);this.putEventsInBuffer("temp",s,!0)}_selectAndPushEventsToServer(t,s=10){let n=this.getEventsInBuffer("main");S(t)||(Array.isArray(t)?n=_a(n,t):n.push(t));let a=[];if(s<1?a=n.splice(0,n.length):n.length>s&&(a=n.splice(0,s)),!S(a)){this.putEventsInBuffer("temp",a);const o=this.getEventsInBuffer("temp");this._pushEventsToServer(o)}this.putEventsInBuffer("main",n,!0)}_groupBasedOnEndPoint(t=[]){const s={};for(let n=0;n<t.length;n++){const a=t[n].forApiEndpoint,o=t[n].isBatched;s[a]||(s[a]={batched:[],unBatched:[]}),o?s[a].batched.push(this._sanitizeEventBeforeSending(t[n])):s[a].unBatched.push(this._sanitizeEventBeforeSending(t[n]))}return s}_sanitizeEventBeforeSending(t){return Jr(t,(s,n)=>!["isBatched","forApiEndpoint"].includes(n))}}const ct=new Th;var Vo=(e=>(e.REBOUNDED="rebounded",e.BROKE_TARGET_SHIELD="brokeTargetShield",e.STRUCK_TARGET="struckTarget",e.DEFLECTED="deflected",e.ABSORBED="absorbed",e))(Vo||{});const wl=["🖕","🍆","🍑","💦","💩","👉👌","🦪","💣","🔫","🗡","🔪","⚔","🚬","💉","💊","♋","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🍶","🍌","🤬"],cm=["deez nut","deeez nut","fuck","f u c k","f uck","fuc k","fu ck","asshole","bastard","bitch","damn","douche","faggot","pornhub","pornstar","slut","nigga","poop"],um=["anal","anus","arrse","arse","ass","asses","assfukka","asswhole","a_s_s","b!tch","b17ch","banged","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","benchod","bhenchod","bi+ch","biatch","bloody","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","booty","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bullshit","bum","butt","butthole","buttmuch","buttplug","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","damn","dicks","dickhead","dildo","dildos","dink","dinks","dirsa","doggin","dogging","donkeyribber","doosh","duche","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f4nny","fack","fak","fag","fagging","faggitt","faggot","faggs","faggy","fagot","fagots","fags","fannyflaps","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","flange","fook","fooker","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fuq","fux","fuxor","f_u_c_k","gangbang","gangbanged","gangbangs","gaysex","goatse","god-dam","god-damned","goddamn","goddamned","gun","hardcoresex","hell","heshe","hitler","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lmfao","lust","lusting","m45terbate","ma5terb8","ma5terbate","masochist","massacre","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mofo","muff","mutha","muthafecker","muther","nipple","nipples","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nobhead","nobjocky","nobjokey","nuts","nutz","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","pawn","pecker","penis","perv","pervert","phonesex","phuck","phuked","phuking","phukked","phukking","phuks","phuq","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","shoot","skank","slut","sluts","smegma","smut","spunk","suck","sucking","sucks","taint","teets","teez","testical","testicle","tit","tits","titt","titties","titty","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx","rape","rapes","rapist","raping","kill","killer","kills","killed","killing","dayum","卐","卍"];function lm(e="",t=[]){for(let s=0;s<t.length;s++)if(e.includes(t[s]))return!0;return!1}function dm(e="",t=[]){const s=e.split(/[\s\.\-\?\+\(\)\[\]&,_!@#\$%=]+/);for(let n=0;n<s.length;n++)for(let a=0;a<t.length;a++)if(s[n]===t[a])return!0;return!1}function yh(e=""){for(let t=0;t<wl.length;t++)if(new RegExp(wl[t]).test(e))return!0;return!1}function Ih(e=""){return e=e.replace(/[4@]/g,"a"),e=e.replace(/[1!|]/g,"i"),e=e.replace(/[7\+]/g,"t"),e=e.replace(/#/g,"h"),e=e.replace("0","o"),e=e.replace(/[$5]/g,"s"),e=e.replace(/(^|\s+)(.)($|\s+)/g,"$2"),!!(lm(e,cm)||dm(e,um))}function pi(e=""){return e=e.toLowerCase(),e=e.replace(/\s\s+/g," "),e=e.replace(/[\-_]/g," "),e=e.replace(/a+/g,"a"),e=e.replace(/u+/g,"u"),e=e.replace(/h+/g,"h"),e=e.replace(/j+/g,"j"),e=e.replace(/k+/g,"k"),e=e.replace(/q+/g,"q"),e=e.replace(/v+/g,"v"),e=e.replace(/w+/g,"w"),e=e.replace(/x+/g,"x"),e=e.replace(/y+/g,"y"),!!(lm(e,cm)||dm(e,um)||yh(e)||Ih(e))}function jw(e=""){return pi(e)?"Fluffy Puppy":e}const Zc=[90,200,400,600,900,1280];function Sh(e="",t,s){let n=e;if(e.split("?").length>1)It(t,(o,i)=>{const r=new RegExp(`[\\?&]${o}=([^&#]*)`),c=r.exec(e);if(c===null)n+=`&${o}=${s[i]}`;else{const u=c[0].charAt(0);n=e.replace(r,`${u+o}=${s[i]}`)}});else{let o="?";It(t,(i,r)=>{o+=`${r!==0?"&":""}${i}=${s[r]}`}),n+=o}return n}function Bi(e,t={deviceType:""},s=""){if(t.paramVal)return Ol(e,t.paramVal,t.deviceType);switch(s){case"question":return Iu(e,t.deviceType);case"option":return Ch(e,t.dimToCheckAgainst);case"demoGame":return wh(e,t.deviceType);case"meme":return Oh(e,t.deviceType);case"preview":return Pl(e);case"preview-default":return Pl(e,!0,t.imageType,t.deviceType);case"contentSlides":return Ph(e,t.deviceType,t.contentSlideType);case"misc":default:return Ol(e,t.dimToCheckAgainst,t.deviceType)}}function Rh(e){const t=[...Zc],s={w:t[t.length-1],h:t[t.length-1]};for(let n=0;n<t.length;n++){const a=t[n];if(e<=a){s.w=a,s.h=a;break}}return s}function Ys(e,t){return Sh(e,["w","h"],[`${t}`,`${t}`])}function Iu(e,t){switch(t){case Ft.PHONE:return Ys(e,400);case Ft.TABLET:return Ys(e,600);case Ft.DESKTOP:return Ys(e,900);default:return Ys(e,900)}}function Ch(e,t=0){return t<1366?Ys(e,400):Ys(e,900)}function wh(e,t){switch(t){case Ft.PHONE:return Ys(e,200);case Ft.TABLET:return Ys(e,400);case Ft.DESKTOP:return Ys(e,600);default:return Ys(e,900)}}function Oh(e,t){switch(t){case Ft.PHONE:case Ft.TABLET:return Ys(e,400);case Ft.DESKTOP:default:return Ys(e,600)}}function Ol(e,t=0,s){if(t){const n=Rh(t);return Ys(e,n.w)}return s?Iu(e,s):Ys(e,Zc[Zc.length-1])}function Pl(e,t=!1,s="",n="desktop"){return t?s==="question"?Iu(e,n):Ys(e,400):Ys(e,900)}function Ph(e,t="desktop",s=""){const n=s===qf.MEDIA_SUBTITLE;let a=600;switch(t){case Ft.PHONE:a=n?600:400;break;case Ft.TABLET:a=n?900:600;break;case Ft.DESKTOP:default:a=n?1280:900;break}return Ys(e,a)}function mm(e,t=!0,s=!1){const n=[U("Jan"),U("Feb"),U("Mar"),U("Apr"),U("May"),U("Jun"),U("Jul"),U("Aug"),U("Sep"),U("Oct"),U("Nov"),U("Dec")],a=new Date(e);let o="AM",i=a.getHours();i===12?o="PM":i>12&&(o="PM",i-=12);const r=Qh(a.getMinutes());let c="";return t&&(c+=`${i}:${r} ${o}, `),c+=`${n[a.getMonth()]} ${a.getDate()}`,s&&(c=`${c} ${a.getFullYear()}`),c}function $w(e){const t=ut(e)?e:Number.parseInt(e,10);return Number.isNaN(t)?e:`${t}${kh(t)}`}function kh(e){const t=e%10,s=e%100;return t===1&&s!==11?"st":t===2&&s!==12?"nd":t===3&&s!==13?"rd":"th"}function Ww(e){return e>999?`${Math.floor(e/1e3)}k`:e}function Br(e){return Object.values(rt).includes(e)}function tc(e){return Nt(ya,s=>s.locale).includes(e)}function Hr(e){const t=/(<([^>]+)>)|(&nbsp;)/ig,s=/([_]+)/ig,n=/(\<div class=.kr-math.)([^>]+)\>([^\</]+)(\<\/div\>)/ig,a=/\-+\>/ig;let o=e.replace(n,". . an expression . .");return o=o.replace(t,""),o=o.replace(s,",blank,"),o=o.replace(a,",gives,"),o}function pn(e,t=""){var s,n;if(e.error&&e.error.type)return e.error.type;if(e.response){const{response:a}=e,o=(s=a==null?void 0:a.error)==null?void 0:s.type;if(o)return o;if(a.success===!1&&typeof a.type=="string")return a.type;if(a.success===!1&&typeof a.error=="string"||!sn(a.success)&&a.error instanceof Error)return a.error;if((n=a==null?void 0:a.data)!=null&&n.type)return a.data.type}return t}function Yw(e,t=[]){for(let s=0;s<t.length;s++)e.classList&&e.classList.add&&e.classList.add(t[s])}function Kw(e,t=[]){for(let s=0;s<t.length;s++)e.classList&&e.classList.remove&&e.classList.remove(t[s])}function Jw(e,t,s){t=encodeURIComponent(t);const n=`([&?]|&amp;)${t}\\b(?:=(?:[^&#]*))*`,a=document.createElement("a"),o=new RegExp(n),i=t+(s?`=${encodeURIComponent(s)}`:"");a.href=e;const r=a.search.replace(o,`$1${i}`);return r===a.search?a.search+=(a.search?"&":"")+i:a.search=r,a.href}function bh(e){const t=[];return Object.keys(e).reduce((n,a)=>(e[a]&&n.push(`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`),n),t).join("&")}function pm(e){const t=document.createElement("a");t.href=e;const s=Uc(t.search.replace("?","").split("&")),n={};return s.forEach(a=>{const o=a.split("=")[0],i=a.split("=")[1];n[o]=i}),n}function Nh(e){const t=document.createElement("a");return t.href=e,t.pathname}function eu(){return window.navigator.userAgent.match(/iphone|ipod|ipad/i)}function Xw(e,t,s){return new Promise(n=>{try{const a=document.createElement(t),o=a.canPlayType(e);if(!S(o)){n(!0);return}const i=setTimeout(()=>{n(!1)},1e4);a.onerror=()=>{i&&clearTimeout(i),n(!1)},a.onloadedmetadata=()=>{i&&clearTimeout(i),n(!0)},a.oncanplay=()=>{i&&clearTimeout(i),n(!0)},a.src=s}catch{n(!1)}})}function Dh(){return window.navigator.language||window.navigator.userLanguage}function Ha(e,t){let s=e;const n=s.split("?");if(n.length>=2){const a=`${encodeURIComponent(t)}=`,o=n[1].split(/[&;]/g);for(let i=o.length;i-- >0;)o[i].lastIndexOf(a,0)!==-1&&o.splice(i,1);s=n[0],o.length&&(s+=`?${o.join("&")}`)}return s}function Zw(e,t,s,n,a,o){let i=0,r=0,c=0,u=0,l=kl(e,o);for(let p=l.length-1;p>=0&&(c=l[p],!(s>=l[p]));p--);l=kl(t,o);for(let p=l.length-1;p>=0&&(u=l[p],!(n>=l[p]));p--);return a>1?(i=c,r=u/a):a<1?(r=u,i=c*a):(r=u,i=c),{width:i,height:r}}function eO(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0D\x0A))?(\x20|\x09)+)?(([\x01-\x08\x0B\x0C\x0E-\x1F\x7F]|\x21|[\x23-\x5B]|[\x5D-\x7E]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0B\x0C\x0D-\x7F]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0D\x0A))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)}function tO(e){return/^\d{10}$/.test(e)}function sO(){return"speechSynthesis"in window&&"SpeechSynthesisUtterance"in window}function Lh(){if(window.performance){const e=window.performance;try{const t=Gs(e.getEntriesByType)&&e.getEntriesByType("navigation")[0];if(t&&t.entryType)return t.entryType}catch(t){b.error("Error at pageLoadType",t)}if(e.navigation&&ut(e.navigation.type))switch(e.navigation.type){case e.navigation.TYPE_NAVIGATE:return"navigate";case e.navigation.TYPE_RELOAD:return"reload";case e.navigation.TYPE_BACK_FORWARD:return"back-forward";case e.navigation.TYPE_RESERVED:return"reserved"}}return"unknown"}function zh(e,t=!1){const s=window.innerWidth,n=Ps?document.documentElement.clientHeight:Bp(),a=window.innerHeight,o=(e==null?void 0:e.isTouchSupported)||t||qh(),i=Math.max(s,n),r=Math.min(s,n);let c=e.type||Ft.DESKTOP,u=e.orientation||Ea.PORTRAIT;return s/n>1?u=Ea.LANDSCAPE:u=Ea.PORTRAIT,r<gc.MIN_TABLET_WIDTH&&i<gc.MAX_TABLET_WIDTH&&o?c=Ft.PHONE:s<=gc.MAX_TABLET_WIDTH&&u===Ea.PORTRAIT?c=Ft.TABLET:c=Ft.DESKTOP,{width:s,height:n,orientation:u,type:c,isTouchSupported:o,visibleViewportHeight:a}}function nO(e){const t=document.getElementById(e);let s=!1;return t&&t.select&&(t.select(),s=document.execCommand("copy")),s}function aO(e={}){const t=!!(window.navigator&&window.navigator.share);if(t&&"canShare"in window.navigator&&navigator.canShare(e))try{window.navigator.share(e)}catch(s){b.error("Error at tryNativeBrowserShare",s)}return t}function oO(e){if(e=String(e),document.queryCommandSupported&&document.queryCommandSupported("copy")){const t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch{return!1}finally{document.body.removeChild(t)}}return!1}function iO(e){var i;const t=e.replace(/<p style="display:inline">/g,"").replace(/<p>/g,"").replace(/<\/p>/g,"<br /><br />").replace(/<ol>/g,"").replace(/<\/ol>/g,"").replace(/<ul>/g,"").replace(/<\/ul>/g,"").replace(/<li>/g,"").replace(/<\/li>/g,""),s=t.match(/<blank.*?<\/blank>/g);if(!s)return[t];let n=t;It(s,r=>{n=n.replace(r,";blank;")});const a=[];let o=0;return n.split(";blank;").forEach(r=>{if(r.includes("<br>")){const c=r.split("<br>");a.push(c[0]),a.push("<br>"),a.push(c[1])}else a.push(`${r} `);o<s.length&&(a.push(s[o]),o+=1)}),a[a.length-1]===" <br /><br /> "?a.pop():a[a.length-1]=(i=a[a.length-1])==null?void 0:i.replace("<br /><br />",""),a}function rO(e){let t=-1;return e.replace(/<blank.*?<\/blank>/g,()=>(t+=1,`(${String.fromCharCode(+"097"+t)}) _ _ _ _ _ _ _ _ _ _`))}function Gh(e,t=!1){const s=e.match(/<blank id=".*?<\/blank>/g),n={};return It(s,(a,o)=>{var u,l;const i=(u=a.match(/id.*?=.*?".*?"/))==null?void 0:u[0],r=(l=i==null?void 0:i.match(/".*"/))==null?void 0:l[0],c=unescape((r==null?void 0:r.substring(1,(r==null?void 0:r.length)-1))||"");c&&(n[c]=t?o:"")}),n}function cO(e){const t=e.match(/<blank.*?<\/blank>/g);if(!t)return e;let s=e;return It(t,(n,a)=>{s=s.replace(n,`Blank ${a+1}`)}),s}function uO(e,t){const s={images:[],videos:[]},n=[_t.CORRECT,_t.INCORRECT];return It(e,(a,o)=>{const i=Bi(a,{deviceType:t.type||"",dimToCheckAgainst:t.width},"meme");if(n.includes(o)){s.images.push(i);return}s.videos.push(i.replace(".gif",".mp4"))}),s}function Mh(e){return e&&!S(e)&&Pr(e,"isQuizWithoutCorrectAnswer")?!!e.isQuizWithoutCorrectAnswer:!1}function lO(){return!(document.fullScreenElement!==void 0&&document.fullScreenElement===null||document.msFullscreenElement!==void 0&&document.msFullscreenElement===null||document.mozFullScreen!==void 0&&!document.mozFullScreen||document.webkitIsFullScreen!==void 0&&!document.webkitIsFullScreen)}function dO(e){if(!e)return!1;switch(e.toUpperCase()){case"AT":case"BE":case"BG":case"HR":case"CY":case"CZ":case"DK":case"EE":case"FI":case"FR":case"DE":case"GR":case"HU":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PL":case"PT":case"RO":case"SK":case"SI":case"ES":case"SE":case"GB":case"IS":case"LI":case"NO":return!0;default:return!1}}function xh(e){const t=$i(e==null?void 0:e.tagName);if(t!=="textarea"&&t!=="input"&&!e.isContentEditable)return!1;const s=e.getAttribute("type"),n=s?$i(s):"";return!(t!=="textarea"&&!["","text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].includes(n))}function mO(e){return!!Touch&&!!e&&e instanceof Touch}function pO(e){const t=e.replace("px","").replace("rem","").replace("em","").replace("%","").replace("vw","").replace("vh","");return Number.parseInt(t,10)}function gO(e=[],t=[]){const s=()=>Array.isArray(e)&&ut(e[0])&&ut(e[1]),n=s(),a=s();b.invariant(n,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`),b.invariant(a,`getScaleFromAspectRatios: originalDimensions sent are not valid. They need to be an array with x,y postions as 0,1 indices. Recieved - ${JSON.stringify(e)}`);const o=t[0]/e[0],i=t[1]/e[1],r=Math.min(o,i);return{scaleX:o,scaleY:i,scale:r}}function fO(e){let t,s;try{const a=new URL(e);t=a.protocol,s=a.hostname}catch{return""}return`${t}//${s}/favicon.ico`}function hO(e,t){const s=i=>ut(i.width)&&ut(i.height);b.invariant(s(e),`scaleDimensionsForABox: Dimensions needs to have a number width and height. Recieved - [${e}]`),b.invariant(s(e),`scaleDimensionsForABox: Dimensions to scale against needs to have a number width and height. Recieved - [${t}]`);const n=e.width/e.height,a=t.width/t.height;if(n>a)return{width:t.width*e.height/t.height,height:e.height};const o=t.height*e.width/t.width;return{width:e.width,height:o}}function _O(e){const t=Math.floor(e/3600),s=Math.floor(e%3600/60),n=Math.floor(e%60);return`${t>0?`${_c(t)}:`:""}${_c(s)}:${_c(n)}`}function _c(e){return ut(e)||b.log(["Error at numberTo2Digit, Must use number type"],"error"),Math.abs(e)/10<1?e<0?`-0${e}`:`0${e}`:e}function Fh(e){return e===null?!0:!(typeof e=="object"||typeof e=="function")}function vc(e=[]){return Ut(e,t=>t!==void 0)}function Qh(e){return rr(e).length===1?`0${e}`:e}function kl(e,t=20){const s=Math.floor(e/t);return Up(s,n=>(n+1)*t)}function qh(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const Uh=["IN","US"];function vO(e){return e&&Uh.includes(e)?e.toLowerCase():"us"}function EO(e){let t=0;e.forEach(s=>{s.style.height="auto";const n=s.offsetHeight;n>t&&(t=n)}),e.forEach(s=>{s.style.height=`${t}px`})}function AO(e){return e.replace(/&lt;br&gt;/g,"<br>")}const Bh=1e3;function bi(e){return`${e*-32}px`}const tu={[re.MYSTIC_PEAK]:{Score:{base:600,attemptBonus:{0:400,1:200},scoreConfig:{base:{correctMultiplier:1,incorrectMultiplier:0},trekker:{correctMultiplier:1,incorrectMultiplier:0,correctScore:1e3,incorrectScore:0},pioneer:{correctMultiplier:2,incorrectMultiplier:-1,correctScore:2e3,incorrectScore:-1e3},leader:{correctMultiplier:1.5,incorrectMultiplier:-.5,correctScore:1500,incorrectScore:-500}}},powerups:{avalanche:{warningTime:3*Bh}},pathFinderTypes:{TREKKER:"trekker",LEADER:"leader",PIONEER:"pioneer"},tierConfig:{diamond:{name:"Diamond Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Diamond.svg",textColor:"",badgeOffset:bi(0)},gold:{name:"Gold Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Gold.svg",textColor:"#FCB13A",badgeOffset:bi(1)},silver:{name:"Silver Tier",gradient:"rgba(217, 217, 217, 0.2)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Silver.svg",textColor:"#F0F0F0",badgeOffset:bi(2)},bronze:{name:"Bronze Tier",gradient:"rgba(166, 124, 82, 0.5)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Bronze.svg",textColor:"#E4986F",badgeOffset:bi(3)},iron:{name:"Iron Tier",gradient:"rgba(255, 195, 104, 0.4)",badgeImgUrl:"https://cf.quizizz.com/join/img/mystic_peak/Badges/Iron.svg",textColor:"",badgeOffset:bi(4)}},minimumAttemptBeforePass:2,passableQuestionTypes:[Y.MSQ,Y.DRAGNDROP,Y.DND_IMAGE,Y.DROPDOWN,Y.MATCH,Y.REORDER,Y.EQUATION,Y.GRAPHING,Y.HOTSPOT,Y.CLASSIFICATION]}};class gm{constructor(t){We(this,"List");this.List=t}get(t){return Uo(t)}isExactly(t,s){const n=Uo(t),a=Uo(s);return!!(n&&a&&n===a)}matchDepth(t,s){var i,r;let n=0;if(!t||!s)return n;const a=Array.isArray(t)?t:((i=Uo(t))==null?void 0:i.split("."))||[],o=Array.isArray(s)?s:((r=Uo(s))==null?void 0:r.split("."))||[];for(let c=0;c<a.length&&(o[c]&&a[c]===o[c]);c++)n+=1;return n}matches(t,s,n=1,a=!1){const o=Array.isArray(s)?s:[s],i=Nt(o,r=>this.matchDepth(t,r));if(Array.isArray(n)){for(let r=0;r<i.length;r++){const c=n[r]||n[n.length-1];if(a){if(i[r]>=c)return!0}else if(!(i[r]>=c))return!1}return!a}if(ut(n)){if(!a)return(Hp(i)||0)>=n;for(let r=0;r<i.length;r++)if(i[r]>=n)return!0;return!1}return!1}isInList(t){const s=Uo(t),n=fm(this.List);return s?n.includes(s):!1}}function Uo(e){return typeof e=="string"?e:li(e)&&e._BASE_||null}function fm(e){let t=[];Qs(e);for(const[s,n]of Object.entries(e))if(typeof n=="string")t.push(n);else if(an(n)){const a=fm(n);t=t.concat(a)}return t}const Hh={_BASE_:"root",PAGE_404:"page404",COURSE:{_BASE_:"course",DETAILS:"course.details"},JOIN:"join",LANDING:{_BASE_:"landing",HOME:"landing.home",DASHBOARD:"landing.dashboard",AVATAR_SHOP:"landing.avatarShop",SEARCH:"landing.search",GAME_CODE:"landing.gameCode",ACTIVITY:{_BASE_:"landing.activity",RUNNING:"landing.activity.running",CREATED:"landing.activity.created",COMPLETED:"landing.activity.completed"},CLASSES:"landing.classes",GROUPS:"landing.groups",APP_SETTINGS:"landing.appSettings",TOPIC_RECOMMENDATIONS:"landing.topicRecommendations",EVENT_QUIZZES:"landing.eventQuizzes",FLASHCARDS:"landing.flashcards",NOTES:"landing.notes"},IN_GAME:{_BASE_:"inGame",WAITING:"inGame.waiting",CHALLENGE_WAITING:"inGame.challengeWaiting",COUNTDOWN:"inGame.countdown",GAME_MODE_ENTRY:"inGame.gameModeEntry",ACCURACY_COUNTDOWN:"inGame.accuracyCountdown",QUIZ:{_BASE_:"inGame.quiz",REDEMPTION_QUESTION_SELECTOR:"inGame.quiz.redemptionQuestionSelector",ANSWER_LATER_QUESTIONS_SCREEN:"inGame.quiz.answerLaterQuestionsScreen",BREAK_ROOM_SCREEN:"inGame.quiz.breakRoomScreen",BEFORE_REDEMPTION_SECTION:"inGame.quiz.beforeRedemptionSection",REVIEW_QUESTIONS_SCREEN:"inGame.quiz.reviewQuestionsScreen",MASTERY_MODE_ACCURACY_COUNTDOWN:"inGame.quiz.masteryModeAccuracyCountdown",MASTERY_MODE_CONFIRMATION_SCREEN:"inGame.quiz.masteryModeConfirmationScreen",STUDENT_DUEL:"inGame.quiz.studentDuel",STUDENT_TEACHER_PACED:"inGame.quiz.studentTeacherPaced"},AFTER_REDEMPTION_SECTION:"inGame.afterRedemptionSection",GAME_OVER:"inGame.gameOver",SUMMARY:"inGame.summary",PRACTICE_SUMMARY:"inGame.practiceSummary",CHALLENGE_PRE_SUMMARY:"inGame.challengePreSummary",NPS_SCREEN:"inGame.npsScreen",LEARNER_FEEDBACK:"inGame.learnerFeedback",COURSE_LISTING:"inGame.courseListing",AVATAR_AWARD:"inGame.avatarAward"},QUIZ:{_BASE_:"quiz",START:"quiz.start",PRE_GAME_DETAIL:"quiz.preGameDetail",CHALLENGE:"quiz.challenge"},PRE_GAME_DETAIL:{_BASE_:"preGameDetail",RUNNING:"preGameDetail.running"},EMBED:{_BASE_:"embed",GAME:"embed.game",QUIZ:"embed.quiz"}},O=new gm(Hh),TO={noCorrectAnswer:"#2D70AE",correct:"#00c985",inCorrect:"#EF3C69",timedOut:"#B6B6B6",partiallyCorrect:"#EFA929",submitted:"#8854C0"},Vh=4,jh="LT",bl={WITH_PREFIX:10,WITHOUT_PREFIX:8},Nl={0:"#EC0B43",1:"#EFA929",2:"#EFA929",3:"#EFA929",4:"#EFA929",5:"#00C985"};function Dl(e,t,s,n,a,o,i,r,c){if(!t)return{total:0,base:0,timer:0,streak:0};const u=r?$h(a):0;let l=0;i&&e&&(l=o===qi.ORIGINAL||o===qi.EXTRA_LIFE?ha.TIMER:ha.TIMER_WHEN_REDEMPTION);function p(h){h.timer=0,h.streak=0}function d(h){h.base/=2,h.total/=2}function g(h){p(h),d(h)}if(e){const E=ha.BASE;let A=0,_=1-Math.max(Math.min(n/s,1),0);_=_>.975?1:_,n<s&&i&&(A=Math.floor(_*l/10)*10);const v={total:E+A+u,base:E,timer:A,streak:u};return c&&g(v),v}const f={total:ha.BASE+l+u,base:ha.BASE,timer:l,streak:u};return c&&g(f),f}function yO({isTimerBonusAllowed:e,questionTime:t,responseTime:s,currentStreak:n,responseType:a,showTimerGameOption:o,isStreakAllowed:i,isRedemptionPass:r}){return{correct:Dl(e,!0,t,s,n,a,o,i,r),incorrect:Dl(e,!1,t,s,n,a,o,i,r)}}function $h(e){return e>=ki.SECOND.START&&e<=ki.SECOND.END?100:e>=ki.THIRD.START&&e<=ki.THIRD.END?200:e>=ki.THIRD.END+1?300:0}function Wh(e){return Nt(e,t=>({...t,isProfane:pi(t.playerId)}))}function Yh(e,t){return Nt(e,s=>{const n=Ut(t,o=>o.teamId===s.teamId);let a="";return n&&n.teamName&&(a=n.teamName),{...s,teamName:a}})}function hm(e,t){const s=Ms(e,{playerId:t});return s!==-1?e[s].rank:-1}function Su(e){const t=qs(e,["score"],["desc"]);return Nt(t,(s,n)=>({...s,rank:n+1}))}function _m(e,t,s,n={},a=""){t&&Object.keys(t).length||(t=sr());let o={};const i=C_(e,s);a&&n&&(o=Jr(n,(r,c)=>c!==_t.CORRECT&&c!==_t.INCORRECT?Jt(i,c)&&c!==a:c!==a)),!o[_t.CORRECT]&&(o[_t.CORRECT]=Ql(t,e.length,_t.CORRECT)),!o[_t.INCORRECT]&&(o[_t.INCORRECT]=Ql(t,e.length,_t.INCORRECT));for(let r=0;r<i.length;r++){const c=i[r],u=w_(t,e.length,c);u&&!o[c]&&(o[c]=u)}return{...o}}function IO(e,t,s,n=!0){let a={};if(e?(s[_t.CORRECT]&&(a=ea(s,_t.CORRECT)),n&&(s[_t.HALFWAY]&&(a=ea(s,_t.HALFWAY)),s[_t.COMEBACK]&&(a=ea(s,_t.COMEBACK)),s[_t.THREE_IN_ROW]&&(a=ea(s,_t.THREE_IN_ROW)),s[_t.SEVEN_IN_ROW]&&(a=ea(s,_t.SEVEN_IN_ROW)),s[_t.TEN_IN_ROW]&&(a=ea(s,_t.TEN_IN_ROW)),s[_t.PERFECT]&&(a=ea(s,_t.PERFECT)))):(s[_t.INCORRECT]&&(a=ea(s,_t.INCORRECT)),n&&t<Gf&&s[_t.TOO_FAST]&&(a=ea(s,_t.TOO_FAST)),s[_t.HALFWAY]&&(a=ea(s,_t.HALFWAY))),a&&a.url)return a;const o=e?_t.CORRECT:_t.INCORRECT,i=sr();return{url:i[o][O_(i[o].length-1)],type:o,category:Wc.GENERAL}}function Ec(){const e=sr(),t={};return t[_t.CORRECT]=e[_t.CORRECT][0],t[_t.INCORRECT]=e[_t.INCORRECT][0],t[_t.TOO_FAST]=e[_t.TOO_FAST][0],t}function Kh(e){return vm(e)||Jh(e)}function Jh(e){if(!ni(e)||S(e)||S(e.trim())||!Jt(Kd,e.length))return!1;for(let t=0;t<e.length;t++)if(Nr(Number.parseInt(e[t],10)))return!1;return!0}function vm(e){if(!ni(e)||S(e)||S(e.trim()))return!1;const t=e.trim();if(t.startsWith(jh)&&t.length===bl.WITH_PREFIX){const s=t.split("LT");if(/^\d+$/.test(s[1])&&s[1].length===bl.WITHOUT_PREFIX)return!0}return!1}function Em(e){if(!Array.isArray(e))return!0;for(let t=0;t<e.length;t++)if(!(e[t].type in _l&&_l[e[t].type]>=e[t].version))return!1;return!0}function SO(e){switch(e){case Y.MCQ:return U("Multiple Choice");case Y.MSQ:return U("Multiple Choice");case Y.BLANK:return U("Fill in the Blank");case Y.OPEN:return U("Open Ended");case Y.DROPDOWN:return U("Drop Down");case Y.HOTSPOT:return U("Hotspot");case Y.DRAGNDROP:return U("Drag and Drop");case Y.CLASSIFICATION:return U("Categorize");case Y.MATCH:return U("Match");case Y.REORDER:return U("Reorder");case Y.DRAW:return U("Draw");case Y.WORDCLOUD:return U("Word Cloud");case Y.AUDIO:return U("Audio response");default:return""}}function Xh(e,t){var a;const{comprehensionQuestionIds:s=[]}=e,{comprehensionQuestionId:n}=e;return s.length?s.reduce((o,i)=>{var r;return(Number.parseInt(((r=t[i])==null?void 0:r.time)||0,10)||0)+o},0):((a=t[n])==null?void 0:a.time)||0}function Ru(e,{dataIsStrigified:t=!0,forGameBeingPlayed:s=!1,slidesFlowControlType:n=es.PARTIAL}={}){var i,r,c,u,l,p,d,g,f;const a={},o=Object.keys(e);for(let h=0;h<o.length;h++){const E=o[h];let A;const _=t?JSON.parse(e[E]):e[E],v=k(_,"structure.marks.correct",-1)<0?{correct:wm(_)||Ou(_)?0:1,incorrect:0}:_.structure.marks,y=Xh(_,e);if(f_(_,2)){const N=s&&n!==es.NONE?dn.ACTIVE:_.state;let{answer:G}=_.structure;if(Dr(G))switch(_.type){case Y.MCQ:G=-1;break;default:G=[]}const z=(i=_.comprehensionQuestionIds)==null?void 0:i.reduce((H,w)=>{var M,J;_.type===Y.COMPREHENSION_VIDEO&&!((M=e[w])!=null&&M.comprehensionTimestamp)&&(e[w].comprehensionTimestamp=0);const I=Math.round((J=e[w])==null?void 0:J.comprehensionTimestamp);return H[I]||(H[I]=[]),H[I].push(w),H},{}),Q=S(z)?_.comprehensionQuestionIds:si(_.comprehensionQuestionIds,H=>{var w;return(w=e[H])==null?void 0:w.comprehensionTimestamp});A={..._.structure.query,id:_._id,options:_.structure.options||[],targets:_.structure.targets||[],matches:_.structure.matches||[],answer:G,elements:_.structure.elements||[],explain:_.structure.explain||{},order:_.structure.order||"",comprehensionQuestionIds:Q,comprehensionQuestionId:_.comprehensionQuestionId,comprehensionTimestamp:_.comprehensionTimestamp,comprehensionTimestamps:z,time:y+_.time,type:_.type,state:N,ver:_.ver,responses:[],marks:v,settings:k(_,"structure.settings",h_(_)),graphs:((r=_==null?void 0:_.structure)==null?void 0:r.graphs)||[],hints:((c=_==null?void 0:_.structure)==null?void 0:c.hints)||[],questionDisplayVariant:(l=(u=_.structure)==null?void 0:u.settings)==null?void 0:l.questionDisplayVariant,tts:((p=_.structure.query)==null?void 0:p.tts)||{},annotations:(_==null?void 0:_.annotations)??[],slideAccommodations:{translatedWords:((d=_==null?void 0:_.structure)==null?void 0:d.translatedWords)||[],slideAudio:((g=_==null?void 0:_.structure)==null?void 0:g.slideAudio)||null,markdownForSlide:((f=_==null?void 0:_.structure)==null?void 0:f.markdownForSlide)||null}},_.startedAt&&(A.startedAt=_.startedAt),A.metadata={isTimerPaused:k(_,"metadata.isTimerPaused",!1),isVideoPlaying:k(_,"metadata.isVideoPlaying",!1)},_.type===Y.CONTENT_SLIDE&&(A.structure={},A.structure.bullets=_.structure.bullets,A.structure.kind=_.structure.kind,A.structure.para=_.structure.para,A.structure.media=_.structure.media,A.structure.title=_.structure.title,A.structure.subtitle=_.structure.subtitle,A.structure.theme=_.structure.theme,A.metadata.currentBulletIndex=k(_,"metadata.currentBulletIndex",-1)),_.type===Y.CONTENT_SLIDE_V2&&(A.structure={},A.structure.elements=_.structure.elements||[],A.structure.theme=_.structure.theme)}else{A={id:_._id,text:_.questionText,type:_.type,ver:2,time:_.time,responses:[],answer:_.answerIndex,isOldFormat:!0,marks:v},_.media&&_.media.url&&(A.media=[{type:_.media.type||"image",url:_.media.url,meta:{}}]);const N=[];for(let G=0;G<_.questionOptions.length;G++)N.push({type:"text",text:_.questionOptions[G]});A.options=N}a[_._id]=A}return a}function RO(e){return!!(e.type==="image"&&e.media&&e.media[0]&&e.media[0].url&&e.media[0].url.trim()!=="")}function CO(e){return!!(e.type==="audio"&&e.media&&e.media[0]&&e.media[0].url&&e.media[0].url.trim()!=="")}function wO(e,t=!1){return!!(e.type==="text"&&(t||e.text&&e.text.trim()!==""||e.hasMath))}function OO({optionsSelected:e,actualAnswer:t,currentBlankId:s}){var o,i;const n=(o=t.find(r=>r.targetId===s))==null?void 0:o.optionId[0],a=(i=e.find(r=>r.targetId===s))==null?void 0:i.optionId[0];return n===a}function Cu(e,t){if(!an(e))return[];const s=e.media||k(e,"structure.media")||k(e,"structure.query.media")||k(e,"query.media");return Zt(s,n=>n.type===t&&(n.url!==""||[zn.GOOGLE_DRIVE,zn.ONE_DRIVE,zn.BOCLIPS].includes(n.meta.src)))}function PO(e){return Am(e)||Tm(e)||ym(e)}function Am(e){return!S(Cu(e,"image"))}function Tm(e){return!S(Cu(e,"audio"))}function ym(e){return!S(Cu(e,"video"))}function kO(e,t=xn.QUESTION,s=!1){const n=lr(e,t),a=Im(e,t),o=Sm(n),i=sc(e,t),r=n.video;if(i===zn.LOCAL)return n.url;if(i===zn.GOOGLE_DRIVE&&r)return`https://www.googleapis.com/drive/v3/files/${r}?alt=media&key=AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg`;if(i===zn.ONE_DRIVE&&r)return`https://onedrive.live.com/download?${r}`;if(i===zn.BOCLIPS||a==="")return"";let c=`https://www.youtube.com/embed/${a}?enablejsapi=1`;return o.start>=0&&o.end>=0&&(c+=`&start=${Math.floor(Rn(o.start))}&end=${Math.floor(Rn(o.end))}`),s&&(c+="&autoplay=1"),c}function bO(e,t=xn.QUESTION){const s=lr(e,t);return k(s,"video",null)}function Im(e,t=xn.QUESTION){const s=lr(e,t);let n=k(s,"meta.videoId","");if(S(n)){const a=k(s,"url","");if(!S(a))if(n=a.split("v=")[1],n){const o=n.indexOf("&");o!==-1&&(n=n.substring(0,o))}else{const o=a.split("/");n=o[o.length-1]}}return n}function NO(e,t=xn.ELEMENT){return Im(e,t)}function Zh(e,t){if(!an(e))return[];const{media:s}=e;return Zt(s,n=>(n==null?void 0:n.type)===t&&(n==null?void 0:n.url)!=="")}function e_(e){return!S(Zh(e,"image"))}function lr(e,t){let s={};switch(t){case"question":s=k(e,"media[0]",{});break;case"explain":s=k(e,"explain.media[0]",{});break;case"slide":s=k(e,"structure.media[0]",{});break;case"element":s=k(e,"data.media",{});break}return s}function Sm(e={}){const t=an(e.meta)?e.meta:{},s=Ll(t,"startTime","start"),n=Ll(t,"endTime","end");return{start:Nr(s)?-1:Math.floor(s),end:Nr(n)?-1:Math.floor(n)}}function Ll(e,t,s){return Dn(e,t)?Rn(e[t]):Dn(e,s)?Rn(e[s]):-1}function DO(e,t=xn.QUESTION){const s=lr(e,t);return Sm(s)}function sc(e,t=xn.QUESTION){const s=lr(e,t);return k(s,"meta.src",null)}function LO(e,t=xn.QUESTION){const s=sc(e,t);return s===zn.GOOGLE_DRIVE||s===zn.ONE_DRIVE}function zO(e,t=xn.QUESTION){return sc(e,t)===zn.LOCAL}function GO(e,t=xn.QUESTION){return sc(e,t)===zn.BOCLIPS}function Eo(e,t){return ra(e,(s,n=[],a)=>{const o=[];for(let i=0;i<n.length;i++)Jt(t,n[i])&&o.push(i);return o.length>0&&(s[a]=o),s},{})}function wu(e){return O.matches(e,O.List.IN_GAME._BASE_)}function gi(e){return e===Je.ASYNC||e===Je.LIVE||e===re.TEACHER_PACED}function t_(e,t){let s=k(t,"playerMetadata.skipped",{});return S(s)&&(s=k(e,"metadata.skipped",{})),S(s)?[]:Qs(s)}function Rm(e,t){let s=k(t,"playerMetadata.extraLife",[]);return S(s)&&(s=k(e,"metadata.extraLife",[])),s}function s_(e,t){const s=Rm(e,t);if(!S(s))return Ut(s,n=>n.status===po.IN_PROGRESS)}function n_({extraLifeArray:e,currentId:t}){const s=Ut(e,a=>a.questionId===t);return S(s)||Dr(s)?!1:s.status===po.IN_PROGRESS}function So(e){return e===re.TEAM||e===re.TEST||e===re.CHALLENGE||e===re.TEACHER_PACED||e===zs.LIVE_PRESENTATION||e===re.MYSTIC_PEAK||e===re.COMMON_ASSESSMENT?Je.LIVE:e===zs.ASYNC_PRESENTATION||e===zs.FLASHCARD_ASYNC?Je.ASYNC:e===zs.SOLO_PRESENTATION||e===zs.FLASHCARD?Je.SOLO:e}function fi(e){return e===zs.FLASHCARD_ASYNC?re.FLASHCARD:e===re.TEAM?re.TEAM:e===re.TEST?re.TEST:e===re.CHALLENGE?re.CHALLENGE:e===re.TEACHER_PACED?re.TEACHER_PACED:e===zs.FLASHCARD?re.FLASHCARD:e===zs.LIVE_PRESENTATION||e===zs.ASYNC_PRESENTATION||e===zs.SOLO_PRESENTATION?re.PRESENTATION:e===re.MYSTIC_PEAK?re.MYSTIC_PEAK:e===re.COMMON_ASSESSMENT?re.COMMON_ASSESSMENT:re.NORMAL}function su(e,t){if(t===re.FLASHCARD&&e===Je.ASYNC)return zs.FLASHCARD_ASYNC;if(t===re.PRESENTATION){if(e===Je.LIVE)return zs.LIVE_PRESENTATION;if(e===Je.ASYNC)return zs.ASYNC_PRESENTATION;if(e===Je.SOLO)return zs.SOLO_PRESENTATION}return t===re.NORMAL||t===re.MASTERY_MODE?e:e===Je.SOLO&&t===re.FLASHCARD?zs.FLASHCARD:t}function Ma(e){return e?t=>su(t,re.MASTERY_MODE):su}function Cm(e,t,s){return t===re.PRESENTATION&&(e===Je.SOLO||e===Je.ASYNC)||(t===re.TEACHER_PACED||t===re.PRESENTATION)&&e===Je.LIVE&&s&&s===oi.STUDENT_PACED?es.FULL:t===re.PRESENTATION&&e===Je.LIVE||t===re.TEACHER_PACED?es.NONE:es.PARTIAL}function er({gameMode:e}){return e===re.PRESENTATION}function MO({quizType:e}){return e===$a.PRESENTATION}function Hi({createdAt:e,expiry:t,mode:s,type:n}){if(Ia(s||"",n))return{willExpireAfter:t};const a=Rn(e)+1e3*Rn(t);return{willExpireAfter:a,willExpireOn:new Date(a)}}function zl(e,t=1,s=1){return e*(t/s-1)}function xO({provisionalScores:e,numPlayersInLargestTeam:t,numPlayersInCurrentTeam:s}){return{correct:zl(e.correct.total,t,s),incorrect:zl(e.incorrect.total,t,s)}}function nc(e={}){return[Y.OPEN,Y.DRAW,Y.AUDIO,Y.VIDEO].includes(e.type)?!1:Dn(e,"settings.hasCorrectAnswer")?e.settings.hasCorrectAnswer:!0}function a_(e={}){return k(e,"marks.correct",-1)===0}function Gl(e,t,s,n){const a=[...e,s,...t];let o=-1;for(let i=0;i<a.length;i++)if(a[i]===n.id&&(o+=1,o===n.attemptIndex))return i;return-1}function Ml(e,t=xn.QUESTION){return b.invariant(!S(e),`Invalid questionId(${e}) provided to getIdForQuestionSound`),`${t}_${e}`}function o_(e){const t=[];return!S(e.media)&&e.media[0].type==="audio"&&t.push(Ml(e.id)),e.explain&&!S(e.explain.media)&&e.explain.media[0].type==="audio"&&t.push(Ml(e.id,xn.EXPLAIN)),t}function i_(e){const t=O.isExactly(e,O.List.IN_GAME.SUMMARY),s=O.isExactly(e,O.List.IN_GAME.GAME_OVER);return t||s||!wu(e)}function FO(e){return e===100?Er.PERFECT:e>=75?Er.GOOD:e>=40?Er.AVERAGE:Er.POOR}function QO({gameType:e,gameMode:t}){if(e===Je.LIVE)switch(t){case re.CHALLENGE:return{icon:"icon-fas-user-friends",title:U("Challenge game")};case re.TEAM:return{icon:"icon-fas-users",title:U("Team mode")};case re.TEST:return{icon:"icon-fas-clock",title:U("Test mode")};case re.COMMON_ASSESSMENT:return{icon:"icon-fas-clock",title:U("Assessment")};default:return{icon:"icon-fas-chalkboard-user",title:U("Live")}}else{if(e===Je.SOLO)return{icon:"icon-fas-user",title:t===re.FLASHCARD?U("Flashcards"):U("Solo review")};if(e===Je.ASYNC)return{icon:"icon-fas-file",title:t===re.FLASHCARD?U("Flashcards"):U("Assignment")}}return{icon:"",title:""}}function qO(e){switch(e.type){case Y.MSQ:case Y.OPEN:case Y.WORDCLOUD:case Y.BLANK:case Y.DRAW:case Y.VIDEO:case Y.AUDIO:case Y.MATCH:case Y.REORDER:case Y.DRAGNDROP:case Y.DROPDOWN:case Y.EQUATION:case Y.GRAPHING:case Y.DND_IMAGE:case Y.HOTSPOT:case Y.CLASSIFICATION:return!0;case Y.MCQ:default:return!1}}function hi({type:e,traits:t}){const s=an(t)?t:{};let n=e;return S(e)&&(n=(ut(s.totalSlides)?s.totalSlides:0)>=1?$a.PRESENTATION:$a.QUIZ),n}function r_(e){var i;if(!e)return"";e=e.split("<br>").filter(Boolean).join("<br>"),e=e.split("&nbsp;").filter(Boolean).join(" ");const t=["script","link"],s=/<[^\s][^>]+>/gi;let n="",a=0,o;do if(o=s.exec(e),o){const r=(i=o[0].match(/<\/?([^\s>]+)/))==null?void 0:i[1];r&&t.includes(r)&&(n+=`${e.substring(a,o.index)} `,a=o.index+o[0].length)}while(o);return n+=`${e.substring(a,e.length)} `,e=n,e=e.split(" ").filter(Boolean).join(" "),e}function c_({response:e},t){if(!nc(t))return!0;if(t.type===Y.BLANK){const o=ul($i(e)),i=Nt(t.options,r=>ul($i(r_(r.text))));return Jt(i,o)}const n=Array.isArray(e)?e:[e],a=Array.isArray(t.answer)?t.answer:[t.answer];return pu(si(n),si(a))}function UO(e="study",t=!1){return{memes:!1,jumble:t,jumbleAnswers:!1,redemption:Gt.Redemption.NO,studentLeaderboard:Gt.StudentLeaderboard.NO,powerups:Gt.Powerups.NO,timer:Gt.Timer.OFF,flashcardMode:e}}function Ou(e){const t=e.type||e.questionType;return[Y.CONTENT_SLIDE,Y.CONTENT_SLIDE_V2].includes(t)}function Bs(e){const t=e.type||e.questionType;return[Y.MCQ,Y.MSQ,Y.BLANK,Y.OPEN,Y.WORDCLOUD,Y.DRAW,Y.AUDIO,Y.VIDEO,Y.MATCH,Y.DRAGNDROP,Y.DROPDOWN,Y.EQUATION,Y.REORDER,Y.GRAPHING,Y.DND_IMAGE,Y.HOTSPOT,Y.CLASSIFICATION,Y.FLASHCARD].includes(t)}function wm(e){return Jt([Y.MCQ,Y.MSQ],e.type)&&k(e,"structure.settings.hasCorrectAnswer")===!1}function Om(e){return Jt([Y.MCQ,Y.MSQ],e==null?void 0:e.type)&&k(e,"settings.hasCorrectAnswer")===!1}function BO(e){const t=e.type||e.questionType;return Bs(e)&&(Jt([Y.MCQ,Y.MSQ],t)||wm(e))}function HO(e){const t=e.type||e.questionType;return Bs(e)&&Y.FLASHCARD===t}function VO(e){const t=e.type||e.questionType;return Bs(e)&&Jt([Y.WORDCLOUD,Y.OPEN,Y.BLANK],t)}function jO(e){const t=e.type||e.questionType;return Bs(e)&&Y.BLANK===t}function Pm(e){const t=e.type||e.questionType;return Bs(e)&&Jt([Y.AUDIO,Y.VIDEO],t)}function $O(e){const t=e.type||e.questionType;return Bs(e)&&Y.DRAW===t}function u_(e){const t=e.type||e.questionType;return Bs(e)&&Jt([Y.MATCH,Y.REORDER],t)}function WO(e){const t=e.type||e.questionType;return Bs(e)&&Y.REORDER===t}function YO(e){const t=e.type||e.questionType;return Bs(e)&&Y.MATCH===t}function KO(e){const t=e.type||e.questionType;return Pm(e)&&Y.AUDIO===t}function JO(e){const t=e.type||e.questionType;return Pm(e)&&Y.VIDEO===t}function l_(e){const t=e.type||e.questionType;return Bs(e)&&Jt([Y.DRAGNDROP,Y.DROPDOWN],t)}function XO(e){const t=e.type||e.questionType;return Bs(e)&&Y.EQUATION===t}function ZO(e){const t=e.type||e.questionType;return Bs(e)&&Y.GRAPHING===t}function eP(e){const t=e.type||e.questionType;return Bs(e)&&Y.DND_IMAGE===t}function tP(e){const t=e.type||e.questionType;return Bs(e)&&Y.HOTSPOT===t}function sP(e){const t=e.type||e.questionType;return Bs(e)&&Y.CLASSIFICATION===t}function nP(e){const t=e.type||e.questionType;return Bs(e)&&Y.DROPDOWN===t}function aP(e){return[mn.TIMED_OUT,mn.ATTEMPTED_SILENTLY].includes(e)}function oP(e){return e.version===Bf.TWO_POINT_ZERO}function iP(e){return{processedUrl:k(e,"media[0].url",""),unprocessedUrl:k(e,"media[0].meta.unprocessed",""),mimeType:k(e,"media[0].meta.mimeType","")}}function rP({currentQuizData:e,gameData:t}){const s=S(e.questionVersions)?t.version:e.questionVersions;return eu()&&(s??[]).findIndex(n=>n.type===Y.VIDEO)>-1&&!Ps}function cP({quizId:e,roomCode:t,redirectTo:s="store"}){let n="https://apps.apple.com/in/app/quizizz-play-to-learn/id1160249042";s==="app"&&(S(t)?S(e)?n="quizizz://redirectapp":n=`quizizz://redirectapp&url=quizizz.com/join/quiz/${e}/start`:n=`quizizz://redirectapp&url=quizizz.com/join?gc=${t}`),window.location=n}function uP(e){const t=[];if(k(e,"media[0].url")&&t.push({text:`Question contains an ${k(e,"media[0].type")}`,id:e.id,type:"question"}),e.text)return t.push({text:`Question: ${Hr(e.text)}`,id:e.id,type:"question"}),t;const n=k(e,"media[0].meta.text");return n?(t.push({text:`Question: ${Hr(n)}`,id:e.id,type:"question"}),t):(t.push({text:"Question is an image",id:e.id,type:"question"}),t)}function lP(e){const t=[],s=e.type===Y.OPEN||e.type===Y.WORDCLOUD,n=e.type===Y.BLANK;return s||n?[]:(It(e.options,(a,o)=>{if(a.type==="text"){t.push({text:`Option  ${o+1}: ${Hr(a.text)}`,id:a.actualIndex,type:"option"});return}const i=k(a,"media[0].meta.text");if(i){t.push({text:`Option ${o+1}: ${Hr(i)}`,id:a.actualIndex,type:"option"});return}t.push({text:`Option ${o+1} is an image`,id:a.actualIndex,type:"option"})}),t)}function d_(e,t){let s=0;const n=Object.keys(Nl).length-1;return e===t||e>t||t>n?s=n:s=e,Nl[s]}function m_(e){const t={totalOptions:e.length,correctOptions:0};return e.forEach(({isRightChoice:s})=>{s&&(t.correctOptions+=1)}),t}function dP(e){const{correctOptions:t,totalOptions:s}=m_(e);return d_(t,s)}function mP(e,t){let s=mn.ATTEMPTED;return e&&(t?s=mn.DRAFT:s=mn.SEEN),s}function p_(e,t=!1){const s=e.filter(({state:n})=>Gn.ANSWER_LATER_RESPONSE_STATES.includes(n)).map(({questionId:n})=>n);return t&&e.forEach(n=>{n.state==="attempted"&&s.includes(n.questionId)&&s.splice(s.indexOf(n.questionId),1)}),s}function g_(e,t){const s=e.filter(n=>n.attempt===0&&Gn.REVIEW_AND_SUBMIT_RESPONSE_STATES.includes(n.state));return t===s.length}function pP({finalAnswer:e,answerResponseType:t="",answerResponseDescriptor:s="",meta:n,customAnswer:a,customAnswerResponseType:o="",customAnswerResponseDescriptor:i=""}){const r=[],c={type:t,value:e,descriptor:s};return n&&(c.meta=n),r.push(c),a&&r.push({type:o,value:a,descriptor:i}),r}function gP(e){var t;return S(e.answer)?[]:((t=e==null?void 0:e.answer[0])==null?void 0:t.value)||[]}function f_(e,t=2){const s=k(e,"ver");return ut(s)?s>=t:!0}function h_(e={}){const t=e.type||Y.MCQ,s={hasCorrectAnswer:!0};return t===Y.BLANK&&(s.fibDataType=El.STRING,s.questionDisplayVariant=Ff.BLANK.SINGLE_BLANK),t===Y.EQUATION&&(s.equationDataType=El.STRING),s}function tr(e){return e&&e.state===mn.ATTEMPTED&&e.result===Ua.CORRECT}function __(e,t=new Set){const s=new Set;return e.forEach(n=>{const{questionId:a}=n;!tr(n)&&!t.has(a)&&s.add(a)}),s}function v_(e){const t=new Set;return e.forEach(s=>{tr(s)&&t.add(s.questionId)}),t}function Ia(e,t){return t===Je.LIVE&&e===re.MYSTIC_PEAK}function ii({gameType:e,gameMode:t,isMasteryMode:s}){return!!(e===Je.ASYNC&&s||Ia(t,e))}function E_(e){const{firstAttemptAccuracy:t,accuracy:s}=e;return t===(typeof s=="number"?s:Number.parseInt(s))}function fP(e,t){return t.reduce((s,n)=>{if(n.state===mn.TIMED_OUT)return s;const a=e[n.questionId];return(Ou(a)||Om(a)||a_(a))&&(s+=1),s},0)}function km(e={},t){const s=e[t];if(!s)return{};const n=s.length-1>0?s.length-1:0;return s[n]||{}}function hP({attemptNo:e=0,isPathFinder:t=!1,pathFinderType:s=tu[re.MYSTIC_PEAK].pathFinderTypes.PIONEER}){const{base:n,attemptBonus:a,scoreConfig:o}=tu[re.MYSTIC_PEAK].Score,i=a[e]||0,r=t&&e===0,c=n+i,u=r?o[s.toLowerCase()]:o.base,{correctMultiplier:l,incorrectMultiplier:p}=u,d=c*l,g=c*p;return{correct:{total:d,base:d,timer:0,streak:0,powerups:[]},incorrect:{total:g,base:g,timer:0,streak:0,powerups:[]}}}function A_({mysticPeakLevelMap:e,totalQuestionsInQuiz:t,totalCorrect:s,remainingOrder:n,incorrectQuestionIds:a}){let o;for(o=0;o<e.length&&!(e[o]>s);o++);const i=o===e.length?t-s:e[o]-s-a.length,r=[...n];return r.splice(i,0,...a),oa(r)}function T_({mysticPeakLevelMap:e,totalQuestionsInQuiz:t,totalCorrect:s,remainingOrder:n,currentId:a}){let o;for(o=0;o<e.length&&!(e[o]>s);o++);const i=o===e.length?t-s:e[o]-s,r=[...n];return r.splice(i-1,0,a),r}function y_({position:e,remainingOrder:t,allQuestions:s,visitedComprehensionQuestion:n}){let a;for(a=e;a<t.length;a++){const o=t[a],i=s[o],{comprehensionQuestionId:r}=i;if(!r||n.includes(r))return a;a++}return a}function xl({min:e=0,max:t,shouldFloor:s=!1}){const n=Math.random()*(t-e)+e;return s?Math.floor(n):n}function I_({remainingOrder:e,currentId:t,allQuestions:s,visitedComprehensionQuestion:n}){if(e.includes(t))return e;const a=xl({min:4,max:8,shouldFloor:!0}),o=[...e];if(a<=e.length-1){let i=xl({min:a,max:o.length-1,shouldFloor:!0});i=y_({position:i,remainingOrder:e,allQuestions:s,visitedComprehensionQuestion:n}),o.splice(i,0,t)}else o.push(t);return o}function S_({remainingOrder:e,hasReachedMastery:t}){return t&&e.length===0}function _P(e){return e===2?"nd ":e===3?"rd ":"th "}function R_(){const e=document.getElementById("screen-game");if(e){const{innerHeight:t,innerWidth:s}=window;e.style.setProperty("--skip-x",`${s-16}px`),e.style.setProperty("--skip-y",`-${t}px`)}}function vP(e){return e===Y.AUDIO||e===Y.VIDEO||e===Y.DRAW||e===Y.OPEN||e===Y.WORDCLOUD}function Fl(e,t){let s=0;for(let n=t.length-1;n>=0;n--)if(t[n]===e)s+=1;else return s;return s}function ea(e,t){return{url:e[t],type:t,category:t===_t.CORRECT||t===_t.INCORRECT?Wc.GENERAL:Wc.SPECIAL}}function sr(){return{[_t.CORRECT]:["https://cf.quizizz.com/join/img/correct_meme/cm14.jpg","https://cf.quizizz.com/join/img/correct_meme/cm36.jpg","https://cf.quizizz.com/join/img/correct_meme/cm25.jpg","https://cf.quizizz.com/join/img/correct_meme/cm27.jpg","https://cf.quizizz.com/join/img/correct_meme/cm33.jpg","https://cf.quizizz.com/join/img/correct_meme/cm16.jpg"],[_t.INCORRECT]:["https://cf.quizizz.com/join/img/wrong_meme/wm8.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm21.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm11.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm9.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm12.jpg","https://cf.quizizz.com/join/img/wrong_meme/wm18.jpg"],[_t.COMEBACK]:["https://cf.quizizz.com/img/memes/gifs/3og0ISvp1WKIGVOpEI.mp4"],[_t.THREE_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/l4FGDIytHEQFX43ao.mp4"],[_t.SEVEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/xUA7bcdYN2okbvWzzW.mp4"],[_t.TEN_IN_ROW]:["https://cf.quizizz.com/img/memes/gifs/3og0IzFvP9mjpeCExi.mp4"],[_t.HALFWAY]:["https://cf.quizizz.com/img/memes/gifs/xUPGcAnGNP5R1sJjMs.mp4"],[_t.PERFECT]:["https://cf.quizizz.com/img/memes/gifs/3o7btRyTcmivwZBWrC.mp4"],[_t.TOO_FAST]:["https://cf.quizizz.com/img/memes/gifs/3og0IK9pYiL4cDpAQM.mp4"]}}function C_(e,t){const s=[_t.TOO_FAST];if(t>=20&&e.length===Math.ceil(t/2)-1&&s.push(_t.HALFWAY),e.length)if(e[e.length-1])switch(Fl(!0,e)){case t-1:s.push(_t.PERFECT);break;case 2:s.push(_t.THREE_IN_ROW);break;case 6:s.push(_t.SEVEN_IN_ROW);break;case 9:s.push(_t.TEN_IN_ROW);break}else Fl(!1,e)>=3&&s.push(_t.COMEBACK);return s}function Ql(e,t,s){return e[s]?e[s][t%e[s].length]:""}function w_(e,t,s){return e[s]?e[s][t%e[s].length]:""}function O_(e,t=0){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function ql(e){return e>Vh}function Ul(e){return[Ct.COMPLETED,Ct.STOPPED,Ct.ARCHIVED].includes(e)}function EP(e,t=!1){switch(e){case re.TEAM:return U("Team");case zs.ASYNC_PRESENTATION:case Je.ASYNC:return U(t?"Scheduled":"Assigned");case re.TEST:return U("Test");case re.COMMON_ASSESSMENT:return U("Assessment");case re.CHALLENGE:return U("Challenge");case re.OFFLINE:return U("Paper mode");case zs.LIVE_PRESENTATION:case re.TEACHER_PACED:case Je.LIVE:default:return U("Live")}}function AP(e,t=!1){switch(e){case Je.LIVE:case re.TEACHER_PACED:case re.TEAM:case re.TEST:case re.COMMON_ASSESSMENT:return"tasks";case re.OFFLINE:return"qrcode";case Je.ASYNC:return t?"alarm-clock":"tasks";case zs.LIVE_PRESENTATION:case zs.ASYNC_PRESENTATION:return"presentation";case re.CHALLENGE:return"user-friends";default:return"tasks"}}function TP(e){return e===re.COMMON_ASSESSMENT}const P_=[re.TEST,re.COMMON_ASSESSMENT];function bm(e){return P_.includes(e)}function yP(e){if(S(e))return e;const t=/.+?(?=(\**$))/,s=e.match(t);return S(s)?null:s==null?void 0:s[0]}function k_(e=[],t={}){const s=e.filter(n=>{var a;return!((a=t[n])!=null&&a.comprehensionQuestionId)});return s.length?s.reduce((n,a)=>{var i,r,c,u;const o=(i=t[a])!=null&&i.comprehensionQuestionIds&&Dd((r=t[a])==null?void 0:r.comprehensionQuestionIds)&&((c=t[a])!=null&&c.comprehensionQuestionIds.length)?(u=t[a])==null?void 0:u.comprehensionQuestionIds:[a];return[...n,...o]},[]):e}function Bl(e){const{remainingQuestionIds:t=[],unAttemptedQuestionIds:s=[],lastVisibleQuestionId:n="",questions:a={}}=e,o={},i=s.reduce((l,p)=>{const d=a[p],g=d==null?void 0:d.comprehensionQuestionId,f=t.indexOf(p);return g?!a[g].comprehensionQuestionIds.some(A=>!s.includes(A))&&!l.includes(g)&&(l.push(g),f>-1&&(o[f]=g)):(l.push(p),f>-1&&(o[f]=p)),l},[]);let r=gu(i);r.includes(n)&&(r=Xo(r,n),r.unshift(n));let u=t;return Object.keys(o).forEach((l,p)=>{if(r[p]){const d=r[p],g=a[d];if([Y.COMPREHENSION,Y.COMPREHENSION_VIDEO].includes(g.type)){const f=g.comprehensionQuestionIds,h=s.filter(E=>f.includes(E));u=Xo(u,...h),u.splice(Number(l),0,...h)}else u=Xo(u,d),u.splice(Number(l),0,d)}}),u}const Dt=Ot("player",()=>{const e=m(!1),t=m(!1),s=m(""),n=m(1),a=m(-1),o=m(-1),i=m(0),r=m(0),c=m(0),u=m(0),l=m(0),p=m(0),d=m(0),g=m(0),f=m({}),h=m(!0),E=m(!1),A=m(!1),_=m([]),v=m([]),y=m([]),N=m(0),G=m(0),z=m({strikes:0,shields:0,currentLevel:0,currentStep:0,isTargetShieldActive:!1,playerShield:null,scoreDeltas:{}}),Q=m({isStriked:!1,strikeCount:0,appliedBy:"",didRebound:!1,decisionType:""}),H=m(!0),w=m(!1),I=m(!1),M=m([]),J=m(0),K=m(0),fe=m(0),P=m(0),j=m(""),oe=m("all"),X=m({}),ie=Ld({rating:0,feedback:"",isRatingSaved:!1,isFeedbackSaved:!1}),ge=m({cloth:{id:"",value:"",enabled:!0},helmet:{color:{enabled:!0,id:"",value:""},pattern:{enabled:!0,id:"",value:""}},skin:{enabled:!0,id:"",value:""}}),Ce=T(()=>q=>{const dt=s.value;return q===dt?q:pi(q)?"Fluffy Puppy":q});function Fe(q){t.value=q}function ve(q){s.value=q.playerName,h.value=!0,E.value=!1,A.value=!1,ct.setPlayerId(q.playerName)}function ot(q){const dt=q.player.isAllowed;return sn(dt)?dt:h.value}function $(q){const dt=k(q,"player.isOver");return sn(dt)?dt:E.value}function ne(q){const dt=q.room&&q.player&&q.player.attempts;S(dt)||(_.value=[...dt]),_.value=[]}function Ie(q){S(q)||(i.value=q.score,r.value=q.marks,g.value=q.totalCorrect,p.value=q.accuracy,u.value=c.value,c.value=q.currentStreak,J.value=q.firstAttempts,K.value=q.firstCorrectAttempts,fe.value=q.firstAttemptMarks,P.value=q.firstAttemptAccuracy,N.value=q.totalPossibleMarks||0,G.value=q.totalAttempt,q.tieredRank&&(X.value=q.tieredRank),q.currentStreak>l.value&&(l.value=q.currentStreak))}function qe(){s.value="",n.value=1,a.value=-1,o.value=-1,i.value=0,r.value=0,c.value=0,u.value=0,l.value=0,p.value=0,d.value=0,g.value=0,f.value={},h.value=!0,E.value=!1,A.value=!1,_.value=[],v.value=[],y.value=[],N.value=0,G.value=0,J.value=0,K.value=0,fe.value=0,P.value=0,j.value="",oe.value="all",X.value={},e.value=!1,t.value=!1,ie.rating=0,ie.isRatingSaved=!1,ie.isFeedbackSaved=!1,ct.setPlayerId("")}function at(q){const{preservePlayerId:dt}=q,zt=f.value,os=s.value;qe(),f.value=zt,dt&&(s.value=os,ct.setPlayerId(os))}function $e(){const q=f.value,dt=s.value;qe(),f.value=q,s.value=dt,ct.setPlayerId(dt)}function tt(q){ve(q)}function vt(q){var ee,te;const{player:{id:dt,monsterId:zt,extraLife:os,totalPossibleMarks:ns=0,avatar:rs}}=q,C=k(q,"room.players"),x=k(q,"player.attempts");if(Array.isArray(C)){const le=Ms(C,{id:s});o.value=C[le]&&C[le].rank||le+1}S(x)||(_.value=[...x]),q.room&&q.room.metadata&&q.room.metadata.superFormat&&((ee=q.room.metadata.superFormat)!=null&&ee.isLastGame||(e.value=!0)),s.value=dt,n.value=zt,h.value=ot(q),E.value=$(q),y.value=os,N.value=ns,ge.value=rs,ct.setPlayerId(dt),Bt(((te=q.room)==null?void 0:te.duelInfo)||{strikes:0,shields:0,currentLevel:0,playerShield:null,currentStep:0,isTargetShieldActive:!1}),ds()}function Pt(q){ne(q)}function Te(q){ne(q)}function Ne(q){ve(q)}function me(q){const{player:{id:dt,monsterId:zt,avatar:os},generatedPlayers:ns}=q;if(Array.isArray(ns)){const rs=Ms(ns,{playerId:s});o.value=ns[rs]&&ns[rs].rank||rs+1}s.value=dt,n.value=zt,ge.value=os,a.value=ns.length||a.value,h.value=ot(q),E.value=$(q),ct.setPlayerId(dt)}function Se(q){ve(q)}function Qe(q){var we,be;const{player:{id:dt,monsterId:zt,rank:os,scoreTrail:ns,extraLife:rs=y.value,avatar:C},room:{type:x,players:ee},generatedPlayers:te}=q,le=gi(x)?ee:te,De=k(q,"player.attempts");if(Number(os)>=0)o.value=os;else if(Array.isArray(le)){const Ge=le.findIndex(nt=>nt.playerId===dt);o.value=le[Ge]&&le[Ge].rank||Ge+1}S(De)||(_.value=[...De]),q.room&&q.room.metadata&&q.room.metadata.superFormat&&((we=q.room.metadata.superFormat)!=null&&we.isLastGame||(e.value=!0)),s.value=dt,n.value=zt,ge.value=C,a.value=le.length||a.value,h.value=ot(q),E.value=$(q),v.value=ns,y.value=rs,ct.setPlayerId(dt),Bt(((be=q.room)==null?void 0:be.duelInfo)||{strikes:0,shields:0,currentLevel:0,playerShield:null,currentStep:0,isTargetShieldActive:!1}),Ie(q.player)}function He(){A.value=!1}function Xe(q){s.value=q.playerName,ct.setPlayerId(q.playerName)}function Rt(q={}){s.value=k(q,"currentPlayer.playerId",s.value),n.value=k(q,"currentPlayer.monsterId",n.value),f.value=S(q.game)?f.value:{...q.game},ct.setPlayerId(s.value)}function gt(){s.value="",f.value={},ct.setPlayerId("")}function Ue(q){o.value=ut(q.currentPlayerRank)?q.currentPlayerRank:o.value,a.value=ut(q.previousPlayerRank)?q.previousPlayerRank:a.value,E.value=!0}function se(q){o.value=ut(q.currentPlayerRank)?q.currentPlayerRank:o.value,a.value=ut(q.previousPlayerRank)?q.previousPlayerRank:a.value,E.value=!0}function Ee(){E.value=!0}function ke(q){o.value=q.currentPlayerRank}function D(q){const{currentPlayerRank:dt,previousPlayerRank:zt,extraLife:os,currentDifficulty:ns,playerStats:rs}=q;o.value=dt,a.value=zt,y.value=os,j.value=ns,q.duelInfo&&Bt(q.duelInfo),Ie(rs)}function Z(q){const{score:dt,currentStreak:zt}=q;u.value=c.value,c.value=zt,i.value+=dt}function pe(q){const{game:{data:{quizId:dt,quizName:zt,image:os,grade:ns,subjects:rs,createdAt:C,isClassroomGame:x,classroomInfo:ee,roomCode:te,roomHash:le,gameType:De,gameMode:we,expiry:be},questions:{initSequence:Ge,questionResponses:nt},player:{totalCorrect:St,accuracy:mt,playerId:xt,isOver:Lt},flow:{questionTimer:cs}},user:{profile:{userName:ws}}}=q;f.value={quizId:dt,quizName:zt,quizImage:os,grade:ns,subjects:rs,createdAt:C,isClassroomGame:x,classroomInfo:ee,roomCode:te,roomHash:le,gameType:De,gameMode:we,expiry:be,numQuestions:Ge.length,numQuesAttempted:Object.keys(nt).length,numCorrect:St,accuracy:mt,playerId:xt,playerUsername:ws,isOver:Lt,questionTimer:cs}}function de(q){S(f.value)||(!f.value.playerUsername||f.value.playerUsername&&f.value.playerUsername!==q.user.userName)&&(f.value={})}function ce(){f.value={}}function he(){h.value=!0,E.value=!1}function ue(){A.value=!0}function Ve(){A.value=!1}function et(q,dt,zt,os=!1){var ns,rs;if(f.value&&an(f.value)&&!S(f.value)){const C=uh({currentId:dt,isOver:E.value,accuracy:p.value,questionTimer:q,orderedOriginalResponses:zt});if(C.isComplete){f.value={};return}const x={...f.value};x.numQuesAttempted=(ns=C.playerStats)==null?void 0:ns.numQuesAttempted,x.accuracy=(rs=C.playerStats)==null?void 0:rs.accuracy,x.lastVisibleQuestionId=C.lastVisibleQuestionId,x.isOver=C.isOver,x.questionTimer=C.questionTimer,f.value=x,!os&&Ps&&ch(x)}}function st(q,dt=!1){pe(q),!dt&&Ps&&rh({...q})}function kt({previousStreak:q,currentStreak:dt}){const zt=ut(q)?q:c.value;u.value=zt,c.value=dt}function Tt(q){oe.value=q}function _s(){d.value=p.value}function Bt(q){z.value={...z.value,...q},q.decisionOptions||delete z.value.decisionOptions}function ks(q){var dt;Q.value.appliedBy=q.strikerPlayerId,q.strikeOutcome!==Vo.REBOUNDED?(Q.value.isStriked=!1,(q.strikeOutcome===Vo.STRUCK_TARGET||q.strikeOutcome===Vo.BROKE_TARGET_SHIELD)&&(Q.value.isStriked=!0),q.strikeOutcome===Vo.DEFLECTED&&(Q.value.deflectedPlayerId=q.deflectedPlayerId),Q.value.strikeCount+=(dt=z.value.playerShield)!=null&&dt.type?0:1,Q.value.strikeOutcome=q.strikeOutcome,Q.value.decisionType=q.decisionType,setTimeout(()=>{Bt({playerShield:null})},1e3),setTimeout(()=>{Q.value.isStriked=!1},1e4)):(Q.value.didRebound=q.strikeOutcome===Vo.REBOUNDED,setTimeout(()=>{Q.value.didRebound=!1},1e4))}function ds(){Q.value={isStriked:!1,appliedBy:"",strikeCount:0,didRebound:!1,decisionType:""}}function ls(){w.value=!w.value}function ye(q){I.value=q}function At(q){ge.value=q}function Et(q){const dt="strike";let zt=0;q.decisionType==="swap"&&q.finalScores&&q.targetPlayerId in q.finalScores&&(zt=q.finalScores[q.targetPlayerId]);let os="";q.deflectedPlayerId&&(os=q.deflectedPlayerId);const ns={playerId:q.strikerPlayerId,type:dt,decisionType:q.decisionType,strikeOutcome:q.strikeOutcome,finalPlayerScore:zt,deflectedPlayerId:os};M.value=[...M.value,ns],ct.logEvent(as.STUDENT_STRIKE_SUMMARY,{opponent_player_id:q.playerId,final_outcome:dt,student_rank:o.value,student_accuracy:p.value,student_level:z.value.currentLevel,game_id:q.roomHash})}function Mt(q){M.value=[...M.value,q]}function ms(q){M.value=q}function Vs(q){ie.isFeedbackSaved=q}function xs(q){ie.isRatingSaved=q}function Zs(q){ie.rating=q}return{playerId:s,monsterId:n,previousPlayerRank:a,rank:o,score:i,marks:r,currentStreak:c,previousStreak:u,longestStreak:l,accuracy:p,currentAccuracy:p,previousAccuracy:d,totalCorrect:g,lastGamePlayed:f,isAllowed:h,isOver:E,hasJoinedTheGame:A,currentGameAttempts:_,scoreTrail:v,extraLife:y,totalPossibleMarks:N,firstAttempts:J,firstCorrectAttempts:K,firstAttemptMarks:fe,firstAttemptAccuracy:P,currentDifficulty:j,selectedTabInReview:oe,tieredRank:X,totalAttempt:G,getPlayerNameToShow:Ce,duelData:z,strikeData:Q,initiatePlayerLevelUp:H,isShielded:w,nextLevelStarted:I,avatar:ge,p2pToasts:M,qfwFeedback:ie,updateIncompleteGame:et,setIncompleteGame:st,updateStreak:kt,updateSelectedTabInReview:Tt,updatePreviousAccuracy:_s,exitGame:at,gameEnded:Ee,gameCompleted:Ue,joinRoomInProgress:tt,joinRoomResponded:vt,joinSoloGameInProgress:Ne,joinSoloGameResponded:me,resetGame:$e,checkRoomResponded:Pt,checkAssignmentResponded:Te,rejoinGameInProgress:Se,rejoinGameResponded:Qe,rejoinGameRespondedWithErr:He,updatePlayerName:Xe,loadPreviousContext:Rt,userSignedIn:de,userSignedOut:gt,gameStopped:se,setCurrentPlayerRank:ke,proceedGameResponded:D,powerupActivatedFromMysteryBox:Z,setIncompleteGameAction:pe,clearIncompleteGame:ce,updatePlayerInfoForRetry:he,playerJoinedTheGame:ue,enterLMSFlow:Ve,$reset:qe,updatePlayerStats:Ie,updateDuelData:Bt,toggleIsShielded:ls,setUnderStrike:ks,toggleNextLevelStart:ye,resetUnderStrikeData:ds,setPlayerAvatar:At,addP2PToast:Et,addShieldToast:Mt,updateP2PToastsList:ms,setQFWFeedbackStatus:Vs,saveQFWFeedbackRating:Zs,setQFWRatingStatus:xs,updateIsPlayerInSFTransitionScreen:Fe,isPlayerInSFTransitionScreen:t,isSuperFormatEligibleForPlayer:e}});var Sa=(e=>(e.default="default",e.fuji="fuji",e.kilimanjaro="kilimanjaro",e))(Sa||{}),ta=(e=>(e[e.PATHFINDER=0]="PATHFINDER",e[e.CIRCLE_WARS=1]="CIRCLE_WARS",e[e.PODIUM=2]="PODIUM",e))(ta||{});const b_={id:"default",images:{logo:"https://cf.quizizz.com/join/img/mystic_peak/default_ld_1.png",endGameBanner:"https://cf.quizizz.com/Avatar/mp-banner-default-min.png",lobby:{bg:"https://cf.quizizz.com/join/img/mystic_peak/student-lobby.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mystic-peak-mobile-pregame.png"},qna:{phase1:"https://cf.quizizz.com/join/img/mystic_peak/qna-bg.png",mPhase1:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",phase2:"https://cf.quizizz.com/join/img/mystic_peak/qna-forest-bg.png",mPhase2:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",phase3:"https://cf.quizizz.com/join/img/mystic_peak/qna-snowy-rocky.png",mPhase3:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qna-gameplay.png",peak:"https://cf.quizizz.com/join/img/mystic_peak/qa-pathfinder.png",mPeak:"https://cf.quizizz.com/join/img/mystic_peak/mobile-qa-pathfinder.png"},breakroom:{bg:"https://cf.quizizz.com/join/img/mystic_peak/breakroom_bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-breakroom.png",breakRoomItemOpen:"https://cf.quizizz.com/join/img/mystic_peak/broken_rock.svg",breakRoomItemClosed:"https://cf.quizizz.com/join/img/mystic_peak/breakroom_rock.svg",cursor:"https://cf.quizizz.com/join/img/mystic_peak/pickaxe.svg"},pathfinder:{bg:"https://cf.quizizz.com/join/img/mystic_peak/qa-pathfinder.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/pathfinder-mobile-bg.png",signboard:"https://cf.quizizz.com/join/img/mystic_peak/ice_rock.svg",mSignboard:"https://cf.quizizz.com/join/img/mystic_peak/pathFinderRockMobile.svg",pioneer:"https://cf.quizizz.com/join/img/mystic_peak/pioneer.svg",leader:"https://cf.quizizz.com/join/img/mystic_peak/leader.svg",trekker:"https://cf.quizizz.com/join/img/mystic_peak/BOOTS.png"},waitingRoom:{bg:"https://cf.quizizz.com/join/img/mystic_peak/waiting-for-others.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-waiting-for-others.png"},podium:{diamondTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_DIAMOND.png",goldTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_GOLD.png",silverTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_SILVER.png",bronzeTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_BRONZE.png",ironTicket:"https://cf.quizizz.com/join/img/mystic_peak/TICKET_IRON.png",diamondBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/diamond-balloon.png",goldBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/gold-balloon.png",silverBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/silver-balloon.png",bronzeBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/bronze-balloon.png",ironBalloon:"https://cf.quizizz.com/join/img/mystic_peak/podium-balloon/iron-balloon.png",sky:"https://cf.quizizz.com/join/img/mystic_peak/Podium.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/join/img/mystic_peak/landslide.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/mobile-landslide.png",rock1:"https://cf.quizizz.com/img/game_mode/Rock1.png",rock2:"https://cf.quizizz.com/img/game_mode/Rock2.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/LanslideEducationNew.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/lanslide-new-3.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/land_slide.png"},circleWars:{bg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg-mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/join/img/mystic_peak/title-plank-1.svg",leaderboardSelf:"https://cf.quizizz.com/join/img/mystic_peak/carving-hero-self.png",leaderboardOther:"https://cf.quizizz.com/join/img/mystic_peak/carving-hero.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-main.png",rope:"https://cf.quizizz.com/join/img/mystic_peak/rope.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars.png"},swarmAttack:{bg:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",shooter:"https://cf.quizizz.com/join/img/mystic_peak/radar_gun.png",target:"https://cf.quizizz.com/img/game_mode/bat.png",bullet:"https://cf.quizizz.com/join/img/mystic_peak/sound_wave_ico.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/powerups/BatCaveEducation.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/icon.svg",roundImg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/rounded-icon.png"},matchingPairs:{bg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg-mobile.png",tile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-tile.png",flipTile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-tile.png",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-education.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-new-logo.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pair-new.png"}},avalanche:{bg:"https://cf.quizizz.com/game/img/powerups/snow3.png",mBg:"https://cf.quizizz.com/game/img/powerups/snow3.png",icon:"https://cf.quizizz.com/join/img/mystic_peak/avalanche-new.png"},progression:{bg:"https://cf.quizizz.com/join/img/mystic_peak/MountainCompressed.png",mBg:"https://cf.quizizz.com/join/img/mystic_peak/level-progression-mobile.png",top:"https://cf.quizizz.com/join/img/mystic_peak/MASTERY%20POINT.svg",cave:"https://cf.quizizz.com/join/img/mystic_peak/MountainCave.svg"}},colors:{pathfinder:{text:"#6D6D6D",correct:"#297227",incorrect:"#9D2727",neutral:"#B6B6B6"},podium:{diamond:"#687693",gold:"#541200",silver:"#777777",bronze:"#632F1E",iron:"#F0F0F0"},miniGames:{circleWars:{scoreToBeat:"#6AFD93",leaderboard:"#FFFFFF",title:"#FFFFFF"},swarmAttack:{barLeft:"#FFB156",barRight:"#FF8131",progressBg:"#76502B",progressBorder:"#966B49"},matchingPairs:{main:"#186455"}},waitingRoom:{text:"#222222"}},sounds:{},fonts:{novaSquare:{url:"https://fonts.googleapis.com/css2?family=Nova+Square&display=swap",name:"Nova Square"},vt323:{url:"https://fonts.googleapis.com/css2?family=VT323&display=swap",name:"VT323"},poppins:{url:"https://fonts.googleapis.com/css2?family=Poppins:wght@800&display=swap",name:"Poppins"}},text:{miniGames:{swarmAttack:{target:"bats"},circleWars:{leaderboardTitle:"Carving Heroes"}},avalanche:{title:U("Avalanche")},breakroom:{intro:"Break a rock to clear your path!",instruction:"Use your pick axe to break the rock"}}},N_={id:"fuji",images:{logo:"https://cf.quizizz.com/img/mpThemes/fuji/images/logos/fuji_ld.png",endGameBanner:"https://cf.quizizz.com/Avatar/mp-banner-fuji-min.png",lobby:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/lobby/desktop-compressed.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/lobby/mobile.png"},qna:{phase1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase1.png",mPhase1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase1.png",phase2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase2.png",mPhase2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase2.png",phase3:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/phase3.png",mPhase3:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mphase3.png",peak:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/peak.png",mPeak:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/qna/mpeak.png"},breakroom:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/mobile.png",breakRoomItemOpen:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/open-scroll.svg",breakRoomItemClosed:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/closed-scroll.svg",cursor:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/breakroom/cursor.svg"},pathfinder:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/mobile.png",signboard:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/signboard.svg",mSignboard:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/pathfinder/msignboard.svg",pioneer:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/binoculars.svg",leader:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/compass.svg",trekker:"https://cf.quizizz.com/img/mpThemes/fuji/images/pathfinder/helmet.svg"},waitingRoom:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/waitingRoom/desktop-1.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/waitingRoom/mobile.png"},podium:{diamondTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/diamond.png",goldTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/gold.png",silverTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/silver.png",bronzeTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/bronze.png",ironTicket:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/iron.png",diamondBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/diamond-balloon.svg",goldBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/gold-balloon.svg",silverBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/silver-balloon.svg",bronzeBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/bronze-balloon.svg",ironBalloon:"https://cf.quizizz.com/img/mpThemes/fuji/images/podium/iron-balloon.svg",sky:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/podium/sky.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/mobile.png",rock1:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/rock1.svg",rock2:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/rock2.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/landslide/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/landslide-3.png"},circleWars:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/title-plank.svg",leaderboardSelf:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/self.svg",leaderboardOther:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/other.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",rope:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/rope.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/circleWars/icon.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-new.png"},swarmAttack:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/mobile.png",shooter:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/shooter.svg",target:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/swarmAttack/bullet.svg",bullet:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/dangerLand/bullet.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/dangerLand/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/swarm-attack-icon-3.png"},matchingPairs:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/mobile.png",tile:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/closed.svg",flipTile:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/miniGames/matchingPairs/open.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/fuji/images/miniGames/matchingPairs/tutorial-1.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/fye-new.png"}},avalanche:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/mobile.png",icon:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/icon.svg",bud:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/bud.svg",pinkFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/pink-flower.svg",pinkPetal:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/pink-petal.svg",redFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/red-flower.svg",redPetal:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/red-petal.svg",sideFlower:"https://cf.quizizz.com/img/mpThemes/fuji/images/avalanche/side-flower.svg"},progression:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/mobile.png",top:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/mastery-board.svg",cave:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/progression/dojo.svg"},map:{bg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/fuji-map-final.png",mBg:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/map-mobile-final.png",sherpa:"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/map/sherpa.png"}},colors:{pathfinder:{text:"#FF9797",correct:"#119C73",incorrect:"#9D2727",neutral:"#9C5D61"},podium:{diamond:"#687693",gold:"#541200",silver:"#777777",bronze:"#632F1E",iron:"#F0F0F0"},miniGames:{circleWars:{scoreToBeat:"#EF2424",leaderboard:"#070000",title:"#200909",stroke:"#000000"},swarmAttack:{barLeft:"#3AB1E0",barRight:"#147094",progressBg:"#2B2B60",progressBorder:"#4644B5"},matchingPairs:{main:"#FFFFFF"}},waitingRoom:{text:"#FFFFFF"}},sounds:{judgementCorrect:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-correct",volume:.2},judgementIncorrect:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-kili-wrong",volume:.2},gameOver:{src:"https://cf.quizizz.com/img/mpThemes/fuji/sounds/fuji-podium",volume:.8}},fonts:{shojumaru:{url:"https://fonts.googleapis.com/css2?family=Shojumaru&display=swap",name:"Shojumaru"},skranji:{url:"https://fonts.googleapis.com/css2?family=Skranji:wght@400;700&display=swap",name:"Skranji"},stick:{url:"https://fonts.googleapis.com/css2?family=Stick&display=swap",name:"Stick"}},text:{miniGames:{swarmAttack:{target:"fireflies",instruction:"Save yourself from 10 bats to advance faster"},circleWars:{leaderboardTitle:"Ensō Masters"}},avalanche:{title:U("Blossom Avalanche")},breakroom:{intro:"Open a scroll to clear your path!",instruction:"Use your hands to open the scroll"},map:{facts:[U("Mt.Fuji is the 8th highest volcano in Asia."),U("Mt. Fuji is the highest mountain in Japan."),U("Mt. Fuji is encircled by the Fuji Five Lakes."),U("Mt. Fuji stands about 100 kilometers southwest of Tokyo."),U("Mt. Fuji can be seen from there on a clear day."),U("Mt. Fuji is one of Japan’s “Three Holy Mountains.”"),U("Mt. Fuji is a scenic beauty and historic site in Japan.")]}}},D_={id:"kilimanjaro",images:{logo:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/logos/kili_ld.png",endGameBanner:"https://cf.quizizz.com/Avatar/mp-banner-kili-min.png",lobby:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/lobby/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/lobby/mobile.png"},qna:{phase1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase1.png",mPhase1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase1.png",phase2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase2.png",mPhase2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase2.png",phase3:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/phase3.png",mPhase3:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mphase3.png",peak:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/peak.png",mPeak:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/qna/mpeak.png"},breakroom:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/mobile.png",breakRoomItemOpen:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/breakroom/open-gunny.svg",breakRoomItemClosed:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/breakroom/closed-gunny.svg",cursor:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/breakroom/cursor.svg"},pathfinder:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/mobile.png",signboard:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/signboard.svg",mSignboard:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/pathfinder/msignboard.svg",pioneer:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/binoculars.svg",leader:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/compass.svg",trekker:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/pathfinder/helmet.svg"},waitingRoom:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/waitingRoom/kd.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/waitingRoom/mBg.png"},podium:{diamondTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/diamond.svg",goldTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/gold-1.svg",silverTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/silver-1.svg",bronzeTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/bronze.svg",ironTicket:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/iron.svg",diamondBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/diamond-balloon.svg",goldBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/gold-balloon.svg",silverBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/silver-balloon.svg",bronzeBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/bronze-balloon.svg",ironBalloon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/podium/iron-balloon.svg",sky:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/podium/sky.png"},miniGames:{landslide:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/mobile.png",rock1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/rock1.svg",rock2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/rock2.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/landslide/tutorial.png",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/landslide/icon-1.svg",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/land_slide.png"},circleWars:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/mobile.png",leaderboardTitlePlank:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/title-plank.svg",leaderboardSelf:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/self.svg",leaderboardOther:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/other.svg",gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",rope:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/circleWars/rope.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-main.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars.png"},swarmAttack:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/mobile.png",shooter:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/shooter.svg",target:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/mosquito.svg",bullet:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/bullet.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/swarmAttack/tutorial.svg",gameIcon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/icon.png",roundImg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/swarmAttack/rounded-icon.png"},matchingPairs:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/mobile.png",tile:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/closed.svg",flipTile:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/miniGames/matchingPairs/open.svg",gameImage:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/miniGames/matchingPairs/tutorial.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-new-logo.png",roundImg:"https://cf.quizizz.com/join/img/mystic_peak/matching-pair-new.png"}},avalanche:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/mobile.png",icon:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/icon.svg",fireball1:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/fireball-1.svg",fireball2:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/fireball-2.svg"},progression:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/mobile.png",top:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/mastery-board-1.svg",cave:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/progression/cave.svg"},map:{bg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/map/desktop.png",mBg:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images/map/mobile.png",sherpa:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/map/sherpa.png"}},colors:{pathfinder:{text:"#F6B100",correct:"#136E91",incorrect:"#94340B",neutral:"#30525D"},podium:{diamond:"#9CFFFF",gold:"#FFD344",silver:"#323130",bronze:"#360A00",iron:"#BCBCBC"},miniGames:{circleWars:{scoreToBeat:"#6AFD93",leaderboard:"#E1E1E1",title:"#FFFFFF",stroke:"#FFFFFF"},swarmAttack:{barLeft:"#00A38C",barRight:"#02755C",progressBg:"#80CFDC",progressBorder:"#F5EFE3"},matchingPairs:{main:"#FFFFFF"}},waitingRoom:{text:"#FFFFFF"}},sounds:{judgementCorrect:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/kili-correct",volume:.2},judgementIncorrect:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/fuji-kili-wrong",volume:.2},gameOver:{src:"https://cf.quizizz.com/img/mpThemes/kilimanjaro/sounds/kili-podium",volume:.8}},fonts:{skranji:{url:"https://fonts.googleapis.com/css2?family=Skranji:wght@400;700&display=swap",name:"Skranji"},stick:{url:"https://fonts.googleapis.com/css2?family=Stick&display=swap",name:"Stick"},alatsi:{url:"https://fonts.googleapis.com/css2?family=Alatsi&display=swap",name:"Alatsi"}},text:{miniGames:{swarmAttack:{target:"mosquitoes",instruction:"Save yourself from 10 mosquitoes to advance faster"},circleWars:{leaderboardTitle:"Painting Pros"}},avalanche:{title:U("Lavalanche")},breakroom:{intro:"Open a bag to clear your path!",instruction:"Use your hands to open the bag"},map:{facts:[U("Mt. Kilimanjaro is the highest mountain in Africa."),U("Mt. Kilimanjaro is the highest free-standing mountain in the world."),U("Mt. Kilimanjaro is a dormant volcano."),U("Mt. Kilimanjaro is part of Kilimanjaro National Park."),U("Mt. Kilimanjaro is a major climbing destination."),U("Mt. Kilimanjaro has three volcanic cones."),U("Mt. Kilimanjaro is a UNESCO World Heritage Site.")]}}},Hl={default:b_,fuji:N_,kilimanjaro:D_};function Nm(e){return e===ho.TEACHER||e===ho.TEACHER_SCHOOL||e===ho.TEACHER_UNIVERSITY}function IP(e){return e&&e.deleted===!0}function L_(e){return!e||!e.occupation?!1:Dm(e.occupation)}function Dm(e){return e===ho.CORPORATE||e===ho.CORPORATE_LEARNER||e===ho.CORPORATE_TEACHER}function SP(){return{containsEmoji:o=>!!Vp().exec(o),containsSpecialCharacter:o=>!!/[#$%^&*()`~<>\/\\|]+/gm.exec(o),isFirstNameEmpty:o=>o.length===0,isFirstNameGreaterThanLimit:(o,i)=>o.length>i,isLastNameGreaterThanLimit:(o,i)=>o.length>i}}const Vl={PREFIX:"https://cf.quizizz.com/join/img/avatars/tablet_sm/monster",SUFFIX:".png"};function RP(e){return Vl.PREFIX+e+Vl.SUFFIX}const ba={baseServerUrl:`${Ds.BASE}/`,gameServerUrl:`${Ds.GAME}/`,requestServerUrl:`${Ds.REQUEST}/`,drawServerUrl:`${Ds.DRAW_SERVICE}/`,mediaServiceUrl:`${Ds.MEDIA_SERVICE}/`,practiceServiceUrl:`${Ds.PRACTICE_SERVICE}/`,avatarServiceUrl:Ds.AVATAR_SERVICE,quizServiceUrl:`${Ds.QUIZ_SERVICE}/`,aiServiceUrl:`${Ds.AI_SERVICE}/`,gameApiUrl:`${Ds.GAME_API}/`,featureUrl:`${Ds.FEATURE_FLAGS_SERVICE}/`,classServiceUrl:`${Ds.CLASS_SERVICE}/`,searchServiceUrl:`${Ds.SEARCH_SERVICE}/`},je={searchQuizzes:"searchQuizzes",searchFeaturedQuizzes:"searchFeaturedQuizzes",checkGameDomain:"checkGameDomain",getEventQuizzes:"getEventQuizzes",getRank:"getRank",reactionUpdate:"reactionUpdate",proceedGame:"v4/proceedGame",skipQuestion:"skipQuestion",skipManyQuestions:"skipManyQuestions",playerGameOver:"playerGameOver",syncPlayerResponses:"syncPlayerResponses",updatePlayerMetadata:"updatePlayerMetadata",updateResponse:"updateResponse",raiseHand:"raiseHand",createTestGameActivity:"createTestGameActivity",joinSoloGame:"joinSoloGame",joinContest:"joinContest",proceedSoloGame:"proceedSoloGame",proceedContest:"proceedContest",endSoloGame:"endSoloGame",endContest:"endContest",changeUserProfile:"changeUserProfile",changeUserPassword:"changeUserPassword",updateUserInfo:"updateUserInfo",getCurrentUserInfo:"getCurrentUserInfo",checkUserNameAvail:"checkUserNameAvail",checkEmailAvail:"checkEmailAvail",checkPhoneNumberAvail:"checkPhoneNumberAvail",deleteAccount:"deleteAccount",loginUser:"loginUser",loginUserWhenPrototyping:"loginUserWhenPrototyping",getFeaturedMemesets:"getFeaturedMemesets",checkIsQuizCompleted:"checkIsQuizCompleted",getFeaturedRecommendations:"getFeaturedRecommendations",getRecommendationsForTopic:"getRecommendationsForTopic",getGroups:"getGroups",sendAdReport:"sendAdReport",powerupsConfig:"powerupsConfig",awardPowerups:"awardPowerups",archivePowerups:"archivePowerups",replacePowerups:"replacePowerups",destroyPowerupEffect:"destroyPowerupEffect",getSelectedCourses:"getSelectedCourses",runningGames:"runningGames",completedGames:"completedGames",getRunningGameAttempts:"getRunningGameAttempts",allQuizAttempts:"allQuizAttempts",saveAvatar:"saveAvatar",updateAvatar:"updateAvatar",getMyQuizzes:"getMyQuizzes",tags:"tags",getRunningGame:"getRunningGame",appVersionConfig:"appVersionConfig",rejoinAnyGame:"rejoinAnyGame",getGroupInfo:"getGroupInfo",joinGroup:"joinGroup",getTeamPlayers:"getTeamPlayers",hostGame:"hostGame",getGameData:"getGameData",replayChallengeGame:"replayChallengeGame",googleFontCDN:"googleFontCDN",refreshAuthToken:"refreshAuthToken",generateGameChangerCertificate:"generateGameChangerCertificate",importOrRefreshLmsClasses:"importOrRefreshLmsClasses",playerLiveWhiteboard:"playerLiveWhiteboard",getIntentTopics:"getIntentTopics",updateBreakRoom:"updateBreakRoom",updatePlayerObstacle:"updatePlayerObstacle",updateWaitingLeaderboard:"updateWaitingLeaderboard",updatePathFinder:"updatePathFinder",mediaOptionUrl:"mediaOptionUrl",getMemeSetById:"getMemeSetById",getQuizInfo:"getQuizInfo",getQuizInfoForGame:"getQuizInfoForGame",addGameQuestionIssue:"addGameQuestionIssue",getQuizData:"getQuizData",getContestData:"getContestData",decodeAppUserToken:"decodeAppUserToken",checkRoom:"v5/checkRoom",checkCourse:"v1/checkCourse",getUserCourses:"getUserCourses",getQuestions:"v4/getQuestions",featureFlags:"getFeatureFlags",checkAssignment:"v5/checkAssignment",activatePowerup:"v4/activatePowerup",join:"v5/join",rejoin:"v6/rejoin",fetchPlayerSummaryAggregations:"play-api/player-summary",getP2PGameLeaderboard:"getP2PGameLeaderboard",setP2PPlayerScore:"setP2PPlayerScore",getAvatarInventory:"getAvatarInventory",setAvatarForPlayer:"setAvatarForPlayer",addLearnerFeedback:"addLearnerFeedback",editLearnerFeedback:"editLearnerFeedback",getLearnerFeedback:"getLearnerFeedback",fetchPracticeAssignments:"fetchPracticeAssignments",questionAnnotation:"questionAnnotation",flashcardsList:"flashcardsList",lessonSync:"v1/lessonSync",getBoclipsVideo:"getBoclipsVideo"};function z_(e,t,s="="){switch(s){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t;default:return!1}}function G_(e){let t=!1;return e&&e.error&&(e.error.message||e.error.type)&&(t=!0),t}const M_=".",sa=1;function Vr(e){if(an(e))return e;const t=e.split(M_);let s=0,n=[];t[t.length-2]&&(t.length>=3?(n=t[t.length-2].split("|"),s=Rn(n[n.length-1]),n.splice(n.length-1,1)):(n=t.slice(1),s=0));const a=n.join("|");return{eventName:t[0],baseUniqueId:a,currentTryNum:s,time:Rn(t[t.length-1])||null}}function jl(e){if(e.eventName){const t=e.eventName.split("/");return t.length===1?t[0]:(t.splice(0,1),t.join("/"))}return""}function x_(e,t,s){const a=[...e],o=Ms(a,c=>c===t);let i=null;const r=Number.parseInt(Vr(t).time,10);switch(s){case ai.IN_PROGRESS:o===-1&&a.push(t);break;case ai.DONE:o!==-1&&a.splice(o,1),r&&(i=Date.now()-r);break}return{callsList:a,callBeingUpdated:t,updationType:s,callDoneTime:i}}function Lm(e){if(typeof e=="string")return e;const t=ut(e.currentTryNum)?e.currentTryNum:sa;return`${e.eventName}.${e.baseUniqueId}|${t}.${e.time}`}function ln(e,t,s=!1){const n={},a=Vr(e),o=jl(a);for(let i=0;i<t.length;i++){const r=Vr(t[i]),c=jl(r);let u=!1;s?u=r.eventName===a.eventName:u=c===o;const l=a.baseUniqueId?a.baseUniqueId===r.baseUniqueId:!0,p=a.time?a.time===r.time:!0;if(u&&l&&p){const d=r.baseUniqueId&&r.time?`${r.baseUniqueId}|${r.time}`:r.baseUniqueId||r.time||i;n[d]?n[d]+=1:n[d]=1}}return{isIt:!S(n),matches:n}}function zm(){return window.location.hostname==="localhost"}const xi={COOKIE_NAME:"dev_sid",LOCALSTORAGE_KEY:"dev_sid",SESSION_COOKIE_NAME:"quizizz_uid"};Mn.extend(jp);Mn.extend($p);Mn.extend(Wp);const Ro=1e3,F_=Ro*60,Q_=F_*60,q_=Q_*24;function U_(e,t=!1){return e?Mn(e).fromNow(t):""}function B_(e){return e?Mn(e).format("h:mm A, MMM D YYYY"):""}function H_(e,t){return Mn(e).format(t)}function V_(e,t){return Mn(e).diff(Mn(t),"second")}const j_={getVerboseDate:B_,getDateDistanceFromNow:U_,getDifferenceInSeconds:V_,getFormattedDate:H_};function $_({schema:e,payload:t,apiName:s=""}){if(!e(t))throw new Error("request.VALIDATION_ERROR")}var kd;const Ni={endPoints:{main:{baseURL:(kd=Ds.SOCKET)==null?void 0:kd.BASE,path:"/_gsocket/sockUpg"},notification:{baseURL:Ds.NOTIFICATION_BASE,path:"/_nsocket/sockUpg/socket"}},events:{main:{ClientInitiatedMessages:["checkRoom","checkAssignment","join","rejoin","proceedGame","getQuestions","playerGameOver","getRank","reconnectRoom","activatePowerup","startGame","getReport","deletePlayer","pauseGame","reactionUpdate","v2/checkRoom","v2/checkAssignment","v2/join","v2/rejoin","v2/getQuestions","v2/proceedGame","v2/playerGameOver","v2/deletePlayer","v3/checkRoom","v3/checkAssignment","v3/join","v3/rejoin","v3/rejoin-game","v4/join","v4/rejoin","v4/rejoinGame","v4/getQuestions","v4/activatePowerup","v4/checkAssignment","v5/join","v5/rejoinGame","v5/checkAssignment","getHandshakeData"],ServerInitiatedBroadcastMessages:{addPlayer:"soc_addPlayer",deletePlayer:"soc_deletePlayer",gameOverAll:"soc_gameOverAll",gameEnded:"soc_gameEnded",reconnect:"soc_reconnect",connect:"soc_reconnect",disconnect:"soc_disconnect",gameStarted:"soc_gameStarted","team-player-shuffled":"soc_teamPlayerShuffled",addPowerupEffect:"soc_addPowerupEffect","replay-game":"soc_replayGame","replay-async":"soc_replayAsync",replay:"soc_replayChallenge",playerResponded:"soc_playerResponded",authTokenExpired:"soc_authTokenExpired",updateQuestionState:"soc_updateQuestion",proceedHostGame:"soc_proceedHostGame",hostCanvasActions:"soc_hostCanvasActions",setGameTimer:"soc_setGameTimer",pauseGame:"soc_pauseGame",reactionStopped:"soc_reactionStopped",dropHand:"soc_dropHand",raiseHandToggled:"soc_raiseHandToggled",updateGameOptions:"soc_updateGameOptions",quizUpdated:"soc_quizUpdated",handshakeData:"soc_handshakeData",updateMasteryPeakTimer:"soc_updateMasteryPeakTimer",setMasteryPeakTheme:"soc_setMasteryPeakTheme",pingTimeLeft:"soc_pingTimeLeft",playerAvatarUpdated:"soc_playerAvatarUpdated",awardTeacherPowerup:"soc_teacherPowerup",addDuelEffect:"soc_addDuelEffect",lessonPaused:"soc_lessonPaused",lessonResumed:"soc_lessonResumed",adhocQuestionAdded:"soc_addAdhocQuestion",eyesOnMe:"soc_eyesOnMe",gameModeChanged:"soc_changeGameMode"}},notification:{ClientInitiatedMessages:["subscribe","update-notification"],ServerInitiatedBroadcastMessages:{"add-notification":"soc_addNotification","quizizz-ai-stream-song":"soc_chatResponseTokenGenerated","quizizz-ai-stream-emo-reflect":"soc_chatResponseTokenGenerated","quizizz-ai-notice-wonder":"soc_chatResponseTokenGenerated","quizizz-ai-analyze-quiz-performance":"soc_chatResponseTokenGenerated"}}}};var Ko=(e=>(e.Front="front",e.Back="back",e))(Ko||{}),nr=(e=>(e.Study="study",e.Practice="practice",e))(nr||{});const Ra=Ot("flashcardv2",()=>{const e=m(Ko.Front),t=m(nr.Practice),s=m([]),n=m([]),a=m([]),o=m(!1),i=m(!1),r=m(!1),c=m(0),u=m(!1),l=m(!1),p=m(!1),d=m(!1),g=m(!1),f=m(!1),h=m(null),E=m(e.value===Ko.Front?"question":"answer"),A=T(()=>E.value==="question"),_=T(()=>E.value==="answer");Ln(e,ve=>{E.value=ve===Ko.Front?"question":"answer"});function v(ve){E.value=ve}function y(ve){e.value=ve}function N(ve){t.value=ve}function G(ve){s.value=ve}function z(ve){n.value=ve}function Q(ve){a.value=ve}function H(ve){const ot=ve.filter(ne=>ne.isCorrect).map(ne=>ne.questionId),$=ve.filter(ne=>!ne.isCorrect).map(ne=>ne.questionId);z(ot),Q($)}function w(ve){o.value=ve}function I(ve){i.value=ve}function M(ve){r.value=ve}function J(ve){c.value=ve}function K(ve){const ot=n.value.filter(ne=>ne!==ve),$=a.value.filter(ne=>ne!==ve);z(ot),Q($)}function fe(ve){u.value=ve}function P(ve){l.value=ve}function j(ve){p.value=ve}function oe(ve){d.value=ve}function X(ve){g.value=ve}function ie(ve){f.value=ve}function ge(ve){h.value=ve}function Ce(){e.value=Ko.Front,t.value=nr.Practice,s.value=[],n.value=[],a.value=[],o.value=!1,i.value=!1,r.value=!1,c.value=0}function Fe(){Ce()}return{flashcardSide:e,flashcardMode:t,bookmarkedFlashcardIds:s,correctFlashcardIds:n,incorrectFlashcardIds:a,isReplayFlow:o,openSoloFlashcardFlow:i,setFlashcardSide:y,setFlashCardMode:N,setBookmarkedFlashcardIds:G,setCorrectFlashcardIds:z,setIncorrectFlashcardIds:Q,setCorrectIncorrectFlashcardIdsFromAPI:H,setIsReplayFlow:w,setOpenSoloFlashcardFlow:I,isQuestionInView:A,isAnswerInView:_,setItemInView:v,exitGame:Fe,isShuffleEnabled:r,setIsShuffleEnabled:M,undoCounter:c,setUndoCounter:J,revertFlashcardSelection:K,iKnew:u,setIKnew:fe,iDidntKnow:l,setIDidntKnow:P,iKnewPrev:p,setIKnewPrev:j,moveForward:d,setMoveForward:oe,moveBackward:g,setMoveBackward:X,isUndoClicked:f,setIsUndoClicked:ie,pressedKey:h,setPressedKey:ge}}),hs=Ot("rootReducer",()=>{const e=m({type:"",options:{}}),t=m({name:"",options:{},actionCallback:()=>{}}),s=m({isVisible:!1,options:{}}),n=m({isVisible:!1,options:{}}),a=m({name:"",options:{}}),o=m({didScriptLoadSucceed:!1}),i=m(!1),r=m(!1),c=m(""),u=m({}),l=m(!1),p=m(Ui.DEFAULT);function d(){const I={prevSessionMongoId:c.value,media:u.value,preGameErrorMessage:a.value,dialog:t.value,modal:{type:"",options:{}},stripe:{didScriptLoadSucceed:!1},powerupToast:{isVisible:!1,options:{}},snackBar:{isVisible:!1,options:{}}};hs().$patch(I)}function g(I){I.prevSessionMongoId&&(c.value=I.prevSessionMongoId)}function f(I){S(I.media)||(u.value=I.media,ct.setMediaType(I.media.type||""))}function h(I){s.value=I}function E(I){n.value=I}function A({type:I="",options:M={}}={}){e.value={type:I,options:M}}function _(I={}){e.value.options=I}function v({name:I="",actionCallback:M=v,options:J={}}={}){t.value={name:I,options:J,actionCallback:M}}function y({isVisible:I=!1,options:M={}}={}){if(I){h({isVisible:!1,options:{}}),Bc(()=>h({isVisible:I,options:M}),0);return}h({isVisible:I,options:M})}function N({isVisible:I=!1,options:M={}}={}){if(I){E({isVisible:!1,options:{}}),Bc(()=>E({isVisible:I,options:M}),0);return}E({isVisible:I,options:M})}function G({name:I="",options:M={}}={}){a.value={name:I,options:M}}function z(I=!1,M=Ui.DEFAULT){l.value=I,I?p.value=M:p.value=Ui.DEFAULT}function Q({status:I}){o.value.didScriptLoadSucceed=I}function H(I){i.value=I}function w(){r.value=!0}return{modal:e,dialog:t,snackBar:s,powerupToast:n,preGameErrorMessage:a,rejoinedOnPageLoad:i,rejoinedOnSummaryPage:r,prevSessionMongoId:c,media:u,pageLoaderVisible:l,pageLoaderType:p,stripe:o,toggleModal:A,updateModalOptions:_,toggleDialog:v,toggleSnackBar:y,togglePageLoader:z,togglePowerupToast:N,setRejoinedOnPageLoad:H,setRejoinedOnSummaryPage:w,setStripeScriptLoadStatus:Q,togglePreGameErrorMessage:G,setDeviceMediaDetails:f,loadPreviousContext:g,resetGame:d}});function Co(){const{media:e}=us(hs()),t=T(()=>Object.values(e.value).join("")),s=T(()=>()=>t.value),n=T(()=>e.value.type===Ft.DESKTOP),a=T(()=>e.value.type===Ft.PHONE),o=T(()=>e.value.type===Ft.TABLET),i=T(()=>e.value.orientation===Ea.PORTRAIT),r=T(()=>e.value.orientation===Ea.LANDSCAPE),c=T(()=>(e.value.width||0)<=896),u=T(()=>c.value&&e.value.orientation===Ea.LANDSCAPE);return{getDeviceDiscriminatorWrapper:s,isDesktop:n,isMobile:a,isTablet:o,isPortrait:i,isLandscape:r,isMobileWidth:c,isMobileLandscape:u}}const Ac={FIRST_LENGTH:14,SUBSEQUENT_LENGTH:10},Tc=1;let W_=class Ss{static getQuestionSegmentNumber(t,s){const n=s.questionsDistribution;let a=1;for(let o=n.length-1;o>=0;o--)if(t>=n[o][0]){a=o+1;break}return a}static checkIfCurrentSegmentCompleted({segmentNumber:t,segmentInfo:s,totalOriginalAttemptsAnswered:n,totalQuestionsSkipped:a}){return s.questionsDistribution[t-1][1]===n+a}static getOriginallyIncorrectQuestionIds(t,s,n,a,o){const i=Ss.getQuestionIdsInSegement(t,a,o),r=Zt(s,l=>Jt(i,l.questionId)&&Ss.isResponseIncorrect(l)),c=Ss.getQuestionIdsFromResponses(r),u=Ss.getQuestionIdsFromResponses(n);return Lr(c,u)}static areSegmentRedemptionQuestionDone(t,s,n,a){const o=Ss.getQuestionIdsInSegement(t,n,a),i=Zt(s,c=>Jt(o,c.questionId)),r=Ss.maxRedemptionAttemptsForSegment(n,a.maxSegments);return i.length>=r}static getQuestionIdsInSegement(t,s,n){if(s===n.maxSegments)return t;const a=n.questionsDistribution[s-1];return Hc(t,a[0]-1,a[1])}static getQuestionIdsFromResponses(t){return Nt(t,"questionId")}static maxRedemptionAttemptsForSegment(t,s){return t===s?s*Tc:Tc}static getQuestionSegmentsInfo(t){const s=Ss.maxSegmentsPerQuiz(t),n=s*Tc,a=[],o=zd(t/s);for(let i=0;i<s;i++){const r=i*o+1;let c=r+o-1;i+1===s&&(c=t),a.push([r,c])}return{maxSegments:s,questionsDistribution:a,segmentSize:o,totalRedemptionAttempts:n}}static maxSegmentsPerQuiz(t){return t<=Ac.FIRST_LENGTH?1:1+Math.ceil((t-Ac.FIRST_LENGTH)/Ac.SUBSEQUENT_LENGTH)}static isResponseIncorrect(t){return t.isCorrect===!1&&t.state===mn.ATTEMPTED}isRedemptionQuestionAllowedInGameType(t,s,n){return n.redemption===Gt.Redemption.YES&&!n.isAnswerExplanationEnabled&&s!==re.PRESENTATION&&n.showAnswers!==Gt.ShowAnswers.NEVER&&s!==re.FLASHCARD}shouldShowRedemptionQuestion(t,s,n,a,o,i,r,c){if(!this.isRedemptionQuestionAllowedInGameType(t,s,n)||!ql(a))return!1;const u=Ss.getQuestionSegmentsInfo(a),l=Ss.getQuestionIdsFromResponses(o),p=Ss.getQuestionSegmentNumber(l.length,u);if(!Ss.checkIfCurrentSegmentCompleted({segmentNumber:p,segmentInfo:u,totalOriginalAttemptsAnswered:l.length,totalQuestionsSkipped:i}))return!1;const g=Ss.getOriginallyIncorrectQuestionIds(r,o,c,p,u);return!(Ss.areSegmentRedemptionQuestionDone(r,c,p,u)||g.length===0)}selectQuestionsForRedemption(t,s,n,a){const o=Ss.getQuestionSegmentsInfo(t),i=Ss.getQuestionIdsFromResponses(s),r=Ss.getQuestionSegmentNumber(i.length,o),c=Ss.getOriginallyIncorrectQuestionIds(n,s,a,r,o);return gu(c)}noOfRedemptionAttemptsRequiredSoFar(t,s,n,a,o,i){if(!this.isRedemptionQuestionAllowedInGameType(t,s,n)||!ql(o))return 0;const r=Ss.getQuestionSegmentsInfo(o),c=Ss.getQuestionSegmentNumber(a,r);let u=0;for(let l=0;l<c;l++){const p=r.questionsDistribution[l],d=Hc(i,p[0]-1,p[1]),g=Wi(d,Ss.isResponseIncorrect).true||0;u+=g>=1?1:0}return u}};const Gm=new W_;class Qa{getOriginallyIncorrectQuestionIds(t,s){const n=t.filter(i=>Qa.isResponseIncorrect(i)),a=Qa.getQuestionIdsFromResponses(n),o=Qa.getQuestionIdsFromResponses(s);return Lr(a,o)}getTotalOriginallyIncorrectQuestionIds(t){const s=t.filter(a=>Qa.isResponseIncorrect(a));return Qa.getQuestionIdsFromResponses(s)}static getQuestionIdsFromResponses(t){return t.map(s=>s.questionId)}static isResponseIncorrect(t){return t.state===mn.ATTEMPTED&&(t.isCorrect===!1||t.result==="PARTIALLY_CORRECT")}isRedemptionQuestionAllowedInGameType(t,s,n){return n.hasRedemptionPass===Gt.hasRedemptionPass.YES&&!n.isAnswerExplanationEnabled&&s!==re.PRESENTATION&&n.showAnswers!==Gt.ShowAnswers.NEVER&&s!==re.FLASHCARD}shouldShowRedemptionQuestion(t,s,n,a,o,i,r){return!(!this.isPass1Completed(t,s,n,i,r)||this.getOriginallyIncorrectQuestionIds(a,o).length===0)}isPass1Completed(t,s,n,a,o){return this.isRedemptionQuestionAllowedInGameType(t,s,n)?a===0&&o===0:!1}selectQuestionsForRedemption(t,s){return this.getOriginallyIncorrectQuestionIds(t,s)}noOfRedemptionAttemptsRequiredSoFar(t,s,n,a){return this.isRedemptionQuestionAllowedInGameType(t,s,n)&&Wi(a,Qa.isResponseIncorrect).true||0}}const ti=new Qa,yc={PHONE:"mobile",TABLET:"tablet",DESKTOP:"desktop"},Ic={PORTRAIT:"portrait",LANDSCAPE:"landscape"};function Y_(){if(typeof window>"u")return{};const e=navigator.userAgent.toLowerCase(),{innerHeight:t,innerWidth:s}=window;function n(){return e.includes("android")}function a(){return!!(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/WPDesktop/i))}function o(){const N=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];return navigator.platform&&N.includes(navigator.platform)?!0:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function i(){return/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)||n()||o()||a()}function r(){return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)}function c(){const N=yc.DESKTOP;return r()?yc.TABLET:i()?yc.PHONE:N}function u(){let N=Ic.PORTRAIT;return window.matchMedia("(orientation: portrait)").matches?N=Ic.PORTRAIT:N=Ic.LANDSCAPE,N}function l(){return!!window.opr||!!window.opera||e.includes("opr/")}function p(){return e.includes("firefox")}function d(){return e.includes("safari")}function g(){return!!document.documentMode}function f(){return!g()&&!!window.StyleMedia}function h(){return e.includes("chrome")||e.includes("chromium")||e.includes("crios")}function E(){return h()&&navigator.userAgent.includes("Edg")}function A(){return e.includes("ucbrowser")}function _(){return navigator.userAgent.toLowerCase().includes("samsungbrowser")}function v(){return l()?"Opera":f()||E()?"Edge":h()?"Chrome":p()?"Firefox":d()?"Safari":g()?"IE":A()?"UC Browser":_()?"Samsung browser":"Unknown"}function y(){var N;return(N=window.navigator.userAgentData)==null?void 0:N.platform}return{device:c(),userAgent:e,orientation:u(),isIOS:o(),isTablet:r(),isAndroid:n(),width:s,height:t,browser:v(),OS:y()}}async function K_(){return Re.get(`${ba.featureUrl}features`,{requestName:"getFeatureFlags"})}const wo=Ot("featureFlags",()=>{const e=m({});function t(i){try{return e.value[i].defaultValue}catch{return}}function s(i){e.value=i}function n(i){return t(i)==="ENABLED"||t(i)===!0}function a(i){return t(i)==="DISABLED"||t(i)===!1}async function o(){try{const{response:{data:i}}=await K_();i&&i.features?s(i.features):b.error("Error fetching feature flags",i)}catch(i){b.error("Error fetching feature flags",i)}}return{fetchFeatureFlags:o,getFeatureValue:t,isFeatureFlagEnabled:n,isFeatureFlagDisabled:a}}),{requestServerUrl:Ja,quizServiceUrl:Mm,gameApiUrl:Oa}=ba;function Pu(e,t){return e.headers=e.headers??{},e.headers["use-game-api"]=!0,t&&(e.headers["game-api-url"]=t),e}async function ku({quizId:e,bypassProfanityCheck:t=!1,retryCount:s=1,requestPrivileges:n=!1}){if(!Gd.isValid(e))throw b.error("Invalid quiz id",e),new Error("Invalid quiz id");const a=`${Mm}quiz/${e}?bypassProfanity=${t}&returnPrivileges=${n}&source=join`;return Re.get(a,{retryCount:s,callId:e,requestName:je.getQuizData})}async function J_(e){const t=`${Oa}v1/students/attempts/${e}`;return Re.get(t,{requestName:je.allQuizAttempts})}async function X_(e=0,t="createdAt",s="desc",n,a=!0,o={tags:[]}){let i=`${Ja}search?personal=true&from=${e}&createdByMe=${a}`;return i+=`&sortKey=${t}&order=${s}`,i+=`&filterList=${JSON.stringify(o)}`,i+=`&size=${n}`,Re.get(i,{requestName:je.getMyQuizzes})}async function Z_(e=0,t=5){if(Ps)return{};let s={};const n=wo().getFeatureValue("enable-monolith-migration-apis"),a=typeof n=="object"&&n["student-completed"]===!0;let o=a?`${Oa}v1/students/games/completed`:`${Ja}playerProfileV2/completed`;return o+=`?start=${e}&pageSize=${t}`,a&&(s=Pu(s,`${Oa}v1/students/games/completed`)),Re.get(o,{requestName:je.completedGames,...s})}async function ev(){if(Ps)return{};let e={};const t=wo().getFeatureValue("enable-monolith-migration-apis"),s=typeof t=="object"&&t["student-running"]===!0,n=s?`${Oa}v1/students/games/running`:`${Ja}v4/students/running`;return s&&(e=Pu(e,`${Oa}v1/students/games/running`)),Re.get(n,{requestName:je.runningGames,...e})}async function tv(e=10,t=null,s=[]){const n=`${Oa}v1/students/flashcards?${t?`scrollId=${t}&`:""}size=${e}&status=${s.join(",")}`;return Re.get(n,{requestName:je.flashcardsList})}async function CP(e){const t=`${Ja}game`;return Re.post(t,{payload:e,requestName:je.hostGame})}async function xm(e){const t=`${Ja}game/${e}`;return Re.get(t,{retryCount:1,requestName:je.getGameData})}async function sv(e,t){let s={};const n=wo().getFeatureValue("enable-monolith-migration-apis"),a=typeof n=="object"&&n["replay-game"]===!0,o=a?`${Oa}v1/games/${e}/replay`:`${Ja}game/${e}/replay`;return a&&(s=Pu(s,`${Oa}v1/games/${e}/replay`)),Re.post(o,{payload:t,requestName:je.replayChallengeGame})}async function nv(e){const t=`${Ja}quiz/${e}/info`;return Re.get(t,{retryCount:1,requestName:je.getQuizInfo})}async function av(e,t,s,n,a){let o=`${Ja}game/${e}/quiz-info?gameState=${t}&gameType=${s}&fetchQuizName=${n}`;return a&&(o=`${Oa}v1/games/${e}/quiz-info?gameState=${t}&gameType=${s}&fetchQuizName=${n}`),Re.get(o,{retryCount:1,requestName:je.getQuizInfoForGame})}async function wP(e){return Re.get(`${Mm}boclips/video/${e}`,{retryCount:1,requestName:je.getBoclipsVideo})}class bu{constructor(t){We(this,"urlString","");We(this,"protocol","");We(this,"host","");We(this,"port","");We(this,"path","");We(this,"query",{});We(this,"hash",[]);this.urlString=t||window.location.href,this.protocol="",this.host="",this.port="",this.path="",this.query={},this.hash=[],this.parseURL(t)}parseURL(t){const s=document.createElement("a");s.href=t,this.protocol=s.protocol,this.host=s.hostname,this.port=s.port,this.path=s.pathname;const n=s.search.replace("?",""),a=s.hash.replace("?","");Uc(n.split("&")).forEach(o=>{this.query[o.split("=")[0]]=o.split("=")[1]}),Uc(a.split(",")).forEach(o=>{this.hash.push(o)})}extend(t){t.query&&(this.query=Md(this.query,t.query)),t.hash&&(this.hash=this.hash.concat(t.hash))}getURL(){const t=Object.keys(this.query).reduce((s,n,a)=>(s+=`${(a>0?"&":"")+n}=${this.query[n]}`,s),"");return`${this.protocol}//${this.host}:${this.port}${this.path}${Object.keys(this.query).length>0?"?":""}${t}${this.hash.length>0?"#":""}${this.hash.join(",")}`}getQueryParams(){return this.query}toString(){return this.getURL()}}function Nu(e){const t={firstName:e.firstName||"",lastName:e.lastName||"",mongoId:e.id,photoUrl:e.media,selectedAvatar:e.selectedAvatar,courses:e.courses,isUnderAge:e.student&&e.student.underAge||!1,language:e.preferences&&e.preferences.lang||null,totalStats:e.totalStats||null,dob:e.student?new Date(e.student.dob):null,isTeacherOnJoin:(e==null?void 0:e.isTeacherOnJoin)||!1},s=e.username||e.userName||k(e,"local.casedUsername","");return t.isUnderAge?(t.email=s,t.userName=s):(t.email=e.email||k(e,"local.casedEmail",""),t.userName=s),t.name=ri(e,t.isUnderAge),e.grades&&Array.isArray(e.grades)&&(t.gradeList=[...e.grades]),e.subject_tags&&Array.isArray(e.subject_tags)&&(t.favSubjects=[...e.subject_tags]),e.occupation&&(t.occupation=e.occupation),e.parent&&e.parent.email&&(t.parentEmail=e.parent.email),Array.isArray(e.groups)&&(t.groupIds=e.groups),e.lms&&(t.lmsInfo={},Object.keys(e.lms).forEach(n=>{e.lms[n]&&t.lmsInfo&&(t.lmsInfo[n]={email:e.lms[n].email,studentId:e.lms[n].id})})),e.country&&(t.country=e.country),t.country==="TW"&&t.language===null&&(t.language="zh-TW"),e.currentPlanStatus&&(t.currentPlanStatus=e.currentPlanStatus),e.createdAt&&(t.createdAt=e.createdAt),e.organization&&(t.organization=e.organization),e.paidOrganization&&(t.paidOrganization=e.paidOrganization),e.organizationRole&&(t.organizationRole=e.organizationRole),e.google&&(t.google=e.google),e.microsoft&&(t.microsoft=e.microsoft),e.local.phoneNumber&&(t.phoneNumber=e.local.phoneNumber),e.userData&&(t.userData=e.userData),sn(e.hasPassword)&&(t.hasPassword=e.hasPassword),t.language&&tc(t.language)&&(t.shouldSetAppLanguage=!0),t}function ri(e,t,s=Eu,n={}){const a=n.addTitle===!0,o=n.firstNameOnly===!0,i=n.lastNameOnly===!0,r=e.username||e.local&&e.local.username||"";let c="";return!e.firstName&&!e.lastName&&e.email?t?c=r||s:c=e.email.split("@")[0]:(e.firstName&&!(i&&e.lastName)&&(c+=e.firstName),e.lastName&&!(o&&e.firstName)&&(c+=` ${e.lastName}`)),a&&e.title?`${e.title} ${c||r}`:c||r}function $l(e,t){let s=e,n="",a=!1;return e==="success"?(t.message==="Done"||$i(t.message)==="ok")&&(s=co.SUCCESS,n=t.message,a=!0):(s=co.FAILED,t.response&&(n="",typeof t.response.message=="string"&&(n=t.response.message.replace("<newPassword>","Password")||""))),{status:s,message:n,changeSuccessful:a}}function ov(e){const t=ra(e,lv,{}),s=Nt(e,n=>n.prop);return{requestData:t,propsBeingUpdated:s}}function iv(e,t,s,n){var u,l;let a="",o="",i={},r=!1,c={};if(ll(s.message)==="ok"||ll(s.message)==="done"){a="success";const p=ka(e,["userName","photoUrl","gradeList","favSubjects","language","selectedAvatar","name","firstName","lastName"]),d={},{user:g}=s.data;for(let f=0;f<n.length;f++)switch(n[f]){case"userName":d.userName=((u=g.local)==null?void 0:u.casedUsername)||"",d.name=ri({...g.local,firstName:g.firstName,lastName:g.lastName},g.isUnderAge);break;case"firstName":d.firstName=g.firstName||"";break;case"lastName":d.lastName=g.lastName||"",d.name=ri({...g.local,firstName:g.firstName,lastName:g.lastName},g.isUnderAge),t===!1&&(r=!0,c={playerName:d.name});break;case"gradeList":d.gradeList=g.grades;break;case"language":d.language=(l=g.preferences)==null?void 0:l.lang;break}i={...p,...d}}else a="failed",o="An error has occurred, please try again.";return{updatedProps:i,status:a,message:o,shouldUpdatePlayerId:r,playerIdUpdateMutationPayload:c}}function rv(e){let t=!1,s={},n=!1,a="",o=!1;window&&"user"in window&&!S(window.user)&&(s=Nu(window.user));const i=e.rootReducer&&e.rootReducer.prevSessionMongoId||"",r=s.mongoId;return r&&i&&r!==i&&(t=!0),tc(s.language||"")&&(n=!0,a=s.language||""),k(s,"occupation","").includes("corporate")&&s.selectedAvatar!==void 0&&s.selectedAvatar<=0&&(s.selectedAvatar=Yp([cr(1001,1016)]),o=!0),{shouldSignOutFirst:t,shouldSetAppLanguage:n,selectedLanguage:a,shouldSaveUserAvatar:o,userData:s}}function cv(e){const s=(e.courses||[]).map(o=>o._id),n={...e,courses:s},a=Nu(n);return{userData:a,shouldSetAppLanguage:a.shouldSetAppLanguage}}function uv(e,t,s,n=""){const a={isAuthenticatedUser:!1,error:""};let o="",i=!1;if(t.data.isGoogle||t.data.isMicrosoft)a.isAuthenticatedUser=!1,a.error=`Please use the ${t.data.isGoogle?'"Continue with Google"':'"Continue with Microsoft"'} button above`;else if(t.data.deactivated)o="/reactivate";else if(t.message==="Ok")if(a.isAuthenticatedUser=!0,!s)S(n)?i=!0:o=n;else{const r=e,c=new bu(window.location.href),u=Ut(c.query,"gc");Object.keys(c.query).length>0?o=u?`${Wa.getAppBaseUrl()}${window.location.search}`:`${c}&gc=${r}`:o=`${Wa.getAppBaseUrl()}?gc=${r}`}else a.error=t.message,a.isAuthenticatedUser=!1;return{redirectToHREF:o,shouldReload:i,mutationPayload:a}}function lv(e,{prop:t,data:s}){const n=e;switch(t){case"language":!n.preferences&&(n.preferences={}),n.preferences.lang=s;break;case"userName":!n.local&&(n.local={}),n.username=s;break;case"firstName":n.firstName=s;break;case"lastName":n.lastName=s;break;case"gradeList":n.grades=Array.isArray(s)?s:[s];break}return n}function dv(e){return(Nm(e.occupation)&&e.title&&`${e.title} `||"")+ri(e,!1,"")}function mv(e){return`${e||Kp(Math.random()*Number.MAX_SAFE_INTEGER)}-${Date.now()}`}function Du(e,t=!1){const s=[],n=e.info.questions,{createdBy:a}=e,o=t?ri(a,!1,""):dv(e.createdBy||{}),i=e.stats||{};for(let r=0;r<3&&r<n.length;r++)n[r]&&(s[r]={...n[r].structure.query});return{_id:e._id,quizId:e._id,name:e.info.name,image:e.info.image,subjects:e.info.subjects||null,grades:e.info.grade||null,topics:e.info.topics,isProfane:e.info.isProfane,isWhitelisted:e.info.whitelisted,visibility:e.info.visibility,createdAt:e.createdAt&&new Date(e.createdAt)||null,lovedByUser:e.isLoved||null,questions:s,numQuestions:n.length,isInDraft:!S(e.draft),type:hi({...e,traits:e.info.traits||{}}),creator:{id:k(e,"createdBy._id")||null,image:k(e,"createdBy.media")||null,occupation:k(e,"createdBy.occupation")||null,username:k(e,"createdBy.username")||null,fullName:o,privileges:k(e,"creatorPrivileges",{})},stats:{love:e.love,totalGamesStarted:i.played,avgAccuracy:zd(i.totalCorrect/i.totalQuestions,2),totalPlayersJoined:i.totalPlayers}}}function OP({searchState:e,searchText:t,from:s,pageSize:n,gradesFilter:a,subjectFilter:o,languageFilter:i,questionNumRange:r,metaData:c,search:{queryDetails:u}}){const{profileId:l,isLoggedIn:p,isUnderAge:d,clientType:g}=e,f=[],h=c||{};let E=[!1];const A={query:t,id:"",source:u.source};if(t!==""&&(t!==u.query||S(u.id)?A.id=mv(l):A.id=u.id),!S(r)){const _=r.join(",");f.push(Rn(_[0])||1),f.push(Rn(_[1])||10)}return p&&!d&&(E=[!0,!1]),A.id&&(h.queryId=A.id),h.clientType=g,h.source=A.source,{requestArgs:{searchText:t,from:s,pageSize:n,gradesFilter:a,subjectFilter:o,languageFilter:i,questionNumRange:f,profaneFilter:E,metaDataToUse:h},mutationPayload:{queryDetails:A}}}function PP(e){let t=[];return e.success&&e.data.sections.length&&(t=[...e.data.sections],It(t,s=>{s.quizzes=Nt(s.quizzes,n=>xd(Du(n),{numQuestions:k(n,"stats.numQuestions",0)}))})),{recommendedSections:t}}function kP(e){let t={name:"",quizzes:[]};return e.success&&!S(e.data)&&(t={...e.data},t.quizzes=Nt(t.quizzes,s=>{const n=Du(s);return xd(n,{numQuestions:k(s,"stats.numQuestions",n.numQuestions)}),n})),{recommendedTopicData:t}}var nu=(e=>(e.RUNNING="running",e.COMPLETED="completed",e))(nu||{});function Wl(e,t,s,n){const a=e==="runningGames"?t.totalRunningGames:t.totalCompletedGames,o=e==="runningGames"?t.runningGames:t.completedGames,i=a>-1,r=ut(n)?n:o.length,c=i&&o.length>=a;return{hasBeenFetchedEvenOnce:i,startAt:r,hasAllListBeenFetched:c,pageSize:s}}function Lu(e,t,s){const n=e.items.length;let a=0;const o={};let i=[],r=[];const c={};It(e.quizzes,(p,d)=>{c[d]=Fm(p)}),It(e.users,(p,d)=>{o[d]=Qm(p)});const u=[],l=[];return It(e.items,p=>{p.isGroupAssigned===!0?l.push(p):u.push(p)}),i=Yl(u,!1),r=Yl(l,!0),a=r.length,{items:qs(i,p=>ar(p.gamesAttempted[0]),"desc"),groupAssignedItems:qs(r,p=>ar(p.gamesAttempted[0]),"desc"),quizzes:c,users:o,total:n,groupAssignedTotal:a,pageSize:t,startAt:s}}function pv(e,t,s){const{total:n}=e,a={},o=[],i={};return It(e.items,r=>{var p;const c=Array.isArray(r.latestAttempts)?r.latestAttempts[0]:r.latestAttempts,u=[{attempts:[zu(c),r.quizInfo],gameInfo:Gu(c,Ct.COMPLETED,[r.latestAttempts])}],l={quizInfo:null,numAttempts:r.numAttempts,limitAttempts:((p=r.options)==null?void 0:p.limitAttempts)??0,areAllAttemptsFetched:!1,gamesAttempted:u,totalPossibleMarks:r.totalPossibleMarks};r.quizInfo&&(l.quizInfo={quizId:r.quizInfo.quizId,verId:r.quizInfo.versionId,traits:r.quizInfo.traits},i[r.quizInfo.quizId]=Fm(r.quizInfo)),c.host&&c.host.userId&&(a[c.host.userId]=Qm(c.host)),o.push(l)}),{items:qs(o,r=>ar(r.gamesAttempted[0]),"desc"),quizzes:i,users:a,total:n,pageSize:t,startAt:s}}function gv(e,t){var i;const s=t.quizInfo.quizId,n=[...e.completedGames],a=Ms(n,r=>r.quizInfo.quizId===s),o=Nt(t.games,r=>{const c=Nt(r.attempts,l=>zu(l,r,t.quizInfo));return{gameInfo:Gu(r,Ct.COMPLETED,r.attempts),attempts:qs(c,"dateJoined","desc")}});return n[a]={...n[a],gamesAttempted:qs(o,ar,"desc"),numAttempts:t.numAttempts,areAllAttemptsFetched:!0},{forQuizId:s,updatedCompletedGames:n,didLatestGameHaveLimitedAttempts:((i=n[a].gamesAttempted[0])==null?void 0:i.gameInfo.options.limitAttempts)>0}}function fv(e=[],t=[]){let s=[];for(let n=0;n<e.length&&n<_r.MAX_RUNNING_GAMES&&s.length<_r.MAX_ATTEMPTS;n++)s.push({list:nu.RUNNING,index:n,data:ys(e[n])});for(let n=0;n<t.length&&n<_r.MAX_COMPLETED_GAMES&&s.length<_r.MAX_ATTEMPTS;n++)s.push({list:nu.COMPLETED,index:n,data:ys(t[n])});return s=qs(s,[n=>n.list==="running",n=>ar(n.data.gamesAttempted[0])],["desc","desc"]),{list:Nt(s,n=>Av(n.data,n.index,n.list))}}function bP(e,t){const s=e.l,n=e.i,a=e.q,o=t[s][n]?t[s][n].quizInfo:null;if(o&&o.quizId===a)return{...t[s][n],fromList:s};const i=Ms(t[s],r=>!!(r.quizInfo&&r.quizInfo.quizId===a));return i!==-1?{...t[s][i],fromList:s}:null}function hv(e,t,s){const n=[],a=e.data.quiz.info.questions;for(let o=0;o<3&&o<a.length;o++)n[o]={...a[o].structure.query};return{quizId:t,listType:s,updatedData:{questions:n}}}function _v(e){const t=[];return It(e,s=>{It(s.attempts,n=>{Dn(n,"numQuesAttempted")&&n.numQuesAttempted!==0&&n.playerId&&(n.roomHash=s.gameInfo.roomHash,t.push(n))})}),t}function vv({roomHash:e,playerId:t},s){const{currentAttempts:n,currentGameData:a}=s;if(a.roomHash!==e)return n;const o=Ts(n),i=Ms(o,r=>r.playerId===t);return o[i].isOver=!0,o}function Ev(e,t){let s=[],n=0;return e.success&&(s=Zt(e.data.hits,o=>o.hasDraftVersion||o.hasPublishedVersion).map(o=>Du(o,!0)),n=e.data.total),{success:e.success,quizzes:s,totalQuizzes:n,page:t}}function Fm(e){return{quizId:e.id||e.quizId||"",verId:e.versionId||"",name:e.name,creator:{id:e.creator},image:e.image,subjects:e.subjects,grades:e.grades,avgAccuracy:Number((e.stats.totalCorrect/e.stats.totalQuestions).toFixed(2)),totalPlayersJoined:e.stats.totalPlayers,questions:null,numOfQuestions:e.numOfQuestions||0,traits:e.traits||{},type:hi(e)}}function Qm(e){return{mongoId:e.userId,username:e.username,occupation:e.occupation||null,fullName:Tv(e),image:e.image||""}}function zu(e,t={},s={}){const n=Mu([e],t);return{playerId:e.playerId,dateJoined:e.createdAt&&new Date(e.createdAt)||null,numQuestions:n,numAnswerableQuestions:yv([e],t,s),numQuesAttempted:e.numAttempted,numCorrect:e.numCorrect,isOver:Object.hasOwnProperty.call(e,"isOver")?e.isOver:!0,lastPlayedAt:e.lastPlayedAt&&new Date(e.lastPlayedAt)||null,isLMSAttempt:qm(e),isPlayerDeleted:sn(e.deleted)?e.deleted:null,gameType:So(t.gameType),gameMode:fi(t.gameType),marks:e.marks,totalPossibleMarks:e.totalPossibleMarks}}function Gu(e,t,s){const n=Zt(s,qm),a=Mu(s,e),o=!!n.length,i=Array.isArray(e.groupIds)?e.groupIds:[],r=e.groupsInfo||{},c=e.options||{};let u=Ks.NONE,l=null;return o&&(l=ys(n[0].assignment)),i.length>0&&(u=r.create&&r.create.token?Ks.GROUP_CREATION:Ks.ONLY_ASSIGNED),{roomHash:e.gameId?e.gameId:e._id?e._id:null,gameType:So(e.gameType),gameMode:fi(e.gameType),gameCode:(e==null?void 0:e.gameCode)||null,gameState:e.gameState||t,gameCreatedAt:e.createdAt?new Date(e.createdAt):e.assignedDate?new Date(e.assignedDate):null,dueDate:e.dueDate&&new Date(e.dueDate)||null,host:e.host&&!S(e.host)?{id:e.host.userId}:e.hostId?{id:e.hostId}:{},hasLMSAttempts:o,lmsInfo:l,groupIds:i,isOnlyAssigned:e.isGroupAssigned===!0,groupType:u,assignmentTitle:e.assignmentTitle,numQuestions:a,options:{limitAttempts:ut(c.limitAttempts)?c.limitAttempts:0}}}function ar(e,t=!1){return t&&e.gameInfo.dueDate?e.gameInfo.dueDate:e.attempts[0]&&e.attempts[0].dateJoined||e.gameInfo.gameCreatedAt||null}function Av(e,t,s){return{l:s,i:t,q:e.quizInfo&&e.quizInfo.quizId||""}}function Tv(e){return(Nm(e.occupation)&&e.title&&`${e.title} `||"")+ri(e,!1,"")}function qm(e){return!!(e.assignment&&!S(e.assignment))}function Yl(e,t){return Nt(e,s=>{var i,r;let n=[];t||(n=Nt(s.attempts,c=>zu(c,s,s)));let a=(((i=s.options)==null?void 0:i.limitAttempts)||0)-(s.numAttempts||0);return a=a>0?a:0,{quizInfo:{quizId:s.quizId,verId:s.versionId,traits:s.traits},totalPossibleMarks:s.totalPossibleMarks,currentQuestionIndex:k(s,"currentQuestionIndex",-1),numAttempts:s.attempts.length,limitAttempts:((r=s.options)==null?void 0:r.limitAttempts)??0,remainingAttempts:a,areAllAttemptsFetched:!0,gamesAttempted:[{attempts:qs(n,"dateJoined","desc"),gameInfo:Gu(s,Ct.RUNNING,s.attempts)}]}})}function Mu(e,t){const s=k(t,"options.questionsPerAttempt",0);return s>0?s:e&&e[0]&&ut(e[0].numQuestions)?e[0].numQuestions:-1}function yv(e,t,s={}){const n=k(t,"options.questionsPerAttempt",0);if(n>0)return n;if(ut(t.totalAnswerableQuestions))return t.totalAnswerableQuestions;const a=Mu(e,t),o=k(s,"traits.totalSlides",-1);return o>=0?a-o:a}function Iv(e){const{items:t}=e,s=t.filter(({latestAttempts:n})=>n.gameType!==re.COMMON_ASSESSMENT);return{...e,items:s}}const Ya=Ot("userAttempts",()=>{const e=Yt(),t=m([]),s=m(-1),n=m([]),a=m(-1),o=m(!1),i=m([]),r=m(-1),c=m([]),u=m({}),l=m({}),p=m(!1),d=m({flashcards:[],users:{},total:0,scrollId:null}),g=m(!1);function f(){t.value=[],s.value=-1,n.value=[],a.value=-1,o.value=!1,i.value=[],r.value=-1,c.value=[],u.value={},l.value={},p.value=!1}function h(w){n.value=w.groupAssignedGames,a.value=w.totalGroupAssignedGames,u.value={...u.value,...w.commonQuizzesData},l.value={...l.value,...w.commonUsersData}}function E(w){u.value={...u.value,...w.additionalData}}function A(w){t.value=w.items,s.value=w.total,n.value=w.groupAssignedItems,a.value=w.groupAssignedItems.length,o.value=!1,u.value={...u.value,...w.quizzes},l.value={...l.value,...w.users}}function _(w){i.value=i.value.concat(w.items),r.value=w.total,p.value=!1,u.value={...u.value,...w.quizzes},l.value={...l.value,...w.users}}function v(w){if(u.value[w.quizId]){const I={...u.value[w.quizId],...w.updatedData};u.value={...u.value,[w.quizId]:I}}else{const I={...w.updatedData};u.value={...u.value,[w.quizId]:I}}}async function y({pageSize:w,startIndex:I}={}){const M={totalRunningGames:s.value,totalCompletedGames:r.value,runningGames:t.value,completedGames:i.value},J=Wl("runningGames",M,w,I);o.value=!1;try{const{response:K}=await ev(),fe=Lu(K.data,J.pageSize,J.startAt);return A(fe),fe}catch(K){return b.log("Error at action fetchRunningGamesList",K),o.value=!0,null}}async function N({pageSize:w,startIndex:I=0}={}){w=e.isCorporateUser?12:10;const M={totalRunningGames:s.value,totalCompletedGames:r.value,runningGames:t.value,completedGames:i.value},J=Wl("completedGames",M,w,I);if(!J.hasAllListBeenFetched){p.value=!1;try{const{response:K}=await Z_(J.startAt,J.pageSize),fe=Iv(K.data),P=pv(fe,J.pageSize,J.startAt);return _(P),P}catch(K){b.log("Error at action fetchCompletedGamesList",K),p.value=!0}}return null}async function G(w=10,I=null,M=[]){try{const{response:J}=await tv(w,I,M);if(J.success){const K=d.value.flashcards,fe=J.data.flashcards,P=new Set(K.filter(ie=>ie.gameState).map(ie=>ie.gameId)),j=new Set(K.filter(ie=>!ie.gameState).map(ie=>ie.quizId)),oe=fe.filter(ie=>ie.status!=="completed"||ie.gameId?!P.has(ie.gameId):!j.has(ie.quizId)),X=[...K,...oe];X.sort((ie,ge)=>{const Ce={newlyAssigned:1,running:2,completed:3};return Ce[ie.status]-Ce[ge.status]}),d.value={...J.data,flashcards:X,users:{...d.value.users,...J.data.users}}}else g.value=!0}catch(J){g.value=!0,b.log("Error at action fetchFlashcardsList",J)}}function z({runningList:w=[],completedList:I=[]}){const M=fv(w,I);c.value=M.list}async function Q(){try{const w=await Promise.all([y(),N()]),I=w[0],M=w[1];if(I&&M){const J=I.items,K=M.items;z({runningList:J,completedList:K})}}catch(w){b.log("Error at action fetchInitialAttempts -",w)}}async function H({quizId:w,listType:I}){try{const{response:M}=await ku({quizId:w,bypassProfanityCheck:!1,retryCount:0}),J=hv(M,w,I);return v(J),J}catch(M){return b.log("Error at action fetchQuestionsForAttempt",M),null}}return{runningGames:t,totalRunningGames:s,groupAssignedGames:n,totalCompletedGames:r,totalGroupAssignedGames:a,runningGamesErrored:o,completedGames:i,recentActivityList:c,commonQuizzesData:u,commonUsersData:l,completedGamesErrored:p,flashcardHistory:d,flashcardHistoryErrored:g,fetchInitialAttempts:Q,fetchQuestionsForAttempt:H,updateCommonQuizzesData:E,updateGroupAssignedGames:h,fetchRunningGamesList:y,fetchCompletedGamesList:N,fetchFlashcardsList:G,$reset:f}}),Kl=Ot("myQuizzes",()=>{const e=m([]),t=m(0),s=m(0),n=m(!1);function a(r){e.value=e.value.concat(r.quizzes),s.value=r.totalQuizzes,t.value=r.page||0,n.value=!1}function o(){e.value=[],t.value=0,s.value=0,n.value=!1}async function i({page:r=0}){const c=zf.DESKTOP,u=r*c,l="createdAt",p="desc";try{const{response:d}=await X_(u,l,p,c,!0,{tags:[]}),g=Ev(d,r);if(!g.success){n.value=!0;return}a(g)}catch(d){b.error("Error fetching my quizzes",d),n.value=!0}}return{quizzes:e,page:t,totalQuizzes:s,fetchMyQuizzesErrored:n,fetchUsersQuizzes:i,$reset:o}}),_i=ba.baseServerUrl;async function Jl(e){const t=`${_i}user/info`;return Re.put(t,{payload:e,requestName:je.updateUserInfo})}async function Sv(e){const t=`${_i}user/setAvatar`;return Re.post(t,{payload:{selectedAvatar:e},requestName:je.saveAvatar})}async function Rv(e){const t=`${_i}user/updatePassword`;return Re.post(t,{payload:e,requestName:je.changeUserPassword})}async function Cv(e){return Re.get(`${_i}user/checkUserEmailAvail?email=${e}`,{requestName:je.checkEmailAvail})}async function wv(e){return Re.get(`${_i}user/checkUserNameAvail?username=${e}`,{requestName:je.checkUserNameAvail})}async function Ov(e){return Re.get(`${_i}user/checkPhoneNumberAvail?phoneNumber=${e}`,{requestName:je.checkPhoneNumberAvail})}const{requestServerUrl:vi}=ba;async function Pv(e,t){const s=`${vi}auth/local`;return Re.post(s,{payload:{username:e,password:t},requestName:je.loginUser})}async function kv(){return Re.get(`${vi}user?fetchUserData=true`,{requestName:je.getCurrentUserInfo})}async function bv(){return Re.post(`${vi}auth/refreshToken`,{requestName:je.refreshAuthToken})}async function Nv(e){return Re.get(`${vi}game/${e}/join/lms/requireAuth`)}async function NP(e){return Re.put(`${vi}user/updateUserData`,{payload:e})}async function DP(e){return Re.post(`${vi}suspected-teacher/convert-account`,{payload:e})}const{requestServerUrl:Dv,classServiceUrl:Um}=ba;function Lv(e){const t=`${Dv}group/add-member`;return Re.post(t,{payload:e,requestName:je.joinGroup})}function zv(){const e=`${Um}user/groups`;return Re.get(e,{requestName:je.getGroups})}function Gv(e){const t=`${Um}group/token-to-teacher?t=${e}`;return Re.get(t,{retryCount:1,timeout:10*Ro,requestName:je.getGroupInfo})}function Xl(e){switch(e){default:return!1}}const LP={[rt.CLASSIC]:"Classic",[rt.SYNTHWAVE]:"Synthwave",[rt.DOGSVILLE]:"Dogsville",[rt.THE_8_BIT]:"Dark Night",[rt.ANIME]:"Flame Impala",[rt.FOOTBALL]:"Touchdown",[rt.COSMIC_PICNIC]:"Cosmic Picnic"};function Mv(e=!1){return e?[rt.CLASSIC,rt.SYNTHWAVE,rt.DOGSVILLE,rt.THE_8_BIT,rt.ANIME,rt.FOOTBALL,rt.COSMIC_PICNIC]:[rt.CLASSIC,rt.SYNTHWAVE,rt.DOGSVILLE,rt.COSMIC_PICNIC]}const Bm={[Ft.PHONE]:{fontSize:{title:{xs:12,s:14,m:16,l:20,xl:24},text:{xs:12,s:14,m:16,l:20,xl:24}}},[Ft.TABLET]:{fontSize:{title:{xs:32,s:40,m:48,l:64,xl:80},text:{xs:32,s:40,m:48,l:64,xl:80}}},fontFamily:{Quicksand:{name:"Quicksand",url:"https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700",fontWeight:{title:700,text:500}},"Open Sans":{name:"Open Sans",url:"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,800;1,400;1,800",fontWeight:{title:800,text:400}},Roboto:{name:"Roboto",url:"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,900;1,400;1,900",fontWeight:{title:900,text:400}},"Space Grotesk":{name:"Space Grotesk",url:"https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@0,400;0,700;1,400;1,700",fontWeight:{title:700,text:400}},"Eb Garamond":{name:"Eb Garamond",url:"https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,700;1,400;1,700",fontWeight:{title:800,text:500}},Merriweather:{name:"Merriweather",url:"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,900;1,400;1,900&display=swap",fontWeight:{title:900,text:400}},"Libre Baskerville":{name:"Libre Baskerville",url:"https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap",fontWeight:{title:700,text:400}},"Patrick Hand":{name:"Patrick Hand",url:"https://fonts.googleapis.com/css2?family=Patrick+Hand",fontWeight:{title:400,text:400}},Cookie:{name:"Cookie",url:"https://fonts.googleapis.com/css2?family=Cookie&display=swap",fontWeight:{title:400,text:400}},"Permanent Marker":{name:"Permanent Marker",url:"https://fonts.googleapis.com/css2?family=Permanent+Marker",fontWeight:{title:400,text:400}},Lobster:{name:"Lobster",url:"https://fonts.googleapis.com/css2?family=Lobster",fontWeight:{title:400,text:400}},"Bebas Neue":{name:"Bebas Neue",url:"https://fonts.googleapis.com/css2?family=Bebas+Neue",fontWeight:{title:400,text:400}},"Playfair Display":{name:"Playfair Display",url:"https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}},Inconsolata:{name:"Inconsolata",url:"https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap",fontWeight:{title:700,text:400}},"Space Mono":{name:"Space Mono",url:"https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap",fontWeight:{title:700,text:400}}},LINK_COLORS:{DEFAULT:"#9A4292"},BG_COLORS:{DEFAULT:"#FFFFFF"}};function zP(e){var a,o,i,r,c,u,l;const t=Ts(e),s=(t==null?void 0:t.fontFamily)||"Quicksand";return{fontSize:{title:(a=t==null?void 0:t.fontSize)==null?void 0:a.title,text:(o=t==null?void 0:t.fontSize)==null?void 0:o.text},fontFamily:S(s)?"Quicksand":s,fontColor:{title:(i=t==null?void 0:t.fontColor)==null?void 0:i.title,text:(r=t==null?void 0:t.fontColor)==null?void 0:r.text},background:{color:(c=t==null?void 0:t.background)==null?void 0:c.color,image:(u=t==null?void 0:t.background)==null?void 0:u.image,video:(l=t==null?void 0:t.background)==null?void 0:l.video}}}function GP({contentType:e,fontSizeValue:t}){const s=Ft.TABLET;return Bm[s].fontSize[e][t]}const Hm=Ot("ivNotes",()=>{const e=m([]),t=T(()=>[...e.value].sort((o,i)=>o.timestamp-i.timestamp));function s(){e.value=[]}function n(o){e.value=o}function a(o){const i=e.value.findIndex(r=>r._id===o._id);i!==-1&&(e.value[i].watched=!0),o.watched=!0}return{notes:e,setNotes:n,sortedNotes:t,flushStore:s,setNoteAsWatched:a}}),Hn={BEFORE_ENTER:"beforeEnter"},jo={NONE:"none",PROGRAMMATIC:"programmatic"},xv={MISC:"misc",GAME_CODE:{_BASE_:"gameCode",TYPED:"gameCode.typed",PARAM:"gameCode.param",PSEUDO_LMS:"gameCode.pseudoLms",AFTER_DIALOG:"gameCode.afterDialog",AFTER_GROUP_INVITE_ACCEPT:"gameCode.afterGroupInviteAccept"},FEATURED:"featured",SEARCH:"search",FROM_ADMIN:{_BASE_:"fromAdmin",PARAM:{_BASE_:"fromAdmin.param",DIRECT:"fromAdmin.param.direct",AFTER_NAME:"fromAdmin.param.afterName",SOLO_LINK_SHARE:"fromAdmin.param.soloLinkShare",PARENT_EMAIL:"fromAdmin.param.parentEmail",PARENT_EMAIL_LINK:"fromAdmin.param.parentEmailLink"}},LMS:{_BASE_:"lms",AFTER_PROMPT:"lms.afterPrompt",AFTER_GROUP_INVITE_ACCEPT:"lms.afterGroupInviteAccept",PRE_GAME_SCREEN_START_ACTION:"lms.preGameScreenStartAction"},PRE_GAME_SCREEN:"preGameScreen",RECONNECT_REJOIN:"reconnectRejoin",RECENT_ACTIVITY:{_BASE_:"recentActivity",RUNNING:{_BASE_:"recentActivity.running",COMPLETE:"recentActivity.running.complete",REPLAY:"recentActivity.running.replay",PRACTICE:"recentActivity.running.practice",START_CHALLENGE_GAME:"recentActivity.running.startChallengeGame"},COMPLETED:{_BASE_:"recentActivity.completed",COMPLETE:"recentActivity.completed.complete",REPLAY:"recentActivity.completed.replay",PRACTICE:"recentActivity.completed.practice",START_CHALLENGE_GAME:"recentActivity.completed.startChallengeGame"},UNREGD_INCOMPLETE:"recentActivity.unregdIncomplete"},ACTIVITY:{_BASE_:"activity",RUNNING:{_BASE_:"activity.running",COMPLETE:"activity.running.complete",REPLAY:"activity.running.replay",PRACTICE:"activity.running.practice"},COMPLETED:{_BASE_:"activity.completed",COMPLETE:"activity.completed.complete",REPLAY:"activity.completed.replay",PRACTICE:"activity.completed.practice"}},REPLAY:{_BASE_:"replay",SUMMARY:{_BASE_:"replay.summary",BTN:"replay.summary.btn",FLASHCARDS:"replay.summary.flashcards"},AFTER_AUTH_MODAL:"replay.afterAuthModal",REPLAY_LIVE_GAME:"replay.replayLiveGame",REPLAY_LIVE_GAME_ASYNC:"replay.replayLiveGameAsync",REPLAY_CHALLENGE_GAME:"replay.replayChallengeGame"},REJOIN:{_BASE_:"rejoin",PARAM:{_BASE_:"rejoin.param",ROUTE_DATA:"rejoin.param.routeData"},AUTO:{_BASE_:"rejoin.auto",WHILE_LMS_FLOW:"rejoin.auto.whileLmsFlow"},NAVIGATED:{_BASE_:"rejoin.navigated",WHEN_FORBIDDEN:"rejoin.navigated.whenForbidden"},GAME_OVER:"rejoin.gameOver"},WAITING:{_BASE_:"waiting",REFRESH:"waiting.refresh"},EXISTING_INCOMP_PROMPT:{_BASE_:"existingIncompPrompt",ON_CHECK_ROOM:"existingIncompPrompt.onCheckRoom",ON_JOIN:"existingIncompPrompt.onJoin"},RECOMMENDATION:{_BASE_:"recommendation",FROM_SUMMARY:"recommendation.fromSummary",FROM_HOME:"recommendation.fromHome",FROM_TOPIC_PAGE:"recommendation.fromTopicPage"},GROUP_GAME:{_BASE_:"groupGame",NOTIFICATION:"groupGame.notification",CARD:{_BASE_:"groupGame.card",RUNNING:"groupGame.card.running",RECENT_ACTIVITY:"groupGame.card.recentActivity"}},FROM_SHARE:{_BASE_:"fromShare",VIA_ADMIN:"fromShare.viaAdmin",VIA_JOIN:"fromShare.viaJoin"},MY_QUIZZES:{_BASE_:"myQuizzes",FROM_ACTIVITY_PAGE:"myQuizzes.fromActivityPage"},CHALLENGE_WAITING:{_BASE_:"challengeWaiting"},EMBED:"embed"},Ze=new gm(xv),Vm="quizizz.com",xu=33,Sc=65535,Rc=0,Fv={resultModifier:(e,t,s)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,s,n)=>n(e,t),miscDataForLogging:""},Qv={stringModifier:(e,t,s)=>e,keySumExtractor:(e,t)=>e.charCodeAt(0),offsetAdder:(e,t,s,n)=>n(e,t),miscDataForLogging:"",obfsVersionExtractor:Km};let jm=2;function $m(e,t,s,n=jm){return Xm(e,t||Vm,{resultModifier:qv,keySumExtractor:Ym,offsetAdder:Wm,miscDataForLogging:s,obfsVersion:n})}function jr(e,t){return Zm(e,Uv,{stringModifier:Bv,keySumExtractor:Ym,offsetAdder:Wm,miscDataForLogging:t,obfsVersionExtractor:Km})}function Wm(e,t,s,n,a){switch(a){case 2:return Hv(e)?Zl(e,t,s,n):e;case 1:default:return Zl(e,t,s,n)}}function Zl(e,t,s,n){return s%2===0?n(e,t):n(e,-t)}function qv(e,t,s,n){const a=Jm(!0,n),o=Xm(t,a),i=String.fromCharCode(xu+o.length);return`${o}${e}${i}${n}`}function Uv(e="",t,s){const n=Number.parseInt(e[e.length-1],10),a=e.charCodeAt(e.length-2)-xu,o=e.slice(0,a),i=Jm(!1,n);return Zm(o,i)}function Bv(e="",t,s,n){const a=e.charCodeAt(e.length-2)-xu;return e.slice(a,-2)}function Ym(e,t){return e.charCodeAt(0)+e.charCodeAt(e.length-1)}function Km(e){if(typeof e=="string"&&e[e.length-1]){const t=Number.parseInt(e[e.length-1],10);if(!Nr(t))return t}return null}function Jm(e,t){switch(t){case 3:return"testing";case 2:default:return Vm}}function Xm(e,t,s={}){s=$n(s,Fv);const n=ut(s.obfsVersion)?s.obfsVersion:jm,a=Gs(t)?t(e,s,n):t;let o="";const i=s.keySumExtractor(a,e,n);for(let c=0;c<e.length;c++){const u=e.charCodeAt(c),l=s.offsetAdder(u,i,c,ep,n);o+=String.fromCharCode(l)}let r=s.resultModifier(o,a,i,n);return(typeof r!="string"||S(r))&&(b.logForSession([`Error- option 'resultModifier' needs to return a valid string at ${JSON.stringify(s.miscDataForLogging)}. Got Value`,r],"error"),r=o),r}function Zm(e,t,s={}){s=$n(s,Qv);const n=s.obfsVersionExtractor(e);let a="";const o=Gs(t)?t(e,s,n):t,i=-s.keySumExtractor(o,e,n);let r=s.stringModifier(e,o,i,n);typeof r!="string"&&(b.logForSession([`Error- option 'stringModifier' needs to return a valid string at ${JSON.stringify(s.miscDataForLogging)}. Got Value`,r],"error"),r=e);for(let c=0;c<r.length;c++){const u=r.charCodeAt(c),l=s.offsetAdder(u,i,c,ep,n);a+=String.fromCharCode(l)}return a}function ep(e,t){const s=e+t;return s>Sc?Rc+(s-Sc)-1:s<Rc?Sc-(Rc-s)+1:s}function Hv(e){return ut(e)?!(e>=55296&&e<=56319||e>=56320&&e<=57343):!1}const ed=ba.requestServerUrl;var Ao=(e=>(e.CODE="code",e.TRACK_SESSION_ID="trackSessionId",e))(Ao||{});class tp{static async checkCourse({courseIdentifier:t,type:s,playerId:n}){let a="trackSessionId";return s==="code"&&(a="code"),Re.post(`${ed}learning-track-session/join`,{payload:{[a]:t,playerId:n},requestName:je.checkCourse})}static async getUserCourses(){return Re.get(`${ed}learning-track-session/join/userSessions`,{requestName:je.getUserCourses})}}const sp=Ot("liveReactions",()=>{const e=m(!1),t=m(!1);function s(r){e.value=r.reactionStopped}function n(){t.value=!0}function a(r){const c=r.liveReactions||{};S(c)||(e.value=c.hasTeacherDisabledInGame,t.value=c.isNewReactionsAnimationDisabled)}function o(){return{hasTeacherDisabledInGame:e.value,isNewReactionsAnimationDisabled:t.value}}function i(){e.value=!1,t.value=!1}return{hasTeacherDisabledInGame:e,getState:o,isNewReactionsAnimationDisabled:t,toggleLiveReactions:s,updateNewReactionsVisibilityStatus:n,loadPreviousContext:a,$reset:i}}),Fu=Ot("raiseHands",()=>{const e=m(!1),t=m(!1),s=m(!1),n=m(!1),a=m(null),o=Dt();function i(){e.value=!0}function r(){t.value=!0}function c(){e.value=!1}function u(E){(E.dropAllHands||E.playerId===o.playerId)&&(e.value=!0)}function l(E){s.value=E.isRaiseHandStopped}function p(E){E.raisedHandsList&&E.raisedHandsList.filter(_=>_.pId===o.playerId).length>0&&(t.value=!0),E.metadata.isRaiseHandStopped&&(s.value=E)}function d(E){n.value=E.raiseHandStatusForSlide,a.value=E.roomHashForDisabledSlide}function g(E){E.raiseHand&&E.raiseHand.isRaiseHandDisabledForSlide&&(n.value=E.raiseHand.isRaiseHandDisabledForSlide,a.value=E.raiseHand.roomHashForDisabledSlide)}function f(){e.value=!1,t.value=!1,s.value=!1,n.value=!1,a.value=null}function h(){return{isHandDropped:e.value,isHandAlreadyRaisedForPlayer:t.value,hasHostDisabledRaiseHands:s.value,isRaiseHandDisabledForSlide:n.value,roomHashForDisabledSlide:a.value}}return{isHandDropped:e,isHandAlreadyRaisedForPlayer:t,isRaiseHandDisabledForSlide:n,hasHostDisabledRaiseHands:s,roomHashForDisabledSlide:a,dropStudentHand:u,toggleRaiseHands:l,raisedHandForPlayer:p,updateRaiseHandStatusForSlide:d,loadPreviousContext:g,$reset:f,getState:h,dropPlayerHand:i,persistRaiseHand:r,resetDroppedState:c}}),np=["roomHash","quizId","quizName"];function Vv(e){const t={...e};return It(Object.keys(e),s=>{np.includes(s)&&!S(e[s])&&(t[s]=`${s}-${$m(e[s],s+cr(1,9999),"local",3)}`)}),t}function jv(e){const t={...e};return It(np,s=>{if(!S(e[s])&&typeof e[s]=="string"&&e[s].includes(`${s}-`)){const a=e[s].split(`${s}-`)[1];t[s]=jr(a,"getSpashtGameFromStorage")}}),t}function $v(e={},t){let a=!0;const o=!0,i=!0;return li(t)&&(a=!(t.forPlayer||!t.subjects)),{currentPlayer:(e==null?void 0:e.currentPlayer)||null,userProfile:(e==null?void 0:e.userProfile)||null,game:a&&t||null,applicationContext:o&&(e==null?void 0:e.applicationContext)||null,appSettings:i&&(e==null?void 0:e.appSettings)||null,liveReactions:(e==null?void 0:e.liveReactions)||null,raiseHand:(e==null?void 0:e.raiseHand)||null,readAloudV2:(e==null?void 0:e.readAloudV2)||null}}function Wv(e,t){var i;const s=new bu((i=window.location)==null?void 0:i.href),{referrer:n}=document,a=s.query,o={source:"direct",screen:t,referrer:n||"Direct Join"};return a.c?o.source="lms":a.fromApp&&a.fromApp==="true"?o.source="app-webview":a.gc?o.source="code":a.from&&a.from==="gameRejoin"?o.source="rejoin":a.lt&&(o.source="course"),S(a.ld)||(o.loadData=a.ld),e.areNetworkEventsAllowedInSession&&(o.networkEventsAllowed=!0),o.loadType=Lh(),{eventParams:o}}function Yv(){const e=Fu().$state,t=sp().$state,s=Yt().$state,n=gn().$state,a=Dt().$state;let o=null;if(!S(a.lastGamePlayed)){const i=ys(a.lastGamePlayed);o=Vv(i)}return{currentPlayer:{playerId:a.playerId,monsterId:a.monsterId},userProfile:{mongoId:s.mongoId,isLoggedIn:s.isLoggedIn},game:o,appSettings:n,liveReactions:t,raiseHand:{isRaiseHandDisabledForSlide:e.isRaiseHandDisabledForSlide,roomHashForDisabledSlide:e.roomHashForDisabledSlide}}}function Kv(e,t){var h,E;const s=Ut(ya,{lang:"English"}).locale;let n=!1,a="",o=!1,i={selectedTheme:Mi.DEFAULT_THEME},r=null;t&&t.game&&(r=jv(t.game));const c=$v(t,r),u=c.userProfile&&c.userProfile.mongoId||"";let l={};S(c.userProfile)||(l={isLoggedIn:c.userProfile.isLoggedIn===!0});const p={currentPlayer:c.currentPlayer,game:c.game,applicationContext:c.applicationContext,appSettings:c.appSettings,prevSessionMongoId:u,userProfile:l,liveReactions:c.liveReactions,raiseHand:c.raiseHand,readAloudV2:c.readAloudV2},d=Yt(),g=((h=p.appSettings)==null?void 0:h.selectedLanguage)||"",f=((E=p.appSettings)==null?void 0:E.selectedTheme)||"";return tc(g)&&g!==e.selectedLanguage&&g!==s&&(a=g,n=!0),Br(f)&&(o=!0,i={selectedTheme:d.themesAllowedToUser.includes(f)?f:rt.CLASSIC}),{prevContext:p,shouldSetAppLanguage:n,selectedLanguage:a,shouldSetAppTheme:o,setThemeMutationPayload:i}}function Jv(e){const t=e.query||{},s=!S(t.gc),n=!S(t.lt),a=!S(t.c),o=!S(t.fromApp)&&t.fromApp==="true",i=!S(t.needAuth)&&t.needAuth==="true",r={};let c={roomCode:"",startSource:void 0},u="",l={};if(s){const p=S(t.startSource)?"":`|${t.startSource}`,d=!S(t.isFLMS);let g="";d?g=Ze.get(Ze.List.GAME_CODE.PSEUDO_LMS)+p:g=Ze.get(Ze.List.GAME_CODE.PARAM)+p;const f=Jp(Kd);c={roomCode:t.gc.slice(0,f),startSource:g}}if(a&&(u=t.c),n){const p=S(t.startSource)?"":`|${t.startSource}`,d=!S(t.isFLMS);let g="";d?g=Ze.get(Ze.List.GAME_CODE.PSEUDO_LMS)+p:g=Ze.get(Ze.List.GAME_CODE.PARAM)+p,l={courseCode:t.lt,startSource:g,type:Ao.CODE}}return S(t.redirOnGameExit)||(r.redirectOnGameExit=decodeURIComponent(t.redirOnGameExit)),{shouldStartGCParamFlow:s,gcParamPipelineActionPayload:c,shouldStartGoogleClassroomFlow:a,shouldStartCoursesFlow:n,gclParamPiplineActionPayload:u,coursesPiplineActionPayload:l,initialGameMetadata:r,shouldStartAppAuthFlow:o&&i}}const Cc={showAnswers:[{if:1,for:[2,3],then:e=>e?Gt.ShowAnswers.ALWAYS:Gt.ShowAnswers.PARTIAL}],studentQuizReview:[{if:1,for:[2,3],then:e=>e?Gt.StudentQuizReview.YES:Gt.StudentQuizReview.NO}],timer:[{if:1,for:[3],then:e=>e?Gt.Timer.CLASSIC:Gt.Timer.OFF}]};function ci(e={},t=!1){const s=qu(e,!0,t),n={},a={},o=Object.keys(s);for(let i=0;i<o.length;i++){const r=o[i],c=r.split("_"),u=c[0],l=Rn(c[1])||1;l<=vr&&(!n[u]||l>=a[u])&&(n[u]=s[r],a[u]=l)}return It(a,(i,r)=>{if(!Dn(Cc,r))return;const u=Zt(Cc[r],{if:i});if(An(u))return;const l=Ut(Cc[r],h=>Jt(h.for,vr));b.invariant(!An(l),`serverGameOptionsCooker: No corresponding value exist for game option ${r} when version received is ${i} and supported version is ${vr}`);const p=Qu(),d=l.then(n[r]);let g;It(qs(l.for,Number,"desc"),h=>{const E=p[`${r}_${h}`];return E!=null?(g=E,!1):null});const f=typeof d==typeof g;b.invariant(f,`serverGameOptionsCooker: corresponding value(${d}) is not valid for game option ${r} when version received is ${i} and supported version is ${vr}`),n[r]=f?d:g}),n}function Xv(e,t){const s={},n={},{appSettings:{showMemes:a,playMusic:o,playSFX:i,readAloud:r,selectedTheme:c},gameMode:u,slidesFlowControlType:l,themesAllowedToUser:p}=e;return nn(t.memes)&&t.memes!==a&&(s.showMemes=t.memes?a:!1,t.memes===!1&&(n.showMemes=a)),o&&nn(t.studentMusic)&&(u===re.MYSTIC_PEAK?s.playMusic=!0:s.playMusic=t.studentMusic,t.studentMusic===!1&&(n.playMusic=o)),i&&nn(t.studentSFX)&&(s.playSFX=t.studentSFX),Jt(p,c)||(u===re.MYSTIC_PEAK?s.selectedTheme=rt.MYSTIC_PEAK:t.isDuelEnabled?s.selectedTheme=rt.SNS:s.selectedTheme=rt.CLASSIC,n.selectedTheme=c),l===es.NONE&&(s.readAloud=!1,n.readAloud=r),{changedSettings:s,appSettingsToRevert:n}}function Zv({allOrderedResponses:e,totalQuestionsInGame:t},s){const n={},a=Fd(s,"type");return It(a,(o,i)=>{n[i]=gu(Nt(o,r=>r.finalURL))}),{createdBy:k(s[0],"createdBy",""),memeSet:n,responses:Nt(e,o=>o.isCorrect),questionsCount:t}}function eE(e,t,s){const n=e.data||e||{};let a=null;return n.stats&&n.stats.totalQuestions&&n.stats.totalCorrect&&(a=Math.floor(n.stats.totalCorrect/n.stats.totalQuestions*100)),{quizId:[Ct.COMPLETED,Ct.STOPPED].includes(t)||[Je.ASYNC,Je.SOLO].includes(s)&&t===Ct.RUNNING?n._id:n.quizId||"",quizName:n.name||n.slug||"",grade:n.grade,subjects:n.subjects,image:n.image,accuracy:a,quizCreator:n.creator,isQuizPublic:nn(n.visibility)?n.visibility:!0,quizType:n.type,passageProps:n.passageProps}}function tE(e){return e.filter(s=>![Y.COMPREHENSION,Y.COMPREHENSION_VIDEO].includes(s.type)).length}function ap(e,t,{data:s,creatorPrivileges:n,contestId:a,embedMode:o}){const{quiz:i}=s,r=An(i.info)?s.draft:i.info,c=k(e,"pageMetaData.source",Ze.get(Ze.List.PRE_GAME_SCREEN)),u=An(t.startSource)?c:t.startSource,l=hi({type:i.type,traits:r.traits}),p=k(i,"info.questions",[]),d=An(u)?Ze.get(Ze.List.PRE_GAME_SCREEN):u,g=p.map(E=>({type:E.type})),f={quizName:r.name,image:r.image||"",creator:{...i.createdBy,privileges:n||{}},numberOfQuestions:tE(p),quizId:i._id,quizSubjects:r.subjects,quizTraits:r.traits,quizType:l,questionVersions:g,quizVersionId:i.publishedVersion};return{currentGameData:{gameState:Ct.COMPLETED},currentQuizData:f,screenOpenSource:d,soloLinkReferrer:t.soloLinkReferrerId||"",contestId:a,embedMode:o}}function sE(e){const t=k(e,"items[0].groupsInfo"),s={isLMSGame:!1,gclToken:"",groupId:"",courseId:"",lmsName:""};return t&&(nn(t.hasGCL)&&t.hasGCL&&(s.isLMSGame=!0),s.gclToken=k(t,"gclToken",""),s.courseId=k(t,"gcl[0].gclCourseId",""),s.groupId=k(t,"gcl[0].groupId",""),s.lmsName=k(t,"gcl[0].lmsName","gcl")),s}function nE(e,t={}){let s={attempts:[],gameInfo:{}},n="",a="",o="";const i=k(e.items[0],"currentQuestionIndex",-1);e.groupAssignedTotal>0?(s=e.groupAssignedItems[0].gamesAttempted[0],n=e.groupAssignedItems[0].quizInfo.quizId):e.items.length>0&&(s=e.items[0].gamesAttempted[0],n=e.items[0].quizInfo.quizId),s.attempts[0]&&s.attempts[0].playerId&&(a=s.attempts[0].playerId),s.gameInfo.gameType===Je.SOLO?o=e.quizzes[n].creator.id:o=s.gameInfo.host.id;const r=e.users[o]||{},c=s.gameInfo.lmsInfo||t||{};let u=!1;nn(s.gameInfo.hasLMSAttempts)&&s.gameInfo.hasLMSAttempts?u=!0:nn(c.isLMSGame)&&(u=c.isLMSGame);const l=k(s,"gameInfo.numQuestions"),p=k(s,"gameInfo.assignmentTitle");let d=0;ut(l)&&l>0?d=l:ut(e.quizzes[n].numOfQuestions)&&(d=e.quizzes[n].numOfQuestions),An(c)||(c.roomHash=s.gameInfo.roomHash,c.roomCode=s.gameInfo.gameCode);const g=k(e.quizzes[n],"creator.id","");let f={};g&&(f=e.users[g]||{});const h=s.attempts;An(h[0])||(h[0].currentQuestionIndex=i),It(h,_=>{_.roomHash=s.gameInfo.roomHash});const E={host:r,groupData:{type:s.gameInfo.groupType||Ks.NONE,ids:s.gameInfo.groupIds||[],dueDate:s.gameInfo.dueDate||"",assignmentTitle:p},dueDate:s.gameInfo.dueDate||"",lmsInfo:c,gameType:s.gameInfo.gameType||"",gameMode:s.gameInfo.gameMode,gameState:s.gameInfo.gameState,isLMSGame:u,roomHash:s.gameInfo.roomHash,roomCode:s.gameInfo.gameCode,gameStartedOn:s.gameInfo.gameCreatedAt,playerId:a,gameHostName:r.fullName||r.username||""},A={quizName:e.quizzes[n].name||"",image:e.quizzes[n].image||"",quizTraits:e.quizzes[n].traits||{},numberOfQuestions:d,quizSubjects:e.quizzes[n].subjects||[],quizId:n,creator:f,quizType:hi(e.quizzes[n])};return{currentAttempts:h,currentGameData:E,currentQuizData:A,screenOpenSource:"direct"}}function aE(e){const t=[{numCorrect:e.numCorrect,numQuestions:e.numQuestions,playerId:e.playerId,numQuesAttempted:e.numQuesAttempted,isOver:nn(e.isOver)?e.isOver:!1,gameType:e.gameType,gameMode:e.gameMode||re.NORMAL}],s={gameType:e.gameType,gameMode:e.gameMode||re.NORMAL,playerId:e.playerId,roomCode:e.roomCode,roomHash:e.roomHash},n={quizName:e.quizName,quizId:e.quizId,image:e.quizImage,numberOfQuestions:e.numQuestions,quizSubjects:e.subjects};return{currentAttempts:t,currentGameData:s,currentQuizData:n}}function oE({user:e},t){const s=e.attempts.commonQuizzesData[t.quizInfo.quizId],n=k(t,"gamesAttempted[0].gameInfo.host.id");let a={};n&&(a=e.attempts.commonUsersData[n]);const o=[...k(t,"gamesAttempted[0].attempts",[])],i=k(t,"gamesAttempted[0].gameInfo",{}),r=i.lmsInfo||{},c=i.assignmentTitle,u=k(s,"creator.id","");let l="",p={},d=!1;nn(i.hasLMSAttempts)&&i.hasLMSAttempts?d=!0:nn(r.isLMSGame)&&(d=r.isLMSGame),An(r)||(r.roomHash=i.roomHash,r.roomCode=i.gameCode),o[0]&&(o[0].playerId&&(l=o[0].playerId),o[0]={...o[0],currentQuestionIndex:k(t,"currentQuestionIndex",-1)}),u&&(p=e.attempts.commonUsersData[u]||{});const g={host:a,groupData:{type:i.groupType||Ks.NONE,ids:i.groupIds||[],dueDate:i.dueDate||"",assignmentTitle:c},lmsInfo:r,gameType:i.gameType||"",gameMode:i.gameMode,gameState:i.gameState,isLMSGame:d,roomHash:i.roomHash,roomCode:i.gameCode,gameStartedOn:i.gameCreatedAt,playerId:l,gameHostName:a&&(a.fullName||a.username)||""},f={quizName:s.name||"",image:s.image||"",quizTraits:s.traits||{},numberOfQuestions:o[0].numQuestions,quizSubjects:s.subjects||[],quizId:t.quizInfo.quizId,creator:p,quizType:hi(s)};return{currentAttempts:o,currentQuizData:f,currentGameData:g}}function iE({quizId:e,quizData:t,contestId:s,embedMode:n=!1,routing:a,userAttempts:o}){const i=Ut(o.completedGames,g=>g.quizInfo&&g.quizInfo.quizId===e),r=k(a,"pageMetaData.source",Ze.get(Ze.List.PRE_GAME_SCREEN));let c=0;ut(t.numOfQuestions)&&t.numOfQuestions!==0?c=t.numOfQuestions:c=k(i,"gamesAttempted[0].attempts[0].numQuestions",0);const u=k(t,"creator.id","");let l={};u&&(l=o.commonUsersData[u]||{});const p={quizName:t.name||"",image:t.image||"",quizTraits:t.traits||{},numberOfQuestions:c,quizSubjects:t.subjects||[],quizId:e,creator:l,quizType:hi(t)},d={gameState:Ct.COMPLETED};return{screenOpenSource:r,currentQuizData:p,currentGameData:d,contestId:s,embedMode:n}}function op(e){return typeof e=="string"&&e.length>=Lf}function rE(e){const t=k(window,"lmsError")||{},s=k(window,"lmsHash")||"";let n=!1,a=null;return An(t)&&!An(s)&&(n=!0,a={roomCode:k(window,"gameCodeParam"),roomHash:k(window,"lmsHash"),lmsName:k(window,"lmsName"),courseId:k(window,"lmsCourseId")}),{isInValidFlow:n,encodedParam:e,decodedLMSInfo:a,error:t}}function Qu(e=[]){const t={jumble:!0,jumbleAnswers:!0,showAnswers:!0,showAnswers_2:Gt.ShowAnswers.ALWAYS,studentQuizReview:!0,studentQuizReview_2:Gt.StudentQuizReview.YES,studentLeaderboard:!0,memes:!0,timer:!0,memeset:Qi,studentMusic:!0,loginRequired:!1,limitAttempts:0,redemption:Gt.Redemption.NO,nicknameGenerator:!1,mirror:!1,powerups:Gt.Powerups.NO,questionsPerAttempt:0,timer_3:Gt.Timer.CLASSIC};return An(e)?t:ka(t,e)}function qu(e={},t=!1,s=!1){const n=e?Object.keys(e):[],a=Qu(s?n:[]);t&&It(a,(i,r)=>{(Rn(r.split("_")[1])||1)>1&&delete a[r]});const o=a;return It(e,(i,r)=>{const c=o[r];if(c){const u=typeof i==typeof c;b.invariant(u,[`getDefaultedGameOptions: given value "${i}" for option "${r}" does not correspond to allowed values`,e]),o[r]=typeof i==typeof c?i:c}else o[r]=i}),o}function cE(e={}){const t=Qu(),s=Object.keys(t),n=Zt(s,a=>a.split("_").length>1).map(a=>{const o=a.split("_");return{name:o[0],version:Rn(o[1])||1}});return ra(e,(a,o,i)=>{const r=Zt(n,{name:i});if(r.length>0){const c=Xp(r,"version").version;a[`${i}_${c}`]=o}else a[i]=o;return a},{})}function uE({userMongoId:e,userSessionId:t,playerId:s},n){const{id:a,hostId:o,code:i,hostSessionId:r}=n,c=o&&o===e||r&&r===t;let u={},l=!1;o?u=Ut(n.players,{mongoId:o}):r&&(u=Ut(n.players,{uid:r})),An(u)||(l=!0);const p=k(u,"id","")||s;return{roomCode:i,roomHash:a,hostId:o,isUserTheGameHost:c,hasUserJoinedTheGame:l,userPlayerId:p}}function lE(e,t){return t&&(t.redemptionQuestion&&(e.redemption=Gt.Redemption.YES),e.studentLeaderboard&&t.doNotShowLeaderboard&&(e.studentLeaderboard=!1),e.limitAttempts&&t.participantAttempts!==0?e.limitAttempts=Math.max(e.limitAttempts,t.participantAttempts):t.participantAttempts===0&&(e.limitAttempts=0)),e}async function ac(e){!e.socketConnected&&e.hasSocketConnectedOnce&&!e.socketDisconnectedManually&&await e.disconnectSocket(),e.socketConnected||await e.connectSocket()}const Uu=Ot("course",()=>{const e=m(),t=m(),s=m([]),n=m(),a=m(""),o=m(0),i=m([]),r=m(""),c=T(()=>{var P;return((P=t.value)==null?void 0:P.joinCode)||""}),u=T(()=>{var P;return((P=t.value)==null?void 0:P._id)||""}),l=T(()=>{var P;return((P=e.value)==null?void 0:P.name)||""}),p=T(()=>{var P;return((P=e.value)==null?void 0:P.description)||""}),d=T(()=>{var P;return((P=e.value)==null?void 0:P.image)||""}),g=T(()=>{var j;return(((j=e.value)==null?void 0:j.quizzesMetaData)||[]).map(oe=>oe.quizId)}),f=T(()=>{var P;return(P=e.value)==null?void 0:P.host}),h=T(()=>i.value&&Array.isArray(i.value)?i.value.filter(P=>P.status!==Qo.GAME_STATUS.COMPLETED):[]),E=T(()=>i.value&&Array.isArray(i.value)?i.value.filter(P=>P.status===Qo.GAME_STATUS.COMPLETED):[]),A=T(()=>{var P,j;return(j=(P=t.value)==null?void 0:P.trackOptions)==null?void 0:j.attemptInSequence}),_=T(()=>s.value&&Dd(s.value)&&s.value.length?s.value.filter(P=>P.gameStatus===Qo.GAME_STATUS.NOT_STARTED):[]),v=T(()=>g!=null&&g.value.length?g==null?void 0:g.value.length:0),y=T(()=>{let P=s.value;return P=P==null?void 0:P.filter(j=>j.gameStatus===Qo.GAME_STATUS.NOT_STARTED||j.gameStatus===Qo.GAME_STATUS.STARTED),P==null?void 0:P.length}),N=T(()=>{var P;return((P=t.value)==null?void 0:P.state)===Qo.GAME_STATUS.COMPLETED}),G=T(()=>{var P;return(P=t.value)!=null&&P.endedAt?Mn(t.value.endedAt).format("D MMM YYYY"):""}),z=T(()=>v.value-y.value),Q=T(()=>{var oe;let P=(oe=t.value)==null?void 0:oe.deadline;if(!P)return!1;P=new Date(P);const j=18*30*24*3600*1e3;return P.getTime()<Date.now()+j}),H=T(()=>{var P;return Q.value&&((P=t.value)!=null&&P.deadline)?Mn(t.value.deadline).format("D MMM"):""}),w=T(()=>{var P,j;return(j=(P=t.value)==null?void 0:P.trackOptions)==null?void 0:j.complianceOptions});function I(P){Uu().$patch(P)}function M(P){vm(P.courseIdentifier)?t.value={joinCode:P.courseIdentifier}:t.value={_id:P.courseIdentifier},a.value=P==null?void 0:P.startSource}async function J(){try{const{response:P}=await tp.getUserCourses();i.value=P.data}catch(P){b.error("Error at action fetchAssignedCourse: ",P)}}function K(P){var oe,X,ie;const j=(X=(oe=t.value)==null?void 0:oe.trackOptions)==null?void 0:X.complianceOptions;return(ie=j==null?void 0:j[P])==null?void 0:ie.goal}function fe(){e.value=void 0,t.value=void 0,s.value=[],n.value=void 0,a.value="",i.value=[],o.value=0}return{learningTrackVersion:e,learningTrackSession:t,quizzesDetails:s,trackAccuracy:o,sessionParticipant:n,assignedCourses:i,runningCourseSessions:h,completedCourseSessions:E,incompleteActivities:_,host:f,name:l,image:d,quizIds:g,createdBy:r,courseCode:c,description:p,courseSessionId:u,isSequentialGame:A,remainingActivities:y,totalActivities:v,hasCourseEnded:N,hasDeadline:Q,deadline:H,completedActivities:z,getEndDate:G,complianceOptions:w,setCourseData:I,fetchAssignedCourse:J,checkCourseInProgress:M,getComplianceGoal:K,$reset:fe}}),ip=Ot("preCourseActions",()=>{const e=Uu(),t=ua();function s(i){return i&&e.courseSessionId&&e.courseSessionId===i&&e.createdBy}async function n({courseIdentifier:i="",type:r=Ao.CODE,startSource:c="",handlePreCourseErrorAs:u="dialog"}){var p;const l=(p=e.sessionParticipant)==null?void 0:p.playerId;try{e.checkCourseInProgress({courseIdentifier:i,startSource:c});const{response:d}=await tp.checkCourse({courseIdentifier:i,type:r,playerId:l});return e.setCourseData(d.data),{success:!0,response:d}}catch(d){return b.error("Error at action checkCourse: ",d),o({errorData:d,handlePreCourseErrorAs:u,courseIdentifier:i})}}async function a(i){return await n({courseIdentifier:i,type:Ao.TRACK_SESSION_ID})}function o({errorData:i={},handlePreCourseErrorAs:r="",errorType:c="",courseIdentifier:u=""}){const l=hs(),p=c||pn(i),d=`ca-${p}`;let g=!1;switch(p){case"validate.validation":case"course.NOT_FOUND":t.handlePreGameErrorMessages({errorName:"course.invalidCode|confirm",handlePreGameErrorAs:r}),g=!0;break;case"course.EXPIRED":t.handlePreGameErrorMessages({errorName:"course.expired|confirm",handlePreGameErrorAs:r}),g=!0;break;case"course.NOT_STARTED":t.handlePreGameErrorMessages({errorName:"course.notStarted|confirm",handlePreGameErrorAs:r}),g=!0;break;case"player.LOGIN_REQUIRED":l.toggleModal({type:un.AUTH,options:{authView:"signup",source:qr.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING,title:U("You need to be registered to join this course."),redirect:`/pro/join?lt=${u}`}}),g=!0;break;case"course.NOT_PART_GROUP":t.handlePreGameErrorMessages({errorName:"course.notPartOfGroup|confirm",handlePreGameErrorAs:r}),g=!0;break;default:t.handlePreGameErrorMessages({errorName:"course.invalidLink|confirm",handlePreGameErrorAs:r,errorCode:d}),g=!0}return g&&t.resetCourse(),{success:!1,error:{type:p}}}return{checkCourse:n,refreshCourseData:a,isCourseAlreadyFetched:s}}),dE=Object.freeze(Object.defineProperty({__proto__:null,default:ip},Symbol.toStringTag,{value:"Module"})),mE=Ot("preCourseFlows",()=>{const e=Js(),t=hs(),s=ip();async function n({courseCode:i,startSource:r,handlePreCourseErrorAs:c="inLineMessage"}){const u=await s.checkCourse({courseIdentifier:i,type:Ao.CODE,startSource:r,handlePreCourseErrorAs:c});if(!u.success)return u;const l=k(u,"response.data.learningTrackSession._id");return e.requestToChangePage({to:O.get(O.List.COURSE.DETAILS),metaData:{params:{courseSessionId:l}}}),ct.logEvent(as.COURSE_JOIN_VIA_CODE_SUCCESS),u}async function a({courseCode:i,startSource:r}){return t.togglePreGameErrorMessage(),n({courseCode:i,startSource:r})}async function o({courseCode:i,startSource:r}){const c=await s.checkCourse({courseIdentifier:i,startSource:r,type:Ao.CODE});return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"lt"))},100),c.success?{redirectToCourse:!0,courseCode:i,courseSessionId:k(c,"response.data.learningTrackSession._id")}:{redirectToCourse:!1,courseCode:i}}return{courseCodeSubmittedPipeline:a,courseCodeQueryParamPipeline:o}}),Oo=Ot("preGameFlows",()=>{const e=yt(),t=la(),s=ua();async function n({roomCode:A,startSource:_,togglePreGameErrorMessage:v}){return v(),h({roomCode:A,startSource:_})}async function a({roomCode:A,startSource:_},v){const y=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,G=await y().checkRoom({roomCode:A,startSource:_,handlePreGameErrorAs:"dialog"});let z="";return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"gc"))},100),!G.success||G.meta.wasCheckRoomDeffered===!0?{redirectToPreGame:!1,preGameRunningComposite:z}:(z=qo({roomHash:e.roomHash,playerId:v,quizId:"",gameState:Ct.RUNNING}),{redirectToPreGame:!0,preGameRunningComposite:z})}async function o({encodedGCLParam:A,enterLMSFlow:_}){const v=rE(A);let y="";if(ct.logEvent(as.STUDENT_GCL_FLOW_JOIN),!v.isInValidFlow)return s.handlePreGameErrorMessages({errorName:"game.expiredLink|confirm",handlePreGameErrorAs:"dialog"}),{redirectToPreGame:!1};e.enterLMSFlow({encodedParam:v.encodedParam}),_();const N=await s.decodeLMSInfoAndCheckAssignment({lmsInfo:v.decodedLMSInfo,startSource:Ze.get(Ze.List.LMS),handlePreGameErrorAs:"dialog"});if(!N.success||N.meta.wasCheckAssignmentDeffered===!0)return setTimeout(()=>{window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"c"))},100),{redirectToPreGame:!1,preGameRunningComposite:y};const{room:{hash:G,quizId:z,state:Q}}=N.response;if(window.history.state.current){const H=window.history.state.current.split("?")[1],w=new URLSearchParams(H),I=w.get("rostered"),M=w.get("lms");if(I){switch(M){case"gcl":ct.logEvent(as.STUDENT_GCL_ROSTERING_SUCCESFULL);break;case"schoology":ct.logEvent(as.STUDENT_SCHOOLOGY_ROSTERING_SUCCESFULL);break;case"canvas":ct.logEvent(as.STUDENT_CANVAS_ROSTERING_SUCCESFULL);break}ct.logEvent(as.STUDENT_ROSTERING_SUCCESFULL)}}return y=qo({roomHash:G,quizId:z,gameState:Q}),{redirectToPreGame:!0,preGameRunningComposite:y}}async function i({roomHash:A,quizId:_,applicationContext:v,togglePreGameErrorMessage:y,routing:N,profile:G,player:z}){const Q=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,H=Q();try{if(_){const{response:w}=await ku({quizId:_,bypassProfanityCheck:!0,requestPrivileges:!1}),I=ap({routing:N},{},{data:{quiz:w.data.quiz},contestId:null,embedMode:!1,creatorPrivileges:[]});t.setPreGameInfo(I)}if(await ac(v),A){let{roomCode:w}=e;const{gameMode:I}=e,M=Ze.get(Ze.List.PRE_GAME_SCREEN);if(S(w)||I!==re.CHALLENGE){const{response:J}=await xm(A),K=uE({userMongoId:G.mongoId||"",userSessionId:v.deviceInfo.quizizzUID||"",playerId:z.playerId||""},J.data);if(w=K.roomCode,!K.isUserTheGameHost)return await s.resetGame(),await y(),{success:!1};const fe=await H.checkRoom({roomCode:w,startSource:M});if(!fe.success)return await s.resetGame(),await y(),fe;K.hasUserJoinedTheGame&&await H.rejoinAnyGame({gameData:{roomHash:A,playerId:K.userPlayerId,gameType:re.CHALLENGE},startSource:M})}return{success:!0}}}catch(w){return b.error("Error at challengeGamePipeline",w),{success:!1}}return{success:!1}}async function r({quizId:A,toRoute:_,embedMode:v,userAttempts:y,routing:N,isLoggedIn:G}){var z;if(A){const Q=((z=_.params)==null?void 0:z.contestId)||null;if(G){const w=y.commonQuizzesData[A];if(w){const I=iE({quizId:A,quizData:w,contestId:Q,embedMode:v,routing:N,userAttempts:y});return t.setPreGameInfo(I),{redirectToQuizPage:!0,quizId:A}}}const{success:H}=await t.retrieveCompletedGame({quizId:A,toRoute:_,embedMode:v})||{};return{redirectToQuizPage:H,quizId:A}}return{redirectToQuizPage:!1}}async function c(A){const{roomHash:_,playerId:v,gameState:y,userAttempts:N,profile:G,lastGamePlayed:z}=A;if(_)try{const Q=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,H=Q(),w=qo({roomHash:_,playerId:v,gameState:y});let I={success:!1};if(G.isLoggedIn){const M=Ut(N.runningGames,J=>J.gamesAttempted[0].gameInfo.roomHash===_);if(S(M))I=await t.retrieveRunningGame({roomHash:_});else{const K=oE({user:{profile:G,attempts:N}},M);K&&(t.setPreGameInfo(K),I={success:!0})}}else if(z.roomHash===_){const M=aE(z);t.setPreGameInfo(M),I={success:!0}}else I=await t.retrieveRunningGame({roomHash:_});if(!I.success)return{redirectToPreGame:!1};if(e.roomHash&&e.roomHash===_)return{redirectToPreGame:!0,preGameRunningComposite:w};if(t.currentGameData.isLMSGame){const{lmsInfo:M}=t.currentGameData,J=await s.decodeLMSInfoAndCheckAssignment({lmsInfo:M,startSource:Ze.get(Ze.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!J.success||J.meta.wasCheckAssignmentDeffered===!0)return{redirectToPreGame:!1}}else if(t.currentGameData.gameType!==Je.SOLO){const M=await H.checkRoom({roomCode:t.currentGameData.roomCode,startSource:Ze.get(Ze.List.PRE_GAME_SCREEN),handlePreGameErrorAs:"dialog"});if(!M.success||M.meta.wasCheckRoomDeffered===!0)return{redirectToPreGame:!1}}return{redirectToPreGame:!0,preGameRunningComposite:w}}catch(Q){return b.error("Error at runningGamePipeline",Q),{redirectToPreGame:!1}}return{redirectToPreGame:!1}}async function u({gameType:A=Je.ASYNC,gameMode:_=re.NORMAL,startSource:v="",gameOptions:y={},togglePageLoader:N,requestToChangePage:G,playerId:z}={togglePageLoader:()=>{},playerId:"",requestToChangePage:()=>{}}){const Q=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,H=Q(),w=v||Ze.get(Ze.List.REPLAY),{roomCode:I,classroomInfo:M,quizId:J,gameOptions:K,roomHash:fe,gameState:P}=e,j={...M},oe=qo({roomHash:fe,playerId:z}),X=S(y)?K:y;let ie={};switch(N(!0),await s.resetGame({classroomInfo:j}),A){case Je.ASYNC:case Je.LIVE:j&&j.roomHash?ie=await H.checkAssignment({startSource:w}):ie=await H.checkRoom({roomCode:I,startSource:w});break;case Je.SOLO:H.joinSoloGame({quizId:J,playerId:z,gameOptions:X,gameMode:_,startSource:w,forcePageChange:!0,useOverlay:!0,canChangeRoute:!0});break}if(ie&&ie.success){if(A===Je.ASYNC&&_===re.FLASHCARD&&P===Ct.RUNNING){const ge=await H.joinRoom({roomHash:fe,playerId:z,startSource:w,handlePreGameErrorAs:"dialog",forcePageChange:!0});if(ge.success){const{player:Ce,room:Fe}=ge.response,ve=ei(Fe.hash,Ce.id);await G({to:O.get(O.List.IN_GAME),metaData:{params:{gameComposite:ve}}})}}else await G({to:O.get(O.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:oe}}});N(!1)}}async function l({groupInviteData:A={},joinGroup:_,toggleDialog:v,toggleModal:y}){const{requestData:N,inviteType:G,sourceRequest:z,sourceRequestMeta:Q}=A,{message:H,persistInvite:w,shouldContinueWithFlow:I,flowActionArgs:M,eventData:J,didJoin:K}=await _({data:N,inviteType:G,sourceRequest:z,sourceRequestMeta:Q});return H&&K&&v({name:"addedToClass|confirm",options:{message:H},actionCallback:()=>{window.location.href="/join/class"}}),K||v({name:"notAddedToClass|confirm",options:{errorCode:H}}),w?{logInviteAcceptance:!1,eventData:J}:G!==vo.FROM_GAME_CODE||!I?(y(),{logInviteAcceptance:!0,eventData:J}):(z==="checkRoom"&&await h({roomCode:M.roomCode,startSource:Ze.get(Ze.List.GAME_CODE.AFTER_GROUP_INVITE_ACCEPT),handlePreGameErrorAs:"dialog"}),z==="checkAssignment"&&await E({lmsInfo:M.lmsInfo,startSource:Ze.get(Ze.List.LMS.AFTER_GROUP_INVITE_ACCEPT)}),y(),{logInviteAcceptance:!0,eventData:J})}async function p({lmsInfo:A,roomCode:_,toggleModal:v}){S(A)?_&&await h({roomCode:_,startSource:Ze.get(Ze.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog"}):await E({lmsInfo:A,startSource:Ze.get(Ze.List.GROUP_GAME.NOTIFICATION)}),v()}async function d({roomCode:A,gameMode:_,requestToChangePage:v,toggleOverlay:y,playerId:N}){const G=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,z=G(),Q=N,H=_===re.PRESENTATION?"presentation":"game";let w;if(s.resetGame(),y({type:`rejoinProgress|${H}`}),A&&(w=await h({roomCode:A,startSource:Ze.get(Ze.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})),!w.success||w.meta.wasCheckRoomDeffered===!0||!Q){y(),v({to:O.get(O.List.LANDING.HOME)});return}await z.rejoinAnyGame({gameData:{roomHash:e.roomHash,playerId:Q.trim(),gameType:Je.ASYNC,gameState:Ct.RUNNING}})}async function g({lmsInfo:A,roomCode:_,gameMode:v,requestToChangePage:y,toggleOverlay:N,playerId:G}){const z=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,Q=z(),H=G,w=v===re.PRESENTATION?"presentation":"game";let I;if(s.resetGame(),N({type:`rejoinProgress|${w}`}),S(A)?_&&(I=await h({roomCode:_,startSource:Ze.get(Ze.List.GROUP_GAME.NOTIFICATION),handlePreGameErrorAs:"dialog",shouldChangePage:!1})):I=await E({lmsInfo:A,startSource:Ze.get(Ze.List.GROUP_GAME.NOTIFICATION),shouldChangePage:!1}),!I.success||I.meta.wasCheckRoomDeffered===!0||!H){N(),y({to:O.get(O.List.LANDING.HOME)});return}await Q.joinRoom({roomHash:e.roomHash,playerId:H.trim(),startSource:Ze.get(Ze.List.REPLAY.REPLAY_LIVE_GAME),handlePreGameErrorAs:"dialog",forcePageChange:!0})}async function f({roomCode:A,roomHash:_,togglePageLoader:v,requestToChangePage:y,playerId:N}){const G=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,z=G(),Q=N,H=Ze.get(Ze.List.REPLAY.REPLAY_CHALLENGE_GAME);s.resetGame(),v(!0);try{if(!(await z.checkRoom({roomCode:A,startSource:H,handlePreGameErrorAs:"dialog"})).success){y({to:O.get(O.List.LANDING.HOME)});return}await z.joinRoom({roomHash:_,playerId:Q.trim(),startSource:H,handlePreGameErrorAs:"dialog",forcePageChange:!0})}catch(w){b.error("Error at challengeReplayNotifAcceptedPipeline",w)}}async function h({roomCode:A,startSource:_,handlePreGameErrorAs:v="inLineMessage",shouldChangePage:y=!0}){const N=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,G=N(),z=(await xe(()=>Promise.resolve().then(()=>ud),void 0)).default,Q=z(),H=(await xe(()=>Promise.resolve().then(()=>WS),void 0)).default,w=H(),I=await G.checkRoom({roomCode:A,startSource:_,handlePreGameErrorAs:v});if(!I.success||I.meta.wasCheckRoomDeffered===!0||!y)return I;const{room:{hash:M,quizId:J,state:K}}=I.response,fe=qo({roomHash:M,quizId:J,gameState:K});return Q.requestToChangePage({to:O.get(O.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:fe}}}),w!=null&&w.isCorporateUser&&ct.logEvent(as.QFW_JOIN_QUIZ_SUCCESSFUL),I}async function E({lmsInfo:A,startSource:_,handlePreGameErrorAs:v="dialog",shouldChangePage:y=!0}){const N=(await xe(()=>Promise.resolve().then(()=>ud),void 0)).default,G=N(),z=await s.decodeLMSInfoAndCheckAssignment({lmsInfo:A,startSource:_,handlePreGameErrorAs:v});if(!z.success||z.meta.wasCheckAssignmentDeffered===!0||!y)return z;const{room:{hash:Q,quizId:H,playerId:w,state:I}}=z.response,M=qo({roomHash:Q,quizId:H,playerId:w,gameState:I});return G.requestToChangePage({to:O.get(O.List.PRE_GAME_DETAIL.RUNNING),metaData:{params:{preGameRunningComposite:M}}}),z}return{challengeReplayNotifAcceptedPipeline:f,gameCodeSubmittedPipeline:n,gameCodeQueryParamPipeline:a,googleClassroomParamPipeline:o,challengeGamePipeline:i,startSoloFromPreGamePipeline:r,runningGamePipeline:c,replayGameFromSummaryPipeline:u,afterGroupInviteAcceptancePipeline:l,classGameAssignedNotificationAcceptancePipeline:p,replayLiveGameAsyncNotificationAcceptancePipeline:d,replayLiveGameNotificationAcceptancePipeline:g}});function pE(e){if(e&&e.length){for(let t=0;t<e.length;t++)if(e[t].requireParentEmail)return!0}return!1}function Bu(e,t,s,n){let a=null;return n===vo.FROM_LINK?a="link":S(t)||(a=t==="checkRoom"?"gcode":"gcl"),{groupIds:e.map(o=>o.id),isParentRequired:pE(e),isFirstNamePrefilled:!!s.firstName,isLastNamePrefilled:!!s.lastName,isParentPrefilled:!!s.parentEmail,source:a}}function gE(e,t={},s,n=""){var i;const a=((i=t==null?void 0:t.groups)==null?void 0:i.map(r=>({...ka(r,["color","name","requireParentEmail","isGoogle"]),id:r._id})))||[];return{isValidResponse:a.length>0&&a[0].id,response:{teacher:t.teacher||{},groups:a},eventData:Bu(a,n,e,s)}}function fE(e,t,s,n,a){const o=Yt(),i=dr(),r=Nu(e.user),c=r.groupIds||o.groupIds,u={};let l=!1;n==="checkRoom"&&a.roomCode&&(l=!0,u.roomCode=a.roomCode),n==="checkAssignment"&&a.lmsInfo&&a.lmsInfo.lmsName&&(l=!0,u.lmsInfo=a.lmsInfo);const p=Bu(i.inviteGroupInfo.groups,n,o,s);return{mutationPayload:{user:r,updatedGroupIds:c},returnData:{didJoin:!0,persistInvite:!1,shouldContinueWithFlow:l,flowActionArgs:u},eventData:{...p,isParentFilled:!!(t.parent&&t.parent.email),didError:!1}}}function hE(e,t,s){const n=Yt(),a=dr();return{eventData:{...Bu(a.inviteGroupInfo.groups,s,n,t),isParentFilled:!!(e.parent&&e.parent.email),didError:!0}}}const dr=Ot("groups",()=>{const e=hs(),t=ua(),s=Yt(),n=m({});async function a({token:r,inviteType:c,sourceRequest:u=""}){try{const l=await Gv(r),{response:p}=l,d=gE(s,p.data,c,u);if(!d.isValidResponse){const g=()=>{t.resetGame(),e.toggleDialog()};return e.toggleDialog({name:"groupInvite.linkInvalid|confirm",actionCallback:g}),{data:null,invalidInvite:!0}}return n.value=d.response,{data:d.response,invalidInvite:!1,eventData:d.eventData}}catch(l){b.error("Error at action fetchGroupInfo",l);const p=pn(l),d=l.response&&l.response.data&&l.response.data.groups&&l.response.data.groups[0].name||"";switch(p){case"token.INVALID_TOKEN":e.toggleDialog({name:"groupInvite.linkInvalid|confirm"});break;case"token.EXPIRED":e.toggleDialog({name:"groupInvite.linkExpired|confirm"});break;case"group.MEMBER_ALREADY_PRESENT":e.toggleDialog({name:"groupInvite.alreadyInGroup|confirm",options:{message:`You are already a member of the class: ${d}`}});break}return{data:null,invalidInvite:!0}}}async function o({token:r,type:c,modalOptions:u={}}){e.toggleModal({type:un.GROUP_JOIN,options:{inviteToken:r,type:c,...u}});try{const l=u.sourceRequest||"",p=await a({token:r,inviteType:c,sourceRequest:l});if(p.invalidInvite){e.toggleModal(),c===vo.FROM_LINK&&(window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"class")),window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"t")),window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"showGroupJoin")));return}ct.logEvent(as.CLASS_INVITE_SHOWN,p.eventData)}catch(l){b.error("Error at action handleGroupInvite",l)}}async function i({data:r,inviteType:c="",sourceRequest:u="",sourceRequestMeta:l={}}){try{const{response:p}=await Lv(r),d=fE(p.data,r,c,u,l),g=k(p,"data.assignmentData.totalAssignedGames",0),f=k(p,"data.assignmentData.teacher.title",""),h=k(p,"data.assignmentData.teacher.firstName",""),E=k(p,"data.assignmentData.teacher.lastName","");let A="";return c!==vo.FROM_GAME_CODE&&(g>0?A=U("{$1} {$2} {$3} has assigned you {$4} game(s). Refresh the page to see them now.",[f,h,E,g]):A=U("{$1} {$2} {$3} hasn't assigned any games yet, but you can always check for updates on your homepage.",[f,h,E])),n.value=d.mutationPayload,s.groupInfoResponded(d.mutationPayload),{...d.returnData,message:A,eventData:d.eventData,didJoin:!0}}catch(p){b.error("Error at action joinGroup",p);const d=pn(p);let g="",f=!0;const h=hE(r,c,u),E=s.email||"",A=s.isUnderAge||!1,_=d.includes("SCHOOLOGY")?"Schoology":"Canvas";let v="Google Classroom";switch(d){case"group.MEMBER_ALREADY_PRESENT":g=U("Great! You are already a part of this class"),f=!1;break;case"group.MEMBER_DELETED":g=U("You were removed from this class."),f=!1;break;case"user.CANVAS_NOT_LINKED":case"user.SCHOOLOGY_NOT_LINKED":g=U("You need to link your {$1} account to join this game.",[_]),f=!1;break;case"user.GCL_NOT_LINKED":g=U("You need to link your {$1} account to join this game.",["Google Classroom"]),f=!1;break;case"user.NOT_PART_OF_GCL_COURSE":case"user.NOT_PART_OF_CANVAS_COURSE":case"user.NOT_PART_OF_SCHOOLOGY_COURSE":d.includes("CANVAS")?v="Canvas":d.includes("SCHOOLOGY")&&(v="Schoology"),A?g=U("You cannot join this class because you are not a part of it on {$1}.",[v]):g=U("Your account ({$1}) cannot join this class because you are not a member of it on {$2}. Please check with your teacher.",[E,v]),f=!1;break;default:g=U("There was an error in joining the class. Please try again!")}return{didJoin:!1,message:g,persistInvite:f,eventData:h.eventData,shouldContinueWithFlow:!1}}}return{inviteGroupInfo:n,handleGroupInvite:o,fetchGroupInfo:a,joinGroup:i}}),Pa=Ot("overlay",()=>{const e=m(""),t=m({});function s(a={type:"",options:{}}){e.value=a.type,a.options&&(t.value=a.options)}function n(){const a=e.value.split("|");a[0]!=="lmsLinkDecode"&&a[0]!=="responseUnsynced"&&(e.value="",t.value={})}return{type:e,options:t,toggleOverlay:s,socketConnected:n}});async function au(e){const t=wo(),s=ps(),n=Oo(),a=mE(),o=Is(),i=gn(),r=Dt(),c=sm.includes(e.fullPath);if(s.isApplicationLoaded||c)return!0;await t.fetchFeatureFlags(),await s.loadApplication({openingRoute:e}),await i.hydrateLocale();const u=Jv(e);if(u.shouldStartAppAuthFlow&&await nh(),S(u.initialGameMetadata)||o.setInitialGameMetadata(u.initialGameMetadata),u.shouldStartGCParamFlow){const{redirectToPreGame:h,preGameRunningComposite:E}=await n.gameCodeQueryParamPipeline(u.gcParamPipelineActionPayload,r.playerId);if(h)return{name:O.get(O.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:E}}}if(u.shouldStartGoogleClassroomFlow){const{redirectToPreGame:h,preGameRunningComposite:E}=await n.googleClassroomParamPipeline({encodedGCLParam:u.gclParamPiplineActionPayload,enterLMSFlow:r.enterLMSFlow}),A=new URLSearchParams(window.location.search),_=A.has("fromGCAddon")&&A.get("fromGCAddon")==="true";if(h)return{name:O.get(O.List.PRE_GAME_DETAIL.RUNNING),params:{preGameRunningComposite:E},..._&&{query:{fromGCAddon:"true"}}}}if(u.shouldStartCoursesFlow){const{redirectToCourse:h,courseSessionId:E}=await a.courseCodeQueryParamPipeline({courseCode:u.coursesPiplineActionPayload.courseCode||"",startSource:u.coursesPiplineActionPayload.startSource});if(h)return{name:O.get(O.List.COURSE.DETAILS),params:{courseSessionId:E}}}if(!e.query.class&&!e.query.showGroupJoin)return!0;const l=Yt(),p=dr(),d=e.query.showGroupJoin?e.query.t:e.query.class;if(l.isLoggedIn)return p.handleGroupInvite({token:d,type:vo.FROM_LINK}),!0;const g=window.location.href.includes("/pro")?"/pro/join":"/join",f=new URL(`${window.location.href.split(g)[0]}/signup`);if(e.query.class){const h=await p.fetchGroupInfo({token:d,inviteType:vo.FROM_LINK});h&&!h.invalidInvite&&(f.searchParams.append("redirectUrl",g),f.searchParams.append("classCode",e.query.class.toString()))}else f.searchParams.append("redirectUrl",`${g}/class`);return window.location.href=f.toString(),!0}async function _E(){return Yt().isLoggedIn?!0:{name:O.get(O.List.LANDING.HOME)}}async function vE(){if(!Yt().isLoggedIn){const t=window.location.href.includes("/pro")?"/pro/join":"/join",s=new URL(`${window.location.href.split(t)[0]}/signup`);s.searchParams.append("redirectUrl",`${t}/class`),window.location.href=s.toString()}return!0}async function EE(e){var a,o,i,r;const t=(a=e.params)==null?void 0:a.contestId,n=(r=(i=(o=(await fC(t)).response)==null?void 0:o.data)==null?void 0:i.game)==null?void 0:r.quizId;n&&window.location.assign(`/join/contest/${t}/${n}/start?autostart=true`)}async function AE(e,t){const s=Oo(),n=ps(),a=Ya(),o=hs(),i=Js(),r=Yt(),c=k(e,"params.quizId"),u=k(e,"name","")===O.get(O.List.QUIZ.CHALLENGE),l=k(e,"params.roomHash",""),p=Dt();if(u&&!l)return{name:O.get(O.List.LANDING.HOME)};try{if(u)return(await s.challengeGamePipeline({roomHash:l,quizId:k(e,"params.quizId"),applicationContext:n,togglePreGameErrorMessage:o.togglePreGameErrorMessage,routing:i,profile:r,player:p})||{success:!1}).success?!0:{name:O.get(O.List.LANDING.HOME)};const d=e.path.startsWith("/embed"),{redirectToQuizPage:g}=await s.startSoloFromPreGamePipeline({quizId:c,toRoute:e,embedMode:d,userAttempts:a,routing:i,isLoggedIn:r.isLoggedIn});return!g||S(c)?SE({name:O.get(O.List.LANDING.HOME)},t):!0}catch(d){return b.error("Error at RouteResolver quizStartBeforeEnterResolver",d),{name:O.get(O.List.LANDING.HOME)}}}async function td(e,t){const s=new URLSearchParams(window.location.search),n=s.has("teacherPreview")&&s.get("teacherPreview")==="true",a=yt();return n&&a.setTeacherPreview(n),e.href.match(/^\/pro\/join\/contest\/([0-9a-f]{24})$/)||e.href.match(/^\/join\/contest\/([0-9a-f]{24})$/)?EE(e):AE(e,t)}async function TE(e){var h,E;const t=ps(),s=Oo(),n=la(),a=hs(),o=Yt(),i=yt(),r=Ya(),c=Dt(),u=k(e,"params.preGameRunningComposite",""),l=mh(u),p={roomHash:l.roomHash,playerId:l.playerId,gameState:l.gameState};if(!!!op(p.roomHash))return{name:O.get(O.List.LANDING.HOME)};if(p.roomHash){const{redirectToPreGame:A}=await s.runningGamePipeline({roomHash:p.roomHash,playerId:p.playerId,gameState:p.gameState,userAttempts:r,profile:o,lastGamePlayed:c.lastGamePlayed});if(A)await ac(t);else return{name:O.get(O.List.LANDING.HOME)}}const g=n.currentGameData;if((o.isCorporateUser||((h=i==null?void 0:i.hostOccupation)==null?void 0:h.includes("corporate"))||t.isAppInProMode)&&g.roomHash&&await ua().getQuizInfoFromServer({gameId:g.roomHash,gameState:(g==null?void 0:g.gameState)||"",gameType:g.gameType||"",quizId:"",fetchQuizName:!0}),(g.gameState===Ct.RUNNING||g.gameState===Ct.WAITING||g.gameState===Ct.SCHEDULED)&&g.isLMSGame){const A=g.roomHash||"",{response:_}=await Nv(A),{data:v}=_;if(v.authRequired){const y=(E=g.lmsInfo)==null?void 0:E.lmsName,N=v.joinLink;return a.toggleModal({type:un.LMS_AUTH,options:{title:U("Permissions Required"),subtitle:U(`We require some permissions from your ${RE(y)} account in order for you to take the quiz`),continueText:U("Continue"),lmsName:y,gameJoinLink:N}}),{name:O.get(O.List.LANDING.HOME)}}}return!0}async function sd(e){const t=ps(),s=yt(),n=Dt(),a=Pa(),o=k(e,"params.gameComposite",""),i=dh(o),r=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,c=r(),u={roomHash:i.roomHash,playerId:i.playerId,gameType:k(e,"query.gameType","")};await ac(t);const l=!!(op(u.roomHash)&&u.playerId);if(n.hasJoinedTheGame){if(!l){const g=u.roomHash||s.roomHash,f=u.playerId||n.playerId,h={gameComposite:ei(g,f)},E={gameType:u.gameType||s.gameType};return{name:e.name,params:h,query:E}}return!0}l&&u.roomHash===k(n,"lastGamePlayed.roomHash","")&&(u.gameType=u.gameType||k(n,"lastGamePlayed.gameType",""));let p=!1,d=null;if(u){const g=Ze.get(Ze.List.REJOIN.PARAM.ROUTE_DATA),f=await c.rejoinOnPageLoad({gameData:u,startSource:g});p=f.didRejoin,d=(f==null?void 0:f.meta)&&f.meta.redirectTo}return p?(a.toggleOverlay(),!0):S(d)?{name:O.get(O.List.LANDING.HOME)}:d}async function yE(e){var n;const t=k(e,"query.languages",[]),{selectedLanguage:s}=gn();if(S(t)&&s==="en"){const a=(n=Ut(xf,{code:"en"}))==null?void 0:n.name;return{...e,query:{...e.query,languages:a}}}return!0}async function IE(e){const t=Yt(),s=hs();if(!t.isLoggedIn)return s.toggleModal({type:un.AUTH,options:{source:qr.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE,authView:"signup",title:U("You’ll need a free account to join a Class"),redirect:window.location}}),{name:O.get(O.List.LANDING.HOME)};const n=(await xe(()=>Promise.resolve().then(()=>dE),void 0)).default,a=n(),o=k(e,"params.courseSessionId","");return!a.isCourseAlreadyFetched(o)&&!(await a.checkCourse({courseIdentifier:o,startSource:Ze.get(Ze.List.GAME_CODE.PARAM),type:Ao.TRACK_SESSION_ID})).success?{name:O.get(O.List.LANDING.HOME)}:!0}function SE(e,t){return e&&e.name?!1:t}function RE(e){const t={gcl:"Google Classroom",canvas:"Canvas",schoology:"Schoology"};return t[e]||t.gcl}const Hu=e=>(yo("data-v-364d97d0"),e=e(),Io(),e),CE={class:"flex min-w-full min-h-screen items-center justify-center pt-6 container"},wE={class:"m-auto flex-view flex-col content"},OE=Hu(()=>W("div",{class:"my-0 mx-auto image-container"},[W("img",{class:"w-full max-w-4xl",src:"https://cf.quizizz.com/img/misc/404/locker_optim_900.gif",alt:"OOPS"})],-1)),PE={class:"text-center text"},kE={class:"text-xl mt-11"},bE={class:"flex justify-center w-full"},NE={class:"w-4/5 sm:w-2/6"},DE={class:"text-sm mt-5"},LE=Hu(()=>W("i",{class:"icon-far-home"},null,-1)),zE=[LE],GE={key:0,class:"w-4/5 sm:w-2/6"},ME={class:"text-sm mt-5"},xE=Hu(()=>W("a",{href:"https://quizizz.zendesk.com/hc/en-us/articles/213118929-How-can-I-contact-Quizizz-"},[W("div",{role:"link",alt:"Contact Us",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-ds-light-500 text-3xl text-center btn"},[W("i",{class:"icon-far-envelope"})])],-1)),FE={__name:"Page404",setup(e){const t=zr("getTranslatedText");function s(){Tu()}return(n,a)=>{const o=To("RouterLink");return Ae(),ze("div",CE,[W("div",wE,[OE,W("div",PE,[W("h2",kE,ht(ae(t)("Sorry, we can't find the page you're looking for"))+". ¯\\_(ツ)_/¯ ",1),W("div",bE,[W("div",NE,[W("h3",DE,ht(ae(t)("Back to Home")),1),fs(o,{to:"/join"},{default:As(()=>[W("div",{role:"link",alt:"Back to Home",class:"h-12 w-12 p-1 rounded my-3 mx-auto cursor-pointer text-ds-light-500 text-3xl text-center btn",onClick:s},zE)]),_:1})]),ae(Ps)?it("",!0):(Ae(),ze("div",GE,[W("h3",ME,ht(ae(t)("Contact Us")),1),xE]))])])])])}}},QE=Hs(FE,[["__scopeId","data-v-364d97d0"]]),qE={name:"DialogComponent",inject:["getTranslatedText"],props:{title:{type:String,default:""},message:{type:String,default:""},buttons:{type:Array,default:()=>[]},type:{type:String,default:"confirm",validator:e=>["confirm","success","danger","default"].includes(e)},areBtnUppercase:{type:Boolean,default:!0},centerText:{type:Boolean,default:!1},traceId:{type:String,required:!1}},emits:["onButtonClick"],methods:{getBtnClass(e){return e==="confirm"?"confirm":e==="success"?"success":e==="danger"?"danger":"default"},buttonClicked(e,t){e.stopPropagation(),this.$emit("onButtonClick",t)}}},UE=["innerHTML"],BE=["innerHTML"],HE=["data-cy","onClick"];function VE(e,t,s,n,a,o){return Ae(),ze("div",null,[W("p",{class:Wt(["title",{"text-center":s.centerText}]),innerHTML:s.title},null,10,UE),W("p",{class:Wt(["message",{"text-center":s.centerText}]),innerHTML:s.message},null,10,BE),s.traceId?(Ae(),ze("div",{key:0,class:Wt(["message break-all",{"text-center":s.centerText}])}," TraceId - "+ht(s.traceId),3)):it("",!0),W("div",{class:Wt(["action-btn-wrapper flex justify-end uppercase mt-6 py-0 px-4",{"justify-center":s.centerText}]),"data-cy":"action-btn-wrapper"},[(Ae(!0),ze(Ta,null,Gr(s.buttons,(i,r)=>(Ae(),ze("button",{key:r,type:"button","data-cy":o.getBtnClass(i.type),class:Wt(["button",[s.areBtnUppercase?"uppercase":"",o.getBtnClass(i.type)]]),onClick:c=>o.buttonClicked(c,r)},ht(i.text),11,HE))),128))],2)])}const jE=Hs(qE,[["render",VE],["__scopeId","data-v-d1aa0464"]]),$E={name:"DialogWrapper",components:{DialogComponent:jE},inject:["getTranslatedText"],props:{email:String},setup(){const e=Dt(),t=Is(),{isCorporateUser:s,email:n}=Yt();return{playerName:e.playerId,actionErrorTrace:t.actionErrorTrace,isCorporateUser:s,email:n,emptyActionErrorTrace:t.emptyActionErrorTrace}},data:()=>({title:"",message:"",buttons:[],areBtnUppercase:!0,centerText:!1}),computed:{...va(hs,["dialog"]),dialogType(){const e=k(this.dialog,"name","");return S(e)?"confirm":e.split("|")[1]},completeMessage(){const{errorCode:e}=this.dialog.options;return S(e)?this.message:`${this.message} 

 ${this.getTranslatedText("If the issue persists please share a screenshot at")} 
 student-support@quizizz.com 

 Error code - ${e}`}},mounted(){this.init()},methods:{...Vc(hs,["toggleDialog"]),init(){this.$refs.dialogComponent.focus(),this.buttons=[{text:this.getTranslatedText("OKAY"),type:"confirm"}],this.areBtnUppercase=!0;const e=this.actionErrorTrace.join(", "),t=this.getNetworkDownlink()?this.getNetworkDownlink():"",s=k(this.dialog,"options.showLoggedInMessaging",!1);switch(this.dialog.name){case"resumeClassroomGame|confirm":this.title="Resume Game?",this.message=`${this.getTranslatedText("You are currently logged in as ")} ${this.email}. Resume this game?`,this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"addedToClass|confirm":this.title=this.getTranslatedText("You're in!"),this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"notAddedToClass|confirm":this.message=this.dialog.options.message,this.buttons=[{text:this.getTranslatedText("Okay"),type:"confirm"}];break;case"exitGame|danger":this.title=this.getTranslatedText("Exit this game?"),this.message=this.getTranslatedText("You can rejoin this game again from this device and you won't lose any progress."),O.isExactly(this.currentPage,O.List.IN_GAME.SUMMARY)&&(this.message=this.getTranslatedText("Would you like to exit the game?")),this.buttons=[{text:this.getTranslatedText("Cancel"),type:"default"},{text:this.getTranslatedText("Exit"),type:"danger"}];break;case"playAgainWithADifferentName|confirm":this.title=`${this.getTranslatedText("Play again as")} ${this.playerName}`,this.message=this.getTranslatedText("A game has already been completed using this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"resumeIncompleteGame|confirm":this.title=`${this.getTranslatedText("Resume game as")} ${this.playerName}`,this.message=this.getTranslatedText("An incomplete game already exists with this name."),this.buttons=[{text:this.getTranslatedText("No"),type:"default"},{text:this.getTranslatedText("Yes"),type:"confirm"}];break;case"groupInvite.linkExpired|confirm":this.title=this.getTranslatedText("Invite Expired"),this.message=this.getTranslatedText("Sorry, this invite has expired. Please ask your teacher to share a new link."),this.centerText=!0;break;case"groupInvite.linkInvalid|confirm":this.title=this.getTranslatedText("Sorry this class invite link is invalid"),this.message=this.getTranslatedText("Please ask your teacher to send a new link."),this.centerText=!0;break;case"groupInvite.alreadyInGroup|confirm":this.title=this.getTranslatedText("Already joined!"),this.message=this.dialog.options.message,this.centerText=!0;break;case"groupGame.notAMemberOfGamesGroup|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.isCorporateUser?`${this.getTranslatedText("To access this game, ")}<span class='text-[#f4b33d]'>${this.email||""}</span>
              ${this.getTranslatedText(" needs to be part of the right group. If you believe this is an error, please check you are logged in with the correct account or request your trainer for access.")}`:this.getTranslatedText("Please ask your teacher to add you to the correct class.");break;case"groupGame.deletedFromAllGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You were removed from this class.");break;case"groupGame.notAllowedInGameGroups|confirm":this.title=this.getTranslatedText("You cannot play this game"),this.message=this.getTranslatedText("You are not part of the classes this game has been assigned to.");break;case"groupGame.shouldJoinViaLink|confirm":this.title=this.getTranslatedText("Join using the Google Classroom link"),this.message=this.getTranslatedText("You should have received a link to join on Google Classroom. Since this is an assigned game, you will need to use that link to join.");break;case"endChallengeGame|danger":this.title=this.getTranslatedText("End this challenge game?"),this.message=this.getTranslatedText("Not all players have finished their game. Are you sure want to end this game?"),this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"game.expired|confirm":this.title="",this.message=`${this.getTranslatedText("You ran out of time")}! ${this.getTranslatedText("This game has expired")}.`;break;case"game.expiredLink|confirm":this.title=this.getTranslatedText("This game link has expired"),this.message="";break;case"game.invalidLink|confirm":this.title=this.getTranslatedText("Invalid game link"),this.message="";break;case"game.invalidCode|confirm":case"user.typedInvalidGameCode|confirm":this.title=this.getTranslatedText("Invalid game code"),this.message=this.getTranslatedText("Recheck the provided game code '{$1}', as it is not valid.",[this.dialog.options.invalidGameCode||""]);break;case"game.inTestModeCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since it was conducted in test mode.");break;case"game.limitAttemptedGameCannotBeReplayed|confirm":this.title="",this.message=this.getTranslatedText("This game cannot be replayed since maximum attempts were limited by the host");break;case"game.noLongerValid|confirm":this.title="",this.message=this.getTranslatedText("Sorry, this game is no longer valid");break;case"game.maxPlayersLimitExceeded|confirm":this.title="",this.message=this.getTranslatedText("This game has exceeded the {$1} player limit.",[this.dialog.options.playerLimit||500]);break;case"game.quizModified|confirm":this.title=this.getTranslatedText("A question was edited"),this.message=this.getTranslatedText("Please refresh to view the updated question. Your previous responses have been saved"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"game.settingsOutOfSync|confirm":this.title=this.getTranslatedText("A Game Setting was changed by the host"),this.message=this.getTranslatedText("Please click refresh for the new setting to be applied"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"player.attemptsLimitExceeded|confirm":this.title=this.getTranslatedText("Game's attempts limit exceeded"),this.message=this.getGameAttemptsLimitReachedMessage();break;case"player.nicknameAlreadyTaken|confirm":this.title=this.getTranslatedText("Choose another nickname"),this.message=this.getTranslatedText("Oops! Someone already picked that one. Try again.");break;case"player.nameAlreadyTaken|confirm":this.title=this.getTranslatedText("Oops! This name is already taken"),this.buttons=[{text:this.getTranslatedText("Change Name"),type:"confirm"}],s?(this.message=this.getTranslatedText("Please pick another name, or log in to resume a previous attempt."),this.buttons.unshift({text:this.getTranslatedText("Log in "),type:"default"})):this.message=this.getTranslatedText("This name is taken, please try a different name.");break;case"player.cannotJoinAfterGameStarts|confirm":this.title="",this.message=this.getTranslatedText("Participants can’t join after the game starts.");break;case"misc.gameQuestionsNotSupported|confirm":this.title=this.getTranslatedText("An error has occurred"),this.message=this.getTranslatedText("Questions of this game are not supported");break;case"misc.errorAndTryAgain|confirm":this.title="",this.message=this.getTranslatedText("An error has occurred. Please Try Again");break;case"game.notFound|confirm":this.title="",this.message=this.getTranslatedText("This game does not exist.");break;case"game.notRunning|confirm":this.title="",this.message=this.getTranslatedText("This game has finished.");break;case"game.retrieveRunningGameDefaultError|confirm":this.title=this.getTranslatedText("Unable to retrieve game"),this.message="";break;case"game.deletePlayer|confirm":this.title="Remove this player?",this.message="Are you sure want to remove this player?",this.buttons=[{text:this.getTranslatedText("NO"),type:"default"},{text:this.getTranslatedText("YES"),type:"danger"}];break;case"quiz.notFound|confirm":this.title=this.getTranslatedText("Quiz not found"),this.message=this.getTranslatedText("This quiz does not exist.");break;case"game.notAllowedToContinue|confirm":this.title="",this.message=this.getTranslatedText("You cannot access this game.");break;case"network.checkInternetConnection|confirm":this.title=this.getTranslatedText("Timed Out"),this.message=`${this.getTranslatedText("Couldn't connect to Quizizz.")} ${this.getTranslatedText("Please check your internet connection and try again.")}`;break;case"network.genericRefreshRequired|confirm":this.title=this.getTranslatedText("Uh oh! Quizizz ran into an error"),this.message=this.getTranslatedText("Please refresh to resolve"),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.networkIssue|confirm":this.title=this.getTranslatedText("Couldn't connect to Quizizz."),this.message=this.getTranslatedText("We were unable to end the game. Please try again. Trace: [{$1}].",[e])+this.getTranslatedText("Network speed: {$2}",[t]),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.timeout|confirm":this.title=this.getTranslatedText("There was a timeout issue."),this.message=this.getTranslatedText("We were unable to save your response. Please try again."),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}],this.areBtnUppercase=!1;break;case"proceedGame.defaultError|confirm":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Exit game"),type:"error"},{text:this.getTranslatedText("Try again"),type:"success"}],this.areBtnUppercase=!1;break;case"proceedGame.InGameNetworkIssue|confirm":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("There was an issue with your network."),this.buttons=[{text:this.getTranslatedText("Exit game"),type:"error"},{text:this.getTranslatedText("Try again"),type:"success"}],this.areBtnUppercase=!1;break;case"flashcard.cannotStart|confirm":this.title=this.getTranslatedText("Cannot start flashcards"),this.message=this.getTranslatedText("Flashcards currently only supports multiple choice questions and this quiz does not contain any.");break;case"game.cannotStartGameOnPrivateQuiz|confirm":this.title=this.getTranslatedText("Cannot start this game"),this.message=this.getTranslatedText("You cannot play solo games on quizzes that are private."),this.message+=this.getTranslatedText(`
 Please login if you are the creator of this quiz.`);break;case"proceedGame.outOfSync|confirm":this.title=this.dialog.options.alreadyAnswered?this.getTranslatedText("Already answered"):this.getTranslatedText("Out of sync"),this.message=this.getTranslatedText("You cannot answer as you are out of sync with the host."),this.dialog.options.canSync&&(this.buttons=[{text:this.getTranslatedText("Sync now"),type:"confirm"}],this.areBtnUppercase=!1);break;case"proceedGame.ukw":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.validationFail|confirm":this.title=this.getTranslatedText("Invalid request"),this.message=this.getTranslatedText("There was an unexpected issue. Please try reloading the page."),this.buttons=[{text:this.getTranslatedText("Refresh"),type:"success"}];break;case"proceedGame.invalidResponse|confirm":this.title=this.getTranslatedText("Invalid response"),this.message=this.getTranslatedText("Response sent to the server was incorrect. Please try again.");break;case"player.invalidPlayerName|confirm":this.title=this.getTranslatedText("Invalid player name"),this.message=this.getTranslatedText("Name should have less than 25 characters"),this.buttons=[{text:this.getTranslatedText("Reset name"),type:"confirm"}];break;case"lms.assignmentLoginRequired|confirm":this.title=this.getTranslatedText("Invalid assignment link"),this.message=this.getTranslatedText("Please click the link in the assignment on your {$1} portal",[this.dialog.options.lmsName]);break;case"proceedGame.cantSave|confirm":this.title=this.getTranslatedText("Response not saved"),this.message=this.getTranslatedText("Unable to save the response. Please try again."),this.buttons=[{text:this.getTranslatedText("Try again"),type:"confirm"}];break;case"course.invalidCode|confirm":this.title=this.getTranslatedText("Invalid course link"),this.message=this.getTranslatedText("Please ask your instructor to share correct join link/code");break;case"course.expired|confirm":this.title=this.getTranslatedText("Expired"),this.message=this.getTranslatedText("This course is completed/expired");break;case"course.notStarted|confirm":this.title=this.getTranslatedText("Not Started"),this.message=this.getTranslatedText("Sorry, this course has not yet started");break;case"course.notPartOfGroup|confirm":this.title=this.getTranslatedText("Oops! Something went wrong."),this.message=this.getTranslatedText("You are not part of the group this course is assigned to. Ask instructor to add you in the group");break;default:this.title="Exit this dialog",this.message="",this.buttons=[{text:this.getTranslatedText("Exit"),type:"danger"}];break}},onButtonClick(e){typeof this.dialog.actionCallback=="function"&&(this.dialog.name==="proceedGame.networkIssue|confirm"&&this.emptyActionErrorTrace(),this.dialog.actionCallback(e))},dismiss(){k(this.dialog,"options.isDismissible",!1)&&this.toggleDialog()},getGameAttemptsLimitReachedMessage(){const{attemptsLimit:e}=this.dialog.options;return e>1?this.getTranslatedText("You cannot re-attempt this game, {$1} attempts already used.",[e]):this.getTranslatedText("You cannot re-attempt this game, {$1} attempt already used.",[e])},getNetworkDownlink(){const e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection||null;return(e==null?void 0:e.downlink)||null}}};function WE(e,t,s,n,a,o){const i=To("DialogComponent");return Ae(),gs(ja,{name:"dialog-anim"},{default:As(()=>[W("div",{class:"dialog-container w-full h-full fixed overflow-auto top-0 left-0 right-0 bottom-0 transition-all flex items-center justify-center m-auto inset-0","data-cy":"alert-dialog-box",onClick:t[1]||(t[1]=(...r)=>o.dismiss&&o.dismiss(...r))},[W("div",{ref:"dialogComponent",class:"content w-auto h-auto bg-ds-light-500 text-ds-dark-500 transition-all mx-auto my-0 p-4 rounded-lg sm:w-120 sm:p-6 sm:max-w-[auto]",tabindex:"0",onClick:t[0]||(t[0]=Mr(()=>{},["stop"]))},[fs(i,{title:e.title,message:o.completeMessage,buttons:e.buttons,type:o.dialogType,areBtnUppercase:e.areBtnUppercase,centerText:e.centerText,traceId:e.dialog.options&&e.dialog.options.traceId,onOnButtonClick:o.onButtonClick},null,8,["title","message","buttons","type","areBtnUppercase","centerText","traceId","onOnButtonClick"])],512)])]),_:1})}const YE=Hs($E,[["render",WE],["__scopeId","data-v-2f59d063"]]),Xs=e=>(yo("data-v-70a8c52c"),e=e(),Io(),e),KE={class:"overlay-wrapper"},JE={key:0,class:"overlay overlay-rejoin-in-progress"},XE=Xs(()=>W("div",{class:"image-container animated pulse infinite"},[W("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),ZE={class:"text-container"},eA={key:1,class:"overlay overlay-rejoin-in-progress"},tA=Xs(()=>W("div",{class:"image-container animated pulse infinite"},[W("img",{src:"https://cf.quizizz.com/game/img/ui/rejoin_game.png",alt:"ufo"})],-1)),sA=Xs(()=>W("div",{class:"text-container"}," Starting your game… ",-1)),nA=Xs(()=>W("div",{class:"text-container"}," Get your friends ready! ",-1)),aA=[tA,sA,nA],oA={key:2,class:"overlay overlay-socket-disconnect"},iA={class:"text-container"},rA=Xs(()=>W("br",null,null,-1)),cA={key:0,class:"text-container"},uA=Xs(()=>W("br",null,null,-1)),lA=Xs(()=>W("br",null,null,-1)),dA=Xs(()=>W("br",null,null,-1)),mA={key:1,class:"btn-wrapper"},pA={key:3,class:"overlay overlay-socket-connect-error"},gA={class:"title-container"},fA=Xs(()=>W("div",{class:"image-container"},[W("img",{src:"https://cf.quizizz.com/game/img/ui/disconnect.png",loading:"lazy",alt:"gamepad"})],-1)),hA={class:"text-container"},_A={key:0,href:"https://www.quizizz.com/check",target:"_blank",rel:"noopener noreferrer",class:"link"},vA={class:"btn-wrapper"},EA={key:4,class:"overlay overlay-rejoin-error"},AA=Xs(()=>W("div",{class:"image-container"},[W("img",{src:"https://cf.quizizz.com/game/img/ui/invalid_game.png",alt:"avocado"})],-1)),TA={class:"text-container"},yA={key:0},IA={key:1},SA={key:2},RA={key:3},CA={key:4},wA={key:5},OA={key:6},PA={key:7},kA={key:8,class:"error-code"},bA=Xs(()=>W("br",null,null,-1)),NA=Xs(()=>W("br",null,null,-1)),DA=Xs(()=>W("br",null,null,-1)),LA=Xs(()=>W("br",null,null,-1)),zA={class:"btn-wrapper"},GA={key:0,class:"overlay overlay-orientation-unsupported"},MA=Xs(()=>W("div",{class:"image-container"},[W("img",{alt:"Rotate device",src:"https://quizizz.com/_media/questions/ab733438-90a4-4a9e-838b-bc35fe4c3b6e"})],-1)),xA=Xs(()=>W("div",{class:"text-large"}," Please rotate your device ",-1)),FA=Xs(()=>W("div",{class:"text-small"}," We don't support landscape mode. Please go back to portrait mode for best experience ",-1)),QA={__name:"Overlay",setup(e){const t=zr(["getTranslatedText"]),s=zr(["exitHandler"]),n=m(!1),a=m(!1),o=m(),i=m(),r=ps(),c=qt(),u=Pa(),l=hs(),p=Fn(),{hasDisconnected:d}=us(r),{questionResponseStatuses:g}=us(c),{type:f,options:h}=us(u),E=T(()=>f.value.split("|")[0]),A=T(()=>f.value.split("|")[1]),_=T(()=>{const j=Eo(g,[Us.NOT_SENT,Us.SENDING]);return Qs(j).length===0}),v=T(()=>{const j=Eo(g,[Us.SENDING]);return Qs(j).length>0});T(()=>!d);const y=T(()=>!!(E.value==="responseUnsynced"&&!v.value&&_.value)),N=T(()=>{const{errorCode:j}=h;return j?`#${j}`:""}),G=T(()=>!h.hideContactUsMessage),{toggleDialog:z}=l,{toggleOverlay:Q}=u,{handleProceedingGame:H,endQuestionsAndMoveOn:w}=p;Ln(E,(j,oe)=>{j==="socketDisconnect"&&oe!=="socketDisconnect"&&(o.value=setTimeout(()=>{a.value=!0},4e3))}),Ln(y,(j,oe)=>{if(j&&!oe){const X=ie=>{ie===0?(Q(),z()):ie===1&&(Q(),s())};switch(A.value){case Zo.PRE_GAMEOVER:fe(4e3,()=>{w()});break;case Zo.ON_EXIT:z({name:"exitGame|danger",actionCallback:X});break;case Zo.ON_UNLOAD:Q();break}}}),di(()=>{E.value==="responseUnsynced"&&K()}),ur(()=>{o.value&&clearTimeout(o),i.value&&clearTimeout(i)});const{reloadFromNetworkIssue:I}=r;function M(j=!1){j?setTimeout(()=>s(),0):s(),Tu(),Q()}function J(){n.value||(n.value=!0,I())}function K(){H({})}function fe(j=2e3,oe=()=>{}){i.value=setTimeout(()=>{Q(),oe()},j)}function P(){Q()}return(j,oe)=>(Ae(),ze("div",KE,[E.value==="rejoinProgress"?(Ae(),ze("div",JE,[XE,W("div",ZE,ht(ae(t)("Joining"))+"... ",1)])):it("",!0),E.value==="createGroupGameProgress"?(Ae(),ze("div",eA,aA)):it("",!0),E.value==="socketDisconnect"?(Ae(),ze("div",oA,[W("div",iA,[W("div",null,[W("span",null,ht(ae(t)("Trying to reconnect...")),1),rA,W("span",null,"( "+ht(ae(t)("Please check your internet connection"))+" )",1),N.value?(Ae(),ze("div",cA,[uA,G.value?(Ae(),ze(Ta,{key:0},[lA,Wo(" "+ht(ae(t)("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):it("",!0),dA,Wo(" Error code - "+ht(N.value),1)])):it("",!0),a.value?(Ae(),ze("div",mA,[W("div",{class:"reload-btn",onClick:J},ht(ae(t)("Reload")),1)])):it("",!0)])])])):it("",!0),E.value==="socketConnectError"||E.value==="serverNotReachable"?(Ae(),ze("div",pA,[W("div",gA,ht(ae(t)("Could not connect to quizizz")),1),fA,W("div",hA,ht(ae(t)("What to do now?")),1),E.value==="socketConnectError"?(Ae(),ze("a",_A,ht(ae(t)("Check for firewall issues")),1)):it("",!0),W("div",vA,[W("div",{class:"reload-btn",onClick:J},ht(ae(t)("Reload")),1)])])):it("",!0),E.value==="rejoinError"?(Ae(),ze("div",EA,[AA,W("div",TA,[A.value==="ROOM_EXPIRED"?(Ae(),ze("span",yA,ht(ae(t)("Sorry, game has expired")),1)):it("",!0),A.value==="ROOM_NOT_STARTED"?(Ae(),ze("span",IA,ht(ae(t)("The game has not started yet."))+" "+ht(ae(t)("Please check with your teacher.")),1)):it("",!0),A.value==="ROOM_NOT_FOUND"||A.value==="game.NOT_FOUND"?(Ae(),ze("span",SA,ht(ae(t)("This game could not be found."))+" "+ht(ae(t)(" Please check with your teacher.")),1)):it("",!0),A.value==="ROOM_STOPPED"||A.value==="ROOM_COMPLETED"?(Ae(),ze("span",RA,ht(ae(t)("Sorry, game is no longer valid")),1)):it("",!0),A.value==="PLAYER_NOT_FOUND"||A.value==="PLAYER_DELETED"?(Ae(),ze("span",CA,ht(ae(t)("You are not authorized to join this game."))+" "+ht(ae(t)("If you believe this is an error, please check with the teacher.")),1)):it("",!0),A.value==="MISC"?(Ae(),ze("span",wA,ht(ae(t)("An error has occurred."))+" "+ht(ae(t)("Please try again.")),1)):it("",!0),A.value==="NETWORK"?(Ae(),ze("span",OA,ht(ae(t)("Couldn't connect to Quizizz."))+" "+ht(ae(t)("Please check your internet connection and try again.")),1)):it("",!0),j.ROOM_NO_ASSIGNMENTS?(Ae(),ze("span",PA,ht(ae(t)("This link doesn't seem to be working."))+" "+ht(ae(t)("Please check with your teacher.")),1)):it("",!0),N.value?(Ae(),ze("span",kA,[bA,G.value?(Ae(),ze(Ta,{key:0},[NA,Wo(" "+ht(ae(t)("If the issue persists please share a screenshot at"))+" student-support@quizizz.com ",1)],64)):it("",!0),DA,Wo(" Error code - "+ht(N.value)+" ",1),ae(h).traceId?(Ae(),ze(Ta,{key:1},[LA,W("span",null,"TraceId: "+ht(ae(h).traceId),1)],64)):it("",!0)])):it("",!0)]),W("div",zA,[W("div",{class:"back-home-btn",onClick:M},ht(ae(t)("Back to home")),1)])])):it("",!0),fs(ja,{name:"anim-overlay-unsupported",appear:"",enterActiveClass:"animated zoomIn anim-300-duration",leaveActiveClass:"animated zoomOut anim-300-duration"},{default:As(()=>[E.value==="orientationUnsupported"?(Ae(),ze("div",GA,[MA,W("div",{class:"text-container"},[xA,FA,W("div",{class:"text-large dismiss-btn",onClick:P}," Dismiss ")])])):it("",!0)]),_:1})]))}},qA=Hs(QA,[["__scopeId","data-v-70a8c52c"]]),UA={name:"Toast",props:{icon:{type:String,default:""},type:{type:String,default:En.DEFAULT,validator:e=>Object.values(En).includes(e)},title:{type:String,default:""},action:{type:String,default:""},actionCB:{type:Function,default(){}}},computed:{classes(){switch(this.type){case En.ERROR:return"toast-error";case En.SUCCESS:return"toast-success";case En.ALERT:return"toast-alert";case En.DEFAULT:default:return"toast-default"}},hasAction(){return!!this.action},iconToUse(){if(!S(this.icon))return this.icon;switch(this.type){case En.SUCCESS:return"icon-far-check-square";case En.ERROR:return"icon-fas-exclamation-triangle";case En.DEFAULT:default:return"icon-fas-exclamation-triangle"}}}},BA=e=>(yo("data-v-c2519bae"),e=e(),Io(),e),HA={class:"title"},VA={key:0,class:"action"},jA={type:"button",class:"text-xs action-button"},$A=BA(()=>W("button",{type:"button",class:"action-cancel"},[W("i",{class:"icon-fas-times"})],-1));function WA(e,t,s,n,a,o){return Ae(),ze("div",{class:Wt(["toast",[o.classes]]),"data-cy":"toast","data-testid":"toast"},[W("i",{class:Wt(o.iconToUse),"data-cy":"toast-icon","data-testid":"toast-icon"},null,2),W("div",HA,ht(s.title),1),o.hasAction?(Ae(),ze("div",VA,[W("button",jA,ht(s.action),1),$A])):it("",!0)],2)}const YA=Hs(UA,[["render",WA],["__scopeId","data-v-c2519bae"]]),KA={components:{Toast:YA},computed:{...va(nm,["toasts"])}},JA={class:"toast-manager",translate:"no"};function XA(e,t,s,n,a,o){const i=To("Toast");return Ae(),ze("div",JA,[fs(Zp,{tag:"div",name:"list",class:"transition"},{default:As(()=>[(Ae(!0),ze(Ta,null,Gr(e.toasts,r=>(Ae(),gs(i,{key:JSON.stringify(r),type:r.type||"DEFAULT",icon:r.icon,title:r.title,action:r.action,actionCB:r.actionCB},null,8,["type","icon","title","action","actionCB"]))),128))]),_:1})])}const ZA=Hs(KA,[["render",XA],["__scopeId","data-v-7f2b14e4"]]),Po=e=>(yo("data-v-1be97bdb"),e=e(),Io(),e),eT={class:"flex flex-row gap-0 items-center justify-center sm:h-10 h-9"},tT=["src"],sT={class:"flex flex-row text-ds-light-500-40 text-shadow transition-all duration-300 ease-in"},nT={class:"sm:w-10 sm:h-10 w-8 h-8 -mx-1.5",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},aT={key:0,opacity:"0.6",filter:"url(#filter0_f_7197_89761)"},oT=Po(()=>W("path",{d:"M28 20C28 24.4375 24.4062 28 20 28C15.5625 28 12 24.4375 12 20C12 15.5938 15.5625 12 20 12C24.4062 12 28 15.5938 28 20Z",fill:"white"},null,-1)),iT=[oT],rT=["fill-opacity"],cT=Po(()=>W("defs",null,[W("filter",{id:"filter0_f_7197_89761",x:"0.5",y:"0.5",width:"39",height:"39",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[W("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),W("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W("feGaussianBlur",{stdDeviation:"5.75",result:"effect1_foregroundBlur_7197_89761"})])],-1)),uT={class:"sm:w-10 sm:h-10 w-8 h-8 -mx-1.5",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lT={key:0,opacity:"0.6",filter:"url(#filter0_f_7197_89761)"},dT=Po(()=>W("path",{d:"M28 20C28 24.4375 24.4062 28 20 28C15.5625 28 12 24.4375 12 20C12 15.5938 15.5625 12 20 12C24.4062 12 28 15.5938 28 20Z",fill:"white"},null,-1)),mT=[dT],pT=["fill-opacity"],gT=Po(()=>W("defs",null,[W("filter",{id:"filter0_f_7197_89761",x:"0.5",y:"0.5",width:"39",height:"39",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[W("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),W("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W("feGaussianBlur",{stdDeviation:"5.75",result:"effect1_foregroundBlur_7197_89761"})])],-1)),fT={key:0,class:"sm:w-10 sm:h-10 w-8 h-8 -mx-1.5",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},hT={key:0,opacity:"0.6",filter:"url(#filter0_f_7197_89761)"},_T=Po(()=>W("path",{d:"M28 20C28 24.4375 24.4062 28 20 28C15.5625 28 12 24.4375 12 20C12 15.5938 15.5625 12 20 12C24.4062 12 28 15.5938 28 20Z",fill:"white"},null,-1)),vT=[_T],ET=["fill-opacity"],AT=Po(()=>W("defs",null,[W("filter",{id:"filter0_f_7197_89761",x:"0.5",y:"0.5",width:"39",height:"39",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[W("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),W("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W("feGaussianBlur",{stdDeviation:"5.75",result:"effect1_foregroundBlur_7197_89761"})])],-1)),TT=Po(()=>W("div",{class:"h-px w-4 bg-ds-light-500-20"},null,-1)),yT={class:"relative"},IT=["src"],ST={key:0,class:"absolute right-0 left-0 m-auto text-center text-xl text-ds-light-500 font-bold top-1"},RT={class:"w-60 p-2 rounded-lg border-ds-light-500-20 border-2 bg-ds-dark-400"},CT={class:"text-ds-light-500 text-sm font-semibold mb-1"},wT={class:"text-ds-light-500-50 text-xs"},OT=ir({__name:"SnSProgress",props:{isFromAe:{type:Boolean,default:!1}},setup(e){const{isMobile:t}=Co(),s=Dt(),n=m(0),a=m(),o=m(0),i=m(""),r=m(),{duelData:c}=us(s),u=T(()=>{var d;return((d=c.value.playerShield)==null?void 0:d.type)===im.STEALTH});Ln(()=>{var d;return(d=c.value.playerShield)==null?void 0:d.expiresIn},d=>{d&&(a.value=setTimeout(()=>{u.value&&(i.value="")},d),o.value=new Date().getTime(),l())},{immediate:!0}),Ln(()=>{var d;return(d=c.value.playerShield)==null?void 0:d.expiresIn},d=>{d&&(a.value=setTimeout(()=>{u.value&&(i.value="")},d),o.value=new Date().getTime(),l())},{immediate:!0});function l(){var h;const d=((h=c.value.playerShield)==null?void 0:h.expiresIn)||0,f=new Date().getTime()-o.value;n.value=Math.round((d-f)/1e3),n.value>0&&(r.value=setTimeout(l,1e3))}Qd(()=>{r.value&&clearTimeout(r.value),a.value&&clearTimeout(a.value)});const p=T(()=>c.value.playerShield!==null);return Ln(()=>{var d;return(d=c.value.playerShield)==null?void 0:d.type},d=>{d&&(i.value=`https://cf.quizizz.com/img/sns/${d}_shield_logo.svg`)},{immediate:!0}),(d,g)=>{const f=To("VTooltip");return Ae(),gs(f,{class:"h-full w-auto",placement:"top",popperClass:"v-powerup-tooltip z-10001",triggers:["click","hover"],popperTriggers:["click","hover"]},{popper:As(()=>[W("div",RT,[W("p",CT,ht(ae(U)("Strike & Shield Meter")),1),W("p",wT,ht(ae(U)("Fill the meter with correct answers to strike an opponent or shield yourself.")),1)])]),default:As(()=>{var h,E,A,_,v,y,N,G,z,Q,H,w,I;return[W("div",eT,[W("div",{class:Wt(["rounded-lg h-full w-auto flex flex-row items-center justify-center sm:px-1 py-1.5 pr-1 sm:pr-2 transition-all duration-300 ease-in",{"bg-ds-light-500-10":!e.isFromAe}])},[e.isFromAe?it("",!0):(Ae(),ze("img",{key:0,src:ae(t)?"https://cf.quizizz.com/img/sns/sns_progress_mobile.svg":"https://cf.quizizz.com/img/sns/sns_progress_desktop.svg",class:Wt(ae(t)?"h-8":"")},null,10,tT)),W("div",sT,[(Ae(),ze("svg",nT,[((h=ae(c))==null?void 0:h.currentStep)>=1?(Ae(),ze("g",aT,iT)):it("",!0),W("path",{d:"M23.5 19H27C27.4062 19 27.7812 19.2812 27.9062 19.6562C28.0625 20.0625 27.9688 20.5 27.6562 20.7812L19.6562 27.7812C19.2812 28.0625 18.7812 28.0938 18.4062 27.8125C18.0312 27.5625 17.875 27.0625 18.0625 26.625L20.4688 21H16.9688C16.5625 21 16.1875 20.75 16.0625 20.375C15.9062 19.9688 16 19.5312 16.3125 19.25L24.3125 12.25C24.6875 11.9688 25.1875 11.9375 25.5625 12.2188C25.9375 12.4688 26.0938 12.9688 25.9062 13.4062L23.5 19Z",fill:"white",class:Wt({"animate-opacity-pulse":e.isFromAe&&((E=ae(c))==null?void 0:E.currentStep)>=0&&((A=ae(c))==null?void 0:A.currentStep)<1}),"fill-opacity":((_=ae(c))==null?void 0:_.currentStep)>=1?"1":"0.3"},null,10,rT),cT])),(Ae(),ze("svg",uT,[((v=ae(c))==null?void 0:v.currentStep)>=2?(Ae(),ze("g",lT,mT)):it("",!0),W("path",{d:"M23.5 19H27C27.4062 19 27.7812 19.2812 27.9062 19.6562C28.0625 20.0625 27.9688 20.5 27.6562 20.7812L19.6562 27.7812C19.2812 28.0625 18.7812 28.0938 18.4062 27.8125C18.0312 27.5625 17.875 27.0625 18.0625 26.625L20.4688 21H16.9688C16.5625 21 16.1875 20.75 16.0625 20.375C15.9062 19.9688 16 19.5312 16.3125 19.25L24.3125 12.25C24.6875 11.9688 25.1875 11.9375 25.5625 12.2188C25.9375 12.4688 26.0938 12.9688 25.9062 13.4062L23.5 19Z",fill:"white",class:Wt({"animate-opacity-pulse":e.isFromAe&&((y=ae(c))==null?void 0:y.currentStep)>=1&&((N=ae(c))==null?void 0:N.currentStep)<2}),"fill-opacity":((G=ae(c))==null?void 0:G.currentStep)>=2?"1":"0.3"},null,10,pT),gT])),((z=ae(c))==null?void 0:z.currentLevel)>0?(Ae(),ze("svg",fT,[((Q=ae(c))==null?void 0:Q.currentStep)>=3?(Ae(),ze("g",hT,vT)):it("",!0),W("path",{d:"M23.5 19H27C27.4062 19 27.7812 19.2812 27.9062 19.6562C28.0625 20.0625 27.9688 20.5 27.6562 20.7812L19.6562 27.7812C19.2812 28.0625 18.7812 28.0938 18.4062 27.8125C18.0312 27.5625 17.875 27.0625 18.0625 26.625L20.4688 21H16.9688C16.5625 21 16.1875 20.75 16.0625 20.375C15.9062 19.9688 16 19.5312 16.3125 19.25L24.3125 12.25C24.6875 11.9688 25.1875 11.9375 25.5625 12.2188C25.9375 12.4688 26.0938 12.9688 25.9062 13.4062L23.5 19Z",fill:"white",class:Wt({"animate-opacity-pulse":e.isFromAe&&((H=ae(c))==null?void 0:H.currentStep)>=2&&((w=ae(c))==null?void 0:w.currentStep)<3}),"fill-opacity":((I=ae(c))==null?void 0:I.currentStep)>=3?"1":"0.3"},null,10,ET),AT])):it("",!0)])],2),i.value&&p.value&&!e.isFromAe?(Ae(),ze(Ta,{key:0},[TT,W("div",yT,[W("img",{alt:"Shield Icon",class:"w-10 h-10 animated animate-pulse anim-1000-duration",src:i.value},null,8,IT),n.value&&u.value?(Ae(),ze("p",ST,ht(n.value),1)):it("",!0)])],64)):it("",!0)])]}),_:1})}}}),PT=Hs(OT,[["__scopeId","data-v-1be97bdb"]]),{aiServiceUrl:mr,gameServerUrl:Vu}=ba;async function kT(e){try{const t={},s=`${mr}/quizizz-ai/notice-wonder/check-eligibility`;return Re.post(s,{payload:e,...t})}catch(t){return b.log("Error checking notice and wonder eligibility",t),null}}async function bT(e){try{const t={},s=`${mr}/quizizz-ai/stream/quiz-time-analysis`;return Re.post(s,{payload:e,...t})}catch(t){return b.log("Error getting AI summary",t),null}}async function NT(e){try{const t={},s=`${mr}/quizizz-ai/notice-wonder`;return Re.post(s,{payload:e,...t})}catch(t){return b.log("Error getting notice and wonder",t),null}}async function DT(e){try{const t={},s=`${mr}/quizizz-ai/stream/generate-song`;return Re.post(s,{payload:e,...t})}catch(t){return b.log("Error generating song",t),null}}async function LT(e){try{const t={},s=`${mr}/quizizz-ai/stream/emo-reflect`;return Re.post(s,{payload:e,...t})}catch(t){return b.log("Error generating emo reflection",t),null}}async function MP(e){try{const t=`${Vu}play-api/getHint`;return Re.post(t,{payload:e})}catch(t){return b.log("Error at getting hint ",t),null}}async function xP(e){try{const t=`${Vu}play-api/get-answer-explanation`;return Re.post(t,{payload:e,timeout:3e3})}catch(t){return b.log("Error at getting answer explanation ",t),null}}async function zT(e){try{const t=`${Vu}play-api/cancel-extra-life`;return Re.post(t,{payload:e})}catch(t){return b.log("Error at cancelling reattempt flow ",t),null}}function GT(e,t,s,n,a,o){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:3901578,hjsv:6},a=t.getElementsByTagName("head")[0],o=t.createElement("script"),o.async=1,o.src=s+e._hjSettings.hjid+n+e._hjSettings.hjsv,a.appendChild(o)}function MT(e){return e!=null&&e.microsoft?"microsoft":e!=null&&e.google?"google":e!=null&&e.phoneNumber?"mobile":e!=null&&e.email?"email":""}class ou{static setUserAttributes(t){var s;if(!(!t.mongoId||!window.hj)&&t.mongoId&&window.hj){const n=MT(t);window.hj("identify",t==null?void 0:t.id,{user_id:t==null?void 0:t.mongoId,occupation:t==null?void 0:t.occupation,country:t==null?void 0:t.country,plan:(s=t==null?void 0:t.currentPlanStatus)==null?void 0:s.status,createdAt:t==null?void 0:t.createdAt,organizationId:t==null?void 0:t.organization,studentUnderage:t==null?void 0:t.isUnderAge,paidOrganization:t==null?void 0:t.paidOrganization,organizationRole:t==null?void 0:t.organizationRole,experiment:Xt.getCookie("QUIZIZZ_EXP_NAME"),signupType:n})}}static triggerEvent(t){window.hj&&window.hj("event",t)}}function On(e){return`${String(e)}_${Xt.getCookie("QUIZIZZ_EXP_NAME")}`}const xT={GAME_LOAD:On("game_load"),HOTJAR_MATCH_QUESTION_ACTIVE:On("match_question_active"),HOTJAR_REORDER_QUESTION_ACTIVE:On("reorder_question_active"),HOTJAR_MATH_RESPONSE_QUESTION_ACTIVE:On("math_response_question_active"),HOTSPOT_QUESTION_ACTIVE:On("hotspot_question_active"),CLASSIFICATION_QUESTION_ACTIVE:On("classification_question_active"),HOTJAR_DND_IMAGE_QUESTION_ACTIVE:On("dnd_image_question_active"),HOTJAR_STUDENT_RAISED_HAND:"student_raised_hand",READ_ALOUD_ENABLED:On("read_aloud_enabled"),HOTJAR_START_SKIP_ENABLED_GAME:On("start_skip_enabled_game"),HOTJAR_SKIP_QUESTION_CLICKED:On("skip_question_clicked"),HOTJAR_GRAPHING_QUESTION_ACTIVE:On("graphing_question_active"),HOTJAR_PARTICIPANT_REPORTING_ISSUE:"participating_reporting_issue",HOTJAR_FIBV2_QUESTION_ACTIVE:On("fibv2_question_active"),STUDENT_ATTEMPTING_QUESTIONS:"student_attempting_questions",EARLY_FINISHERS_SUMMARY:"early_finishers_summary",FLASHCARD_V1_ACTIVE:"student_flashcard_V1",LESSONS_V2_ACTIVE:"student_lessons_V2",HOTSPOT_QUESTION_V2:"hotspot_question_v2",REORDER_QUESTION_V2:"reorder_question_v2",LABELLING_V2:"labelling_question_v2",DNDDROPDOWN_QUESTION_V2:"dnd_dropdown_question_v2",IV_QUESTION:"student_iv_question"};function wc(e){const t=e.match(/<katex.*?<\/katex>/g),s=Nt(t,a=>{const i=a.match(/latex.*?=.*?".*?"/)[0].match(/".*"/)[0],r=tg(i.substring(1,i.length-1));let c="";try{c=FT(r)}catch(u){b.error("Error: replaceKatexElementsWithHTML",u)}return` ${c} `});let n=e;return It(t,(a,o)=>{n=n.replace(a,s[o])}),n}function FT(e){return eg.renderToString(e,{displayMode:!0})}const Xa=e=>(yo("data-v-dce19983"),e=e(),Io(),e),QT=Xa(()=>W("img",{class:"w-full absolute top-0 left-0",src:"https://cf.quizizz.com/join/img/answer_explanation/bg-vector.svg"},null,-1)),qT={key:0,class:"header flex gap-3 items-center justify-center mb-8 relative"},UT=Xa(()=>W("div",{class:"absolute top-8 right-23"},[W("img",{src:"https://cf.quizizz.com/join/img/answer_explanation/underline_updated.svg"})],-1)),BT={class:"flex flex-col gap-1 relative"},HT={class:"text-[#F2CB7F] text-2xl font-medium"},VT={key:1,class:"text-[#F2CB7F] text-2xl font-medium"},jT={key:0,class:"helper-bit absolute right-0 z-1 bottom-0 animated bounceInUp"},$T={class:"helper-bit-internal relative"},WT={key:0},YT={class:"mb-5 text-xl font-medium text-[#FCC775] whitespace-nowrap"},KT=Xa(()=>W("img",{class:"absolute right-4",src:"https://cf.quizizz.com/join/img/answer_explanation/helper_arrow_2.png"},null,-1)),JT=Xa(()=>W("img",{class:"absolute top-9 right-[-1] -z-1 opacity-80",src:"https://cf.quizizz.com/join/img/answer_explanation/Loop_3.svg"},null,-1)),XT={class:"qbit-remarks relative flex flex-col gap-2 bg-ds-light-500-20 w-fit py-4 px-4 rounded-3xl rounded-br-none"},ZT={key:0,class:"level-up relative cursor-pointer text-xl font-medium text-[#FCC775] whitespace-nowrap"},ey=Xa(()=>W("div",{class:"helper-arrow absolute top-10 -left-17"},[W("img",{src:"https://cf.quizizz.com/join/img/answer_explanation/helper_arrow.svg"})],-1)),ty={key:1,class:"bg-[#FFFFFF33] h-0.5"},sy=Xa(()=>W("img",{src:"https://cf.quizizz.com/join/img/answer_explanation/updated_helper.svg"},null,-1)),ny={key:1,class:"all-content flex flex-col gap-4 overflow-auto h-full"},ay={key:0,class:"upper h-16 bg-[#1D62AA] rounded-t-xl p-4 pb-3 text-[#FCC775] font-bold text-2xl flex items-center gap-2"},oy={class:"icon w-7 h-7"},iy=["src"],ry={class:"font-medium"},cy=["innerHTML"],uy={key:1},ly=Xa(()=>W("span",{class:"bullet"},null,-1)),dy=["innerHTML"],my={class:"flex items-center -ml-2 mt-1"},py=["innerHTML"],gy={key:2,class:"all-content flex flex-col gap-4 overflow-auto h-full"},fy={key:3,class:"w-full h-full flex flex-col items-center justify-center"},hy=Xa(()=>W("img",{class:"h-[212px] w-[152px]",src:"https://cf.quizizz.com/join/img/answer_explanation/ae_errored.png"},null,-1)),_y={class:"font-bold text-xl text-[#9A9A9A] text-center"},vy={class:"flex gap-2 mt-4"},Ey={key:4,class:"w-full flex items-center justify-center h-fit py-3"},Ay={key:5,class:"w-full flex gap-2 items-center justify-center py-3"},Ty=ir({__name:"index",setup(e){const t=kn(()=>xe(()=>import("./TeacherProvidedAE.CoD-kyyh.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11]))),s=m([]),n=m({concept:"",concepts:[],crucialStep:"",memoryAid:"",stepByStepExplanation:[],wrongOptions:[{option:"",optionText:"",possibleReason:"",summary:null}],summary:""}),a=m("Remembering"),o=m({}),i=m(!1),r=m(!1),c=m(!1),u=m(!1),l=m(!1),{isDesktop:p,isMobile:d,isTablet:g,isPortrait:f}=Co(),h=m(!1),E=m(!1),A=yt(),_=yt(),v=qt(),{roomHash:y,gameOptions:N}=us(A),G=us(Dt()).playerId,{currentQuestion:z,currentQuestionCurrentAttemptResponse:Q,currentId:H,answerExplanationFromProceedGame:w,isCurrentQuestionCurrentAttemptResponseCorrect:I}=us(qt());Qd(()=>{window.removeEventListener("resize",J)}),di(async()=>{window.addEventListener("resize",J),J(),u.value=Am(z.value),Fa.logClickEvent("question_review_opened",{is_image:u.value,questionId:H.value,playerId:G.value,roomHash:y.value,deviceId:Xt.getCookie("quizizz_uid"),sessionId:Xt.getCookie("quizizz_uid")}),ou.triggerEvent("answer_explanation_student_v2"),S(z.value.explain)?ie():(E.value=!0,c.value=!0,i.value=!0)});const M=T(()=>!1);function J(){const Te=Math.round(window.outerWidth/window.innerWidth*100),Ne=document.body;Ne.classList.remove("zoom-normal","zoom-high"),Te>110?Ne.classList.add("zoom-high"):Ne.classList.add("zoom-normal")}function K(){zT({questionId:H.value,roomHash:y.value,playerId:G.value}),v.updateUserDiscardedReattemptStatus(!0),Fa.logClickEvent("answer_explanation_skipped",{questionId:H.value,deviceId:Xt.getCookie("quizizz_uid"),sessionId:Xt.getCookie("quizizz_uid"),playerId:G.value,roomHash:y.value})}function fe(){Fa.logClickEvent("answer_explanation_reattempted",{questionId:H.value,deviceId:Xt.getCookie("quizizz_uid"),sessionId:Xt.getCookie("quizizz_uid"),playerId:G.value,roomHash:y.value}),v.updateAnswerExpStatusForQuestion()}function P(){r.value=!0}function j(Te,Ne){o.value[Te]=Ne,Fa.logClickEvent("answer_explanation_feedback",{questionId:H.value,feedback:Ne,section:Te})}function oe(Te){return o.value[Te]!==void 0}function X(Te){return o.value[Te]}function ie(){ge(),h.value&&Ce()}function ge(){var Te;n.value=(Te=w.value.answerExplanation)==null?void 0:Te.data,a.value=w.value.bloomLevel,c.value=!0,h.value=w.value.answerExplanation.status==="SUCCESS"}function Ce(){try{ve(),i.value=!0}catch(Te){i.value=!1;const Ne=Te instanceof Error?Te.stack||Te.message:String(Te);Fa.logClickEvent("SB_CONSTRUCT_HEADERS_FAILED",{questionId:H.value,roomHash:y.value,playerId:G.value,error:Ne})}}function Fe(){l.value=!0,Fa.logClickEvent("answer_explanation_new_flow",{questionId:H.value,deviceId:Xt.getCookie("quizizz_uid"),sessionId:Xt.getCookie("quizizz_uid"),playerId:G.value,roomHash:y.value}),(n.value.sections??[]).forEach((Ne,me)=>{s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:Ne.title,text:Ne.content,isOpen:me===0,isFromConstructWithSections:!0})})}function ve(){const Te=z.value.type;!S(n.value.sections)?Fe():Te==="MCQ"?ot():a.value==="Remembering"?ne():$e()}function ot(){let Te;switch(a.value){case"Understanding":$(),$e();break;case"Applying":Te=!!n.value.crucialStep,Te?(qe(),$e()):(at(),tt(),$e());break;case"Analyzing":at(),tt(),$e();break;case"Remembering":Ie();break;case"Evaluating":case"Creating":$e()}}function $(){const Te=vt(),Ne=Te==null?void 0:Te.summary,{reason:me="",reinforcement:Se=""}=Ne??{};s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/recap.svg",heading:U("Quick recap"),text:`<ul style="list-style-type:disc"><li>${me}</li><li>${Se}</li></ul>`,isOpen:!0,isPadding:!0})}function ne(){const{summary:Te,memoryAid:Ne}=n.value;Te&&s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:U("Explanation"),text:Te,isOpen:!0}),Ne&&s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/tip-remember.svg",heading:U("Tip to remember"),text:Ne,isOpen:!0})}function Ie(){const Te=vt(),Ne=Te==null?void 0:Te.summary,me=n.value.memoryAid;if(typeof Ne=="string")s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:U("Explanation"),text:Ne,isOpen:!0});else{const{reason:Se="",reinforcement:Qe=""}=Ne??{};s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:U("Explanation"),text:`<ul style="list-style-type:disc"><li>${Se}</li><li>${Qe}</li></ul>`,isOpen:!0,isPadding:!0})}s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/tip-remember.svg",heading:U("Tip to remember"),text:me,isOpen:!0})}function qe(){const Te=n.value.crucialStep;s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/crucial-step.svg",heading:U("Crucial step"),text:Te,isOpen:!0})}function at(){const Te=vt();if(!Te)return;const Ne=(Te==null?void 0:Te.summary)||"";s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/explanation.svg",heading:U("Explanation"),text:Ne,isOpen:!0})}function $e(){const Te=n.value.stepByStepExplanation.map(Ne=>({heading:"",text:Ne}));s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/step-by-step.svg",heading:U("Step by step explainer"),text:Te,isOpen:!0,isStepByStep:!0})}function tt(){if(z.value.type==="MSQ")return;const Ne=vt(),me=Ne==null?void 0:Ne.possibleReason;me&&s.value.push({icon:"https://cf.quizizz.com/join/img/answer_explanation/what-went-wrong.svg",heading:U("What went wrong?"),text:me,isOpen:!0})}function vt(){const Te=z.value.options,Ne=Q.value.response,me=Te[Ne].id??Te[Ne]._id,Se=Te[Ne].text,Qe=Pt(Se);return n.value.wrongOptions.find(Rt=>{const{optionId:gt,optionText:Ue}=Rt;return gt&&gt===me?!0:Ue===Se||Ue===Qe})}function Pt(Te){const Ne=Te||"",me=/<katex latex="([^"]+)"><\/katex>/,Se=Ne.match(me);if(Se&&Se[1])return Se[1];const Qe=document.createElement("div");return Qe.innerHTML=Ne,Qe.querySelectorAll("blank").forEach(He=>{He.innerHTML="_____"}),(Qe.textContent||Qe.innerText||"").trim()}return(Te,Ne)=>{const me=To("ButtonV2");return Ae(),ze("div",{class:Wt(["bg-[#17001C] w-full h-full relative pt-7 flex flex-col px-4 pb-2",ae(d)||ae(g)&&ae(f)?"rounded-t-lg":""]),"data-testid":"answer-explanation-container"},[QT,i.value?(Ae(),ze("div",qT,[UT,W("div",BT,[ae(p)?(Ae(),gs(ja,{key:0,appear:"",enterActiveClass:"animated fadeIn anim-200-delay"},{default:As(()=>[W("div",HT,ht(ae(U)("Answer Explanation")),1)]),_:1})):(Ae(),ze("div",VT,ht(ae(U)("Answer Explanation")),1))])])):it("",!0),fs(ja,{enterActiveClass:"animated bounceInUp",leaveActiveClass:"animated bounceOutDown"},{default:As(()=>[M.value&&i.value?(Ae(),ze("div",jT,[W("div",$T,[W("div",{class:Wt(["absolute",ae(_).isSnSV2Enabled()?"-top-55 right-4":"-top-45 right-10"])},[ae(_).isSnSV2Enabled()?(Ae(),ze("div",WT,[fs(PT,{isFromAe:!0}),W("div",YT,ht(ae(U)("Tip: Get faster to Strike or Shield")),1),KT,JT])):it("",!0),W("div",XT,[ae(_).isSnSV2Enabled()?it("",!0):(Ae(),ze("div",ZT,[Wo(ht(ae(U)("Needs a bit more work"))+" ",1),ey])),ae(_).isSnSV2Enabled()?it("",!0):(Ae(),ze("div",ty)),W("div",{class:"level-up-yes w-fit rounded cursor-pointer whitespace-nowrap border border-[#09090933] bg-ds-light-500 hover:bg-ds-light-500-90 font-bold text-ds-dark-500 text-lg py-2 px-3",onClick:P},ht(ae(U)("Learn and reattempt")),1),W("div",{class:"level-up-yes rounded cursor-pointer w-fit whitespace-nowrap border border-[#09090933] bg-ds-light-500-20 hover:bg-ds-light-500-10 font-bold text-ds-light-500 text-lg py-2 px-3",onClick:K},ht(ae(U)("Skip to next question")),1)])],2),sy])])):it("",!0)]),_:1}),i.value&&!E.value?(Ae(),ze("div",ny,[(Ae(!0),ze(Ta,null,Gr(s.value,(Se,Qe)=>(Ae(),ze("div",{key:Qe,class:"card flex w-full h-fit flex-col relative"},[Se.isOpen?(Ae(),ze("div",{key:0,class:Wt(ae(p)?"animated fadeInRight anim-200-duration":"")},[Se.isFromConstructWithSections&&s.value.length===1?it("",!0):(Ae(),ze("div",ay,[W("div",oy,[W("img",{class:"w-full h-full",src:Se.icon},null,8,iy)]),W("div",ry,ht(Se.heading),1)])),Se.isFromConstructWithSections&&s.value.length===1?(Ae(),ze("div",{key:2,class:Wt(["text-ds-light-500 text-left px-2",ae(d)?"text-lg":"text-[22px]"])},[W("div",{innerHTML:ae(wc)(Se.text)},null,8,py)],2)):(Ae(),ze("div",{key:1,class:Wt(["lower p-4 bg-[#1D62AA] text-ds-light-500 text-lg overflow-x-auto",[Se.isFromConstructWithSections&&s.value.length===1?"rounded-xl":"rounded-b-xl pt-0",{"pl-7":Se.isPadding}]])},[Se.isStepByStep?(Ae(),ze("div",uy,[(Ae(!0),ze(Ta,null,Gr(Se.text,(He,Xe)=>(Ae(),ze("div",{key:Xe,class:"step relative"},[ly,He.text?(Ae(),ze("p",{key:0,innerHTML:ae(wc)(He.text)},null,8,dy)):it("",!0)]))),128))])):(Ae(),ze("p",{key:0,innerHTML:ae(wc)(Se.text)},null,8,cy)),W("div",my,[fs(me,{"data-testid":"positive-feedback-button",licon:X(Se.heading)==="positive"?"icon-fas-thumbs-up":"icon-fa-thumbs-up",type:"link-dark",size:"small",isDisabled:oe(Se.heading),class:"!text-ds-light-500",testId:"positive-feedback-button",onClick:Mr(He=>j(Se.heading,"positive"),["stop"])},null,8,["licon","isDisabled","onClick"]),fs(me,{licon:X(Se.heading)==="negative"?"icon-fas-thumbs-down":"icon-far-thumbs-down",type:"link-dark",size:"small",isDisabled:oe(Se.heading),class:"!text-ds-light-500",testId:"negative-feedback-button",onClick:Mr(He=>j(Se.heading,"negative"),["stop"])},null,8,["licon","isDisabled","onClick"])])],2))],2)):it("",!0)]))),128))])):i.value&&E.value?(Ae(),ze("div",gy,[fs(ae(t))])):i.value?it("",!0):(Ae(),ze("div",fy,[hy,W("div",_y,ht(ae(U)("We couldn’t generate answer explanation for this question.")),1),W("div",vy,[W("div",{class:"cursor-pointer bg-ds-light-500 text-ds-dark-500 py-2 px-3 rounded border border-[#09090933] font-bold text-base",onClick:fe},ht(ae(U)("Reattempt")),1),W("div",{class:"cursor-pointer bg-ds-light-500-20 text-ds-light-500 py-2 px-3 rounded font-bold text-base",onClick:K},ht(ae(U)("Skip to next question")),1)])])),r.value?(Ae(),ze("div",Ey,[W("div",{class:"text-ds-dark-500 bg-ds-light-500 py-2 px-3 w-fit font-bold border border-[#09090933] rounded-lg cursor-pointer",onClick:fe},ht(ae(U)("Reattempt")),1)])):it("",!0),i.value?(Ae(),ze("div",Ay,[!ae(I)&&ae(N).isAnswerExplanationEnabled?(Ae(),ze("div",{key:0,class:"text-ds-dark-500 bg-ds-light-500 py-2 px-3 w-fit font-bold border border-[#09090933] rounded-lg cursor-pointer",onClick:fe},ht(ae(U)("Reattempt")),1)):it("",!0),W("div",{class:Wt(["text-ds-light-500 bg-ds-light-500-20 py-2 px-3 w-fit font-bold rounded-lg cursor-pointer",{"!text-ds-dark-500 !bg-ds-light-500":ae(I)}]),onClick:K},ht(ae(U)("Next question")),3)])):it("",!0)],2)}}}),yy=Hs(Ty,[["__scopeId","data-v-dce19983"]]),Iy={class:"followup-loader fixed top-0 left-0 z-[100] h-screen w-screen flex flex-col justify-center items-center gap-y-8"},Sy={class:"flex flex-col gap-y-1 items-center justify-center"},Ry={class:"text-ds-light-500 text-[28px] font-bold"},Cy={class:"text-ds-light-500/50 text-base font-semibold"},wy=ir({__name:"FlashcardToQuizTransition",setup(e){const t=zr("getTranslatedText");let s;const n=m();return di(()=>{n.value&&(s=new sg.Rive({canvas:n.value,src:"https://cf.quizizz.com/join/img/flashcards/flashquiz-animation.riv",autoplay:!0}))}),ur(()=>{s&&s.cleanup()}),(a,o)=>(Ae(),gs(ja,{appear:"",enterActiveClass:"animated fadeIn anim-300-duration",leaveActiveClass:"animated fadeOut anim-300-duration"},{default:As(()=>[W("div",Iy,[W("canvas",{ref_key:"riveCanvas",ref:n,height:"144",width:"144"},null,512),W("div",Sy,[W("p",Ry,ht(ae(t)("Quiz time!")),1),W("p",Cy,ht(ae(t)("No grading—take it easy!")),1)])])]),_:1}))}}),Oy=Hs(wy,[["__scopeId","data-v-c3041cd9"]]),Py={key:1,class:"theme-classic"},ky={class:"screen-loading"},by={class:"loader-div"},Ny=ng('<img alt="Loader" class="loading-logo" src="https://cf.quizizz.com/img/logos/new/logo-wot-sm-updated.png" data-v-85856938><div class="loading-graphic" data-v-85856938><div class="circle-1" data-v-85856938><div class="circle-2" data-v-85856938><div class="circle-3" data-v-85856938><div class="circle-4" data-v-85856938><div class="circle-5" data-v-85856938><div class="circle-6" data-v-85856938><div class="circle-7" data-v-85856938><div class="circle-8" data-v-85856938></div></div></div></div></div></div></div></div></div>',2),Dy=ir({__name:"Loading",props:{loaderType:{default:Ui.DEFAULT}},setup(e){const t=window.location.search.includes("earn-coins=true"),s=kn(()=>xe(()=>import("./LoadingInstructions.BsAKtSz_.js"),__vite__mapDeps([12,1,2])));return(n,a)=>n.loaderType===ae(Ui).FOLLOWUP_QUIZ?(Ae(),gs(Oy,{key:0})):(Ae(),ze("div",Py,[W("div",ky,[W("div",by,[Ny,ae(t)?(Ae(),gs(ae(s),{key:0})):it("",!0)])])]))}}),ju=Hs(Dy,[["__scopeId","data-v-85856938"]]);function FP(){const e=ps();return{count:T(()=>e.ticker.count)}}function Ly(e,t){const s=setTimeout(e,t);return ur(()=>{clearTimeout(s)}),s}function QP(e,t){const s=setInterval(e,t);return ur(()=>{clearTimeout(s)}),s}function zy(e,t,s){di(()=>{e.addEventListener(t,s)}),ur(()=>{e.removeEventListener(t,s)})}function nd(e,t){return zy(window,e,t)}function Gy(e=[],{allowDuplicates:t=!1}={}){b.invariant(Array.isArray(e),"[useListItemAddRemove]: initial value passed must be an array");const s=m(e),n=r=>s.value.includes(r);return{state:s,includes:n,add:r=>(b.isEnvProd||(Fh(r)||b.warn("[useListItemAddRemove]: Only toggle primitives. This composable is not suited for others since it would only be a reference comparision"),b.invariant(t||!n(r),`[useListItemAddRemove]: cannot add ${r} as duplicates are not allowed`)),s.value.push(r)),remove:r=>qd(s.value,c=>c===r),clear:()=>{s.value=[]}}}function qP(e=[]){const{state:t,includes:s,add:n,remove:a,clear:o}=Gy(e);return{state:t,has:s,toggle:r=>s(r)?a(r):n(r),clear:o}}const My={name:"Modal",inject:["selectedTheme"],props:{isVisible:{type:Boolean,default:!0},shouldShowMediaOptionModal:{type:Boolean,default:!1},acquireFullHeight:{type:Boolean,default:!1},acquireFullWidth:{type:Boolean,default:!1},focusContainer:{type:Boolean,defalt:!0},stackToBottom:{type:Boolean,default:!1},transition:{type:String,default:"slide"},modalContainerStyle:{type:Object,default:()=>({})},modalMaskStyle:{type:Object,default:()=>({})},modalMaskContainerStyle:{type:Object,default:()=>({})}},emits:["closeModal"],data(){return{lastActiveElement:null}},computed:{shouldAlignAtStart(){return!!(this.shouldShowMediaOptionModal&&this.selectedTheme!==rt.CLASSIC)}},created(){document.activeElement&&(this.lastActiveElement=document.activeElement)},mounted(){document.addEventListener("keydown",this.closeOnEscapeInstance),this.$nextTick().then(()=>{this.$refs.modalContentContainer&&this.focusContainer&&this.$refs.modalContentContainer.focus()})},beforeUnmount(){document.removeEventListener("keydown",this.closeOnEscapeInstance),this.lastActiveElement&&this.lastActiveElement.focus()},methods:{closeModal(e=!1,t=!1){this.$emit("closeModal",e,t)},closeOnEscapeInstance(e){e.keyCode===27&&this.closeModal(!0)}}};function xy(e,t,s,n,a,o){return Ae(),gs(ja,{name:s.transition,appear:""},{default:As(()=>[s.isVisible?(Ae(),ze("div",{key:0,class:"modal-container","data-cy":"modal-container",style:Aa(s.modalContainerStyle)},[W("div",{class:Wt(["modal-mask-container",[s.stackToBottom?"stack-to-bottom":""]]),style:Aa(s.modalMaskContainerStyle)},[W("div",{class:"modal-mask","data-testid":"modal-mask",style:Aa(s.modalMaskStyle),onClick:t[0]||(t[0]=i=>o.closeModal(!0))},null,4),W("div",{ref:"modalContentContainer",tabindex:"0",class:Wt(["modal-body",[s.acquireFullHeight?"acquire-full-height":"",s.acquireFullWidth?"acquire-full-width":"",o.shouldAlignAtStart?"align-at-start":""]]),onClick:t[1]||(t[1]=Mr(()=>{},["stop"]))},[Va(e.$slots,"body",{role:"dialog",ariaModal:"true"},void 0,!0)],2)],6)],4)):it("",!0)]),_:3},8,["name"])}const ga=Hs(My,[["render",xy],["__scopeId","data-v-171501bc"]]),Fy={name:"SnackBar",props:{destroyInTime:{type:Number,default:5},message:{type:String,default:""},clickToDismiss:{type:Boolean,default:!0}},emits:["hideSnackBar"],data(){return{snackBarTimeout:null}},mounted(){this.snackBarTimeout=setTimeout(()=>this.$emit("hideSnackBar"),this.destroyInTime*1e3)},beforeUnmount(){this.snackBarTimeout&&clearTimeout(this.snackBarTimeout)},methods:{dismiss(){this.clickToDismiss&&(this.snackBarTimeout&&clearTimeout(this.snackBarTimeout),this.snackBarTimeout=null,this.$emit("hideSnackBar"))}}},Qy=e=>(yo("data-v-8a59f59d"),e=e(),Io(),e),qy={translate:"no",class:"snackbar-container","data-cy":"snackbar-container",role:"alert"},Uy=["innerHTML"],By=Qy(()=>W("div",{class:"action"},null,-1));function Hy(e,t,s,n,a,o){return Ae(),gs(ja,{appear:"",enterActiveClass:"animated zoomIn anim-300-duration",leaveActiveClass:"animated zoomOut anim-300-duration"},{default:As(()=>[W("div",qy,[W("div",{class:"content","data-cy":"content",onClick:t[0]||(t[0]=(...i)=>o.dismiss&&o.dismiss(...i))},[W("p",{class:"message","data-cy":"message",innerHTML:s.message},null,8,Uy)]),By])]),_:1})}const Vy=Hs(Fy,[["render",Hy],["__scopeId","data-v-8a59f59d"]]);function jy(e,t){const s=Js(),n=Ya(),{currentPage:a}=s,{notification:o}=e;let i=!0,r=!1,c=!1,u=!1,l={},p={};const d=Lu({quizzes:o.quizzes,users:o.users,items:o.assigned}),g=k(o.assigned,"[0]._id");for(let f=0;f<n.groupAssignedGames.length;f++)if(n.groupAssignedGames[f].gamesAttempted[0].gameInfo.roomHash===g){i=!1;break}for(let f=0;f<t.length;f++)if(t[f].type==="gameAssigned"){u=!0;break}if(i&&!u){l={groupAssignedGames:[...d.groupAssignedItems,...n.groupAssignedGames],totalGroupAssignedGames:d.groupAssignedTotal+n.totalGroupAssignedGames,commonQuizzesData:{...d.quizzes,...n.commonQuizzesData},commonUsersData:{...d.users,...n.commonUsersData}};const f=O.isExactly(a,O.List.IN_GAME.SUMMARY);if(c=f||!wu(a),c){r=!f;const h=d.quizzes[k(d.groupAssignedItems,"[0].quizInfo.quizId","")]||{},E=k(d.groupAssignedItems,"[0].gamesAttempted[0].gameInfo",{}),A=E.assignmentTitle||"";let{lmsInfo:_}=E,v=!1;o.assigned[0]&&typeof o.assigned[0].replayOf=="string"&&o.assigned[0].replayOf!==""&&(v=!0),_&&_.lmsName&&(_={..._,roomHash:E.roomHash,roomCode:E.gameCode}),p={id:`gameAssigned.${Date.now()}`,showAs:"modal",type:un.GAME_ASSIGNED_NOTIF,data:{assignedBy:d.users[E.host&&E.host.id]||null,gameSubject:h.subjects||[],gameInfo:E,lmsInfo:_,assignmentTitle:A,isReplayLiveGameModal:v}}}}return{mutationPayload:l,isANewAssignedGame:i,canShowNotification:c,notifItem:p,shouldUpdateGroupGames:r,isNotificationAlreadyPresent:u}}const $u=Ot("notification",()=>{const e=hs(),t=m([]);function s(i){const r=Ms(t.value,{id:i.id});r>=0?t.value.splice(r,1):t.value.push(i)}function n(){const i=t.value[0];if(!S(i))switch(i.showAs){case"modal":e.toggleModal({type:i.type,options:{notifId:i.id,...i.data}});break;default:b.warn(`handleShowOnceNotifsUpdate: No 'showAs' handler for notification id(${i.id})`)}}async function a(){const r=Yt().mongoId;try{r&&await TR({userId:r})}catch(c){b.error("Error at action subscribeForNotifications",c)}}function o(i){const r=Ya(),c=jy(i,t);!c.isANewAssignedGame||c.isNotificationAlreadyPresent||(c.canShowNotification&&(s(c.notifItem),n()),c.shouldUpdateGroupGames&&Bc(r.updateGroupAssignedGames,0,c.mutationPayload))}return{showOnceList:t,gameAssignedNotifHandler:o,subscribeForNotifications:a,toggleShowOnceNotification:s,handleShowOnceNotifsUpdate:n}}),Ca={$on:(...e)=>hr.on(...e),$once:(...e)=>hr.once(...e),$off:(...e)=>hr.off(...e),$emit:(...e)=>hr.emit(...e)};function $y(){const e=m(!1);function t(){e.value=!e.value}return{isAvatarDownloadModalOpen:e,toggleAvatarDownloadModal:t}}const UP=[{key:"costume",logo:""},{key:"skin",logo:"icon-fas-face-smile text-2xl"},{key:"hair",logo:"icon-fas-comb text-2xl"},{key:"headgear",logo:"icon-fas-headgear text-2xl"},{key:"topwear",logo:"icon-fas-topwear text-2xl"},{key:"bottomwear",logo:"icon-fas-bottomwear text-2xl"},{key:"footwear",logo:"icon-fas-footwear text-2xl"},{key:"accessory",logo:"icon-fas-accessories text-lg"},{key:"backpack",logo:"icon-fas-backpack text-2xl"}],Wu={value:"#E6E6E6",_id:"661a377caa3a6925d838853b",name:"Skintone_1",url:""};function ao(e,t,s){return{url:`${Ds.AVATAR_BUCKET}/avatar-assets/${e}/${t}`,subType:s,name:t}}const Wy={accessory:ao("accessory","none.svg","head"),backpack:ao("backpack","none.svg"),bottomwear:ao("bottomwear","bl_jeans.svg"),footwear:ao("footwear","r_converse.svg"),headgear:ao("headgear","bl_bucket_hat.svg"),hair:ao("hair","none.svg"),topwear:ao("topwear","b_tee.svg"),skin:Wu},BP={_id:"",price:0,category:"common",url:"https://cf.quizizz.com/gif/hair-category.gif",enabled:!0,type:"hair",name:"",value:""},HP={topwear:{t_lightening:"sakura",w_pokemon:"sakura",w_animetop:"sakura",p_tscrop:"taylor",pi_tswift:"taylor",r_suittop:"sigma-bois",r_lightening:"sigma-bois",y_starhoodie:"sigma-bois",disco_tee:"christmas-v1",xmas_sweater:"christmas-v1"},headgear:{luffyhat:"sakura",ninjaband:"sigma-bois",star_band:"christmas-v1",bunny_ears:"christmas-v1",elf_hat:"christmas-v1",yamulke:"christmas-v1"},bottomwear:{p_tskirt:"taylor",pi_tskirt:"taylor",r_suitpant:"sigma-bois"},backpack:{tsguitar:"taylor"},accessory:{tshearteye:"taylor",b_dogtag:"sigma-bois",hotchoco_glove:"christmas-v1"},footwear:{},skin:{},hair:{},costume:{hny:"christmas-v1",snowman:"christmas-v1",reindeer:"christmas-v1",grinch:"christmas-v1"}},VP=["topwear-disco_tee","topwear-xmas_sweater","headgear-star_band","headgear-bunny_ears","headgear-elf_hat","headgear-yamulke","accessory-hotchoco_glove"],{avatarServiceUrl:Za}=ba;async function Yy(){const e=await Re.get(`${Za}v6/avatar-inventory`,{retryCount:3,requestName:"fetchInventory"}),t=e.response.data;return t.backpack=[t.backpack.find(s=>s.name==="none"),...t.backpack.filter(s=>s.name!=="none")],t.accessory=[t.accessory.find(s=>s.name==="none"),...t.accessory.filter(s=>s.name!=="none")],t.headgear=[t.headgear.find(s=>s.name==="none"),...t.headgear.filter(s=>s.name!=="none")],t.hair?t.hair=[t.hair.find(s=>s.name==="none"),...t.hair.filter(s=>s.name!=="none")]:t.hair=[],e.response.data}async function Ky(){const t=(await Re.post(`${Za}v2/user-avatar/user`,{payload:{},headers:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},requestName:"fetchUserAvatar"})).response.data;return t.userAvatar.avatarItemsMap.skin||(t.userAvatar.avatarItemsMap.skin=Wu),t}async function ad(e,t,s){return(await Re.post(`${Za}v0/user-avatar/update-avatar`,{payload:{playerId:t,roomHash:s,avatarItemsMap:e},requestName:"updateUserAvatar"})).response}async function Jy(){try{return await Re.post(`${Za}v0/user-avatar/claim-login-reward`,{payload:{},headers:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},requestName:"updateDailyBonusClaim"}),{success:!0}}catch(e){return b.log("Error at AvatarService.updateDailyBonusClaim",e),{success:!1,error:e}}}async function Xy(e,t,s){return(await Re.post(`${Za}v0/user-avatar/broadcast-avatar`,{payload:{playerId:t,roomHash:s,avatarItemsMap:e},requestName:"broadcastAndUpdateUserAvatar"})).response}async function Zy(e,t){try{const{response:s}=await Re.post(`${Za}v0/user-avatar/buy-item`,{payload:{itemId:t,itemType:e},requestName:"updateItemPurchase"});return{success:s.success,time:s.time}}catch(s){return b.log("Error at AvatarService.updateItemPurchase",s),{success:!1,error:s}}}async function eI(){try{const{response:e}=await Re.post(`${Za}v0/user-avatar/unlock-hair`,{requestName:"unlockHairCategory"});return{success:e.success,time:e.time}}catch(e){return b.log("Error at AvatarService.updateItemPurchase",e),{success:!1,error:e}}}async function tI(){try{const{response:e}=await Re.get(`${Za}v0/user-avatar/exclusive`);return e}catch(e){return b.log("Error at AvatarService.fetchExclusiveItems",e),{success:!1,error:e}}}const sI=Ds.AVATAR_BUCKET;function Oc(e){return e&&e.replace(/https:\/\/quizizz-static(-dev)?\.s3\.amazonaws\.com\//g,`${sI}/`)}const od=Ds.AVATAR_BUCKET,Di="user-avatars",nI="quizizz_uid",id="async-avatar-shop-time",aI={footwear:[],bottomwear:[],topwear:[],headgear:[],backpack:[],accessory:[],skin:[],hair:[],costume:[]};function oI(e){return e=e!=null&&e.skin?e:{...e,skin:Wu},e&&Object.entries(e).reduce((t,[s,n])=>({...t,[s]:typeof n=="string"?s==="accessory"?{url:n}:{url:n,subtype:"head"}:n}),{...e})}const Nn=Ot("avatar",()=>{const{gameMode:e}=us(yt()),{isLoggedIn:t,isCorporateUser:s}=us(Yt()),n=Xt.getCookie(nI),a=Rs.getItem(Di),o=a&&JSON.parse(Oc(a))&&JSON.parse(Oc(a))[n];o&&Object.values(o).some(me=>!me._id)||Rs.removeItem(Di);const i=m(aI),r=m(oI(o)),c=m(),u=m(""),l=m(),p=m(!1),d=m(60),g=m({completion:0,accuracy:0,powerups:0,questions:0}),f=m(!1),h=m(0),E=m(0),A=m(0),_=m(!1),v=m(!1),y=Ld(new Map),N=m(!1),G=m(!1),z=m(!1),Q=m(0),H=m(!0),w=m([]),I=m(!1),M=m(0),J=T(()=>{const me=t.value&&!s.value&&!Ps;return e.value?!bm(e.value)&&me:me}),K=T(()=>{if(r.value){const me=Mn();return Object.entries(i.value).reduce((Se,[Qe,He])=>({...Se,[Qe]:He.map(Xe=>{var gt;const Rt=y.has(Xe._id);return{...Xe,isPurchased:Rt,isRecentlyPurchased:Rt?me.diff(Mn(y.get(Xe._id).unlockedAt),"day")<=7:!1,purchasedPrice:Rt?y.get(Xe._id).price:0,unlockedAt:(gt=y.get(Xe._id))==null?void 0:gt.unlockedAt}})}),{...i.value})}return i.value});async function fe(){try{if(K.value.headgear.length!==0)return;let me=await Yy();me=Object.entries(me).reduce((Se,[Qe,He])=>({...Se,[Qe]:He.map(Xe=>({...Xe,url:Oc(Xe==null?void 0:Xe.url)||`${od}/avatar-assets/${Xe.type}/${Xe.name}.svg`,name:Xe.name}))}),{...me}),i.value=me}catch{_o.add({type:En.ERROR,title:U("Something went wrong while fetching qbit store")})}}function P(me,Se){return me&&Se?`${od}/avatar-assets/${me}/${Se}.svg`:""}function j(me){return me?Object.entries(me).reduce((Qe,[He,Xe])=>(Qe[He]={url:P(He,Xe.name),name:Xe.name,value:Xe.value,_id:Xe._id},Xe.subtype&&(Qe[He].subtype=Xe.subtype),He==="accessory"&&!Xe.subtype&&(Qe[He].subtype="head"),Qe),{}):Wy}async function oe(){const{isLoggedIn:me}=us(Yt());try{if(!me.value&&o&&Object.values(o).every(de=>!!de._id))return;H.value=!0;const{avatarCostume:Se,baseAvatar:Qe,userAvatar:He,costumeId:Xe,coins:Rt=0,unlockedItems:gt=[],dailyReward:Ue,calculatedStreak:se,hairUnlocked:Ee,hairCost:ke,isNewUser:D,flashcardGameCompletionCoins:Z}=await Ky(),pe=j(He.avatarItemsMap);r.value=pe,c.value=Se?j(Se.avatarItemsMap):null,l.value=j(Qe?Qe.avatarItemsMap:He.avatarItemsMap),u.value=Xe,h.value=Rt,E.value=Ue,A.value=se,G.value=Ee,z.value=D,Q.value=ke,Ue>0&&(_.value=!1),gt&&gt.length&&gt.forEach(de=>{y.set(de.itemId,de)}),me.value||Rs.setItem(Di,JSON.stringify({[n]:pe})),M.value=Z}catch{_o.add({type:En.ERROR,title:U("Something went wrong while fetching user qbit")})}finally{H.value=!1}}async function X(me){var Qe;const Se=me||r.value;if(!t.value)Rs.setItem(Di,JSON.stringify({[n]:Se}));else{const He=Object.entries(Se).reduce((Xe,[Rt,gt])=>gt!=null&&gt._id?{...Xe,[Rt]:gt._id}:Xe,{});if(An(He)?b.logOnSentry(["Avatar - updateUserAvatar payload is empty",JSON.stringify(Se)],"message","info"):await ad(He),"costume"in me&&me.costume&&K.value.costume){const Xe=K.value.costume.find(gt=>gt._id===He.costume),Rt=j((Qe=Xe==null?void 0:Xe.avatar)==null?void 0:Qe.avatarItemsMap);r.value={...Rt,skin:me.skin},c.value={...Rt},u.value=me.costume._id||""}else r.value=Se,l.value=Se,c.value=null,u.value=""}}async function ie(me,Se,Qe){var Xe,Rt;let He;try{if(me)if(r.value={...me},"costume"in me&&me.costume){const se=j((Rt=(Xe=me.costume)==null?void 0:Xe.avatar)==null?void 0:Rt.avatarItemsMap);r.value={...se,skin:me.skin},c.value={...se},u.value=me.costume._id||"",He={...l.value,skin:me.skin,costume:me.costume}}else r.value=me,l.value=me,c.value=null,u.value="",He=me;else He=r.value,u.value&&K.value.costume&&(He={...l.value,costume:{_id:u.value}});const{roomHash:gt}=us(yt());if(!gt.value||!Qe)return;const Ue=Object.entries(He).reduce((se,[Ee,ke])=>ke&&typeof ke=="object"&&"_id"in ke?{...se,[Ee]:ke._id}:se,{});An(Ue)||(Se?await Xy(Ue,Qe,gt.value):await ad(Ue,Qe,gt.value),t.value||Rs.setItem(Di,JSON.stringify({[n]:He})))}catch{_o.add({type:En.ERROR,title:U("Something went wrong while updating qbit")})}}function ge(me,Se){return{...Object.entries(K.value).reduce((He,Xe)=>{var se,Ee,ke,D,Z,pe,de;if(((se=Xe[1][0])==null?void 0:se.type)==="skin"||((Ee=Xe[1][0])==null?void 0:Ee.type)==="costume"||!Se&&((ke=Xe[1][0])==null?void 0:ke.type)==="hair")return He;const Rt=Xe[1].filter(ce=>!ce.price&&ce.category!=="exclusive"||ce.isPurchased),gt=Math.floor(Math.random()*Rt.length),Ue={url:"",name:""};return gt!==-1&&(Ue.url=(D=Rt[gt])==null?void 0:D.url,Ue.name=(Z=Rt[gt])==null?void 0:Z.name,Ue._id=(pe=Rt[gt])==null?void 0:pe._id,(de=Rt[gt])!=null&&de.subtype&&(Ue.subtype=Rt[gt].subtype)),He[Xe[0]]=Ue,He},{}),skin:me.skin||r.value.skin}}function Ce(me,Se){const{gameType:Qe,roomHash:He}=us(yt());if(Qe.value===Je.ASYNC&&!me&&Se){const Xe=Rs.getItem(id,{parseFromJSON:!0,removeItemOnError:!0});Rs.setItem(id,{...Xe,[`${He.value}-${Se}`]:d.value})}p.value=me}function Fe(){_.value=!0}function ve(){v.value=!0}function ot(){v.value=!1}async function $(){await Jy(),_.value=!0,h.value+=E.value}async function ne(me,Se,Qe){const{success:He,time:Xe}=await Zy(me,Se);return He&&(h.value-=Qe,y.set(Se,{unlockedAt:Xe,price:Qe})),He}async function Ie(me,Se){if(me!=="hair")return;const{success:Qe}=await eI();return Qe&&(G.value=!0,h.value-=Se),Qe}async function qe(me=!1){if(!me&&w.value.length)return w.value;const{data:Se,success:Qe}=await tI();return Qe&&Se?(w.value=Se,Se):[]}function at(me){I.value=me}function $e(me){g.value=me}function tt(){g.value={completion:0,accuracy:0,powerups:0,questions:0}}function vt(me){h.value=me}function Pt(me){f.value=me}function Te(){N.value=!0}function Ne(me){d.value=me}return{baseInventory:i,inventory:K,userConfig:r,userCostume:c,userBaseConfig:l,userCostumeId:u,showAvatarShop:p,showedAvatarAwardAnimation:f,coinBalance:h,rewardClaimed:_,showRewardBonusModal:v,gameCoinsCollected:g,unlockedItemsMap:y,isEconomyEnabled:J,teacherEndedGame:N,asyncGameShopTimer:d,rewardValue:E,streak:A,isHairUnlocked:G,isNewUser:z,hairUnlockPrice:Q,isUserAvatarFetching:H,isCorporateUser:s,exclusiveItems:w,showExclusiveItemsModal:I,flashcardCompletionCoins:M,getInventory:fe,getUserAvatar:oe,setUserConfig:X,setShowAvatarShop:Ce,getRandomAvatar:ge,setUserGameConfig:ie,transformServerAvatarToClient:j,setRewardAsClaimed:Fe,showBonusModal:ve,hideBonusModal:ot,claimDailyBonus:$,setGameCoinsCollected:$e,resetGameCoinsCollected:tt,purchase:ne,purchaseFullCategory:Ie,setCoinBalance:vt,setShowedAvatarAwardAnimation:Pt,setAvatarTeacherEndedGame:Te,setAsyncGameShopTimer:Ne,getExclusiveItems:qe,setShowExclusiveItemsModal:at,getAssetUrl:P}}),iI=Ot("solutionBreakdown",()=>({canShowAnswerExplanation:T(()=>{const{isQuestionEligibleForAnswerExplanation:t,isCurrentQuestionCurrentAttemptResponseCorrect:s,isCurrentQuestionCurrentAttemptEvaluated:n,isAnswerExplanationCompleteForQuestion:a,isAnswerExplanationPresentInProceedGame:o,hasUserDiscardedReattempt:i,currentQuestionCurrentAttemptIndex:r,doesCurrentQuestionHaveAnswerExplanation:c}=qt(),u=t&&n&&!a&&!i&&r===0;return c?u:u&&!s&&o})})),rI=e=>(yo("data-v-609bae7e"),e=e(),Io(),e),cI={class:"app-content h-full w-full transition-all relative"},uI={class:"m-auto rounded-lg p-6 w-7/12 bg-ds-light-500"},lI={class:"text-lg font-bold"},dI=rI(()=>W("br",null,null,-1)),mI={class:"flex justify-end mt-7"},pI={class:"border bg-[#131313] border-ds-light-500-50 rounded-2xl avatar-shop-modal flex overflow-hidden max-h-full max-w-full"},gI={class:"w-screen flex flex-col items-center justify-center min-h-screen bg-ds-dark-500"},fI={__name:"Root",setup(e){const t=kn(()=>xe(()=>import("./AuthModal.DUPZdrUQ.js"),__vite__mapDeps([13,1,2,14]))),s=kn(()=>xe(()=>import("./GroupJoinModal.IHOQ9U-a.js"),__vite__mapDeps([15,1,2,16]))),n=kn(()=>xe(()=>import("./ClassCodeModal.ywI92Ihn.js"),__vite__mapDeps([17,1,2,18]))),a=kn(()=>xe(()=>import("./GameAssignedNotifModal.BF4d_1LP.js"),__vite__mapDeps([19,1,2,6,7,8,20]))),o=kn(()=>xe(()=>import("./ChallengeReplayNotifModal.Bxr_ceZq.js"),__vite__mapDeps([21,1,2,22]))),i=kn(()=>xe(()=>import("./ImageZoomPreview.Hynomu7z.js"),__vite__mapDeps([23,1,2,24]))),r=kn(()=>xe(()=>import("./AvatarShop.Bn4LjC6d.js").then(Pe=>Pe.a),__vite__mapDeps([25,1,2,26,27,28,29,30,31,32,33,10,34,35]))),c=kn(()=>xe(()=>import("./DownloadAvatar.4TqlX5Q_.js"),__vite__mapDeps([27,1,2,26,28]))),u=kn(()=>xe(()=>import("./ExclusiveItemsModal.DuWM2hpf.js"),__vite__mapDeps([36,1,2,26,25,27,28,29,30,31,32,33,10,34,35,37]))),l=kn(()=>xe(()=>import("./PseudoTeacherOnBoardingModal.BDUJDJq1.js"),__vite__mapDeps([38,1,2]))),p=Yt(),d=ps(),g=Js(),f=yt(),h=hs(),E=Pa(),A=Dt(),_=gn(),v=Oo(),y=ua(),N=dr(),G=$u(),z=la(),Q=Nn(),H=Is(),w=qt(),I=iI(),{showAvatarShop:M,showExclusiveItemsModal:J}=us(Q),{isAvatarDownloadModalOpen:K,toggleAvatarDownloadModal:fe}=$y(),{callsInProgress:P,requestCountry:j,isApplicationLoaded:oe}=us(d),{currentPage:X}=us(g),{gameState:ie,gameType:ge,gameMode:Ce,expiry:Fe}=us(f),{type:ve}=us(E),{isAuthenticated:ot,phoneNumberValidationStatus:$,emailValidationStatus:ne,firstName:Ie,lastName:qe,userIsUnderAge:at,parentEmail:$e,isCorporateUser:tt,isLoggedIn:vt,email:Pt,userData:Te}=us(p),{modal:Ne,dialog:me,media:Se,pageLoaderVisible:Qe,snackBar:He,pageLoaderType:Xe}=us(h),{selectedTheme:Rt,selectedLanguage:gt}=us(_),{hasJoinedTheGame:Ue}=us(A),{inviteGroupInfo:se}=us(N),Ee=T(()=>()=>Se.value),{isMobile:ke,getDeviceDiscriminatorWrapper:D,isTablet:Z,isPortrait:pe}=Co(),de=T(()=>{const Pe={};return ke.value&&(Pe.height=`${Se.value.visibleViewportHeight}px`),Pe}),ce=T(()=>me.value.name!==""),he=T(()=>Ne.value.type),ue=T(()=>Ne.value.options),Ve=T(()=>he.value===un.AUTH),et=T(()=>he.value===un.CLASS_CODE),st=T(()=>he.value===un.GROUP_JOIN),kt=T(()=>ln("joinGroup",P.value).isIt),Tt=T(()=>ln("getGroupInfo",P.value).isIt),_s=T(()=>he.value===un.GAME_ASSIGNED_NOTIF),Bt=T(()=>he.value===un.IMAGE_ZOOM_PREVIEW),ks=T(()=>he.value===un.CHALLENGE_REPLAY_NOTIF),ds=T(()=>he.value===un.LMS_AUTH),ls=T(()=>{var Pe,Le;return((Le=(Pe=ue.value)==null?void 0:Pe.replayMeta)==null?void 0:Le.replayType)==="in-session"}),ye=T(()=>ln("checkRoom",P.value).isIt||ln("checkAssignment",P.value).isIt),At=T(()=>ln("joinRoom",P.value).isIt||ln("join",P.value).isIt),Et=T(()=>ye.value||At.value);function Mt(){document.body.classList.remove("using-keyboard")}function ms(Pe){(Pe.keyCode===9||Pe.keyCode===13)&&document.body.classList.add("using-keyboard")}function Vs(){nd("mousedown",Mt),nd("keydown",ms)}function xs(){h.toggleSnackBar()}function Zs(Pe,Le,Ye){return mm(Pe,Le,Ye)}function q(){const Le=new bu(window.location.href).query,Ye={};Le.theme&&Object.values(rt).includes(Le.theme.toLowerCase())&&(Ye.selectedTheme=Le.theme.toLowerCase()),window.requestCountry==="TW"&&!vt.value&&(Rs.getItem("loggedOutLang")?Ye.selectedLanguage=Rs.getItem("loggedOutLang"):Ye.selectedLanguage="zh-TW"),Le.locale&&ya.map(Kt=>Kt.locale).includes(Le.locale.toLowerCase())&&(Ye.selectedLanguage=Le.locale.toLowerCase()),Le.music&&(Le.music.toLowerCase()==="on"?Ye.playMusic=!0:Le.music.toLowerCase()==="off"&&(Ye.playMusic=!1)),Le.sfx&&(Le.sfx.toLowerCase()==="on"?Ye.playSFX=!0:Le.sfx.toLowerCase()==="off"&&(Ye.playSFX=!1)),Le.memes&&(Le.memes.toLowerCase()==="on"?Ye.showMemes=!0:Le.memes.toLowerCase()==="off"&&(Ye.showMemes=!1)),Object.keys(Ye).length&&_.setAppSettings(Ye)}function dt(){wu(X.value)||q()}oe.value&&dt();let zt=null;function os(Pe={}){zt&&clearTimeout(zt);const Le=!S(Pe)||O.matches(X.value,O.List.IN_GAME,1);let Ye=Pe;Le&&(S(Ye)&&(Ye={name:O.get(O.List.LANDING.HOME)}),er({gameMode:Ce.value,gameType:ge.value})&&ge.value===Je.LIVE&&(S(Ye.metaData)&&(Ye.metaData={}),Ye.metaData.query={pgm:re.PRESENTATION})),d.handleExitGame({redirectTo:Ye})}async function ns(Pe,Le,Ye,ft=Ze.get(Ze.List.REPLAY)){zt&&clearTimeout(zt),await v.replayGameFromSummaryPipeline({gameType:Pe,gameMode:Le,gameOptions:Ye,startSource:ft,togglePageLoader:h.togglePageLoader,requestToChangePage:g.requestToChangePage,playerId:A.playerId}),A.updateIncompleteGame(H.questionTimer,w.currentId,w.orderedOriginalResponses,vt)}function rs(){const Pe=new Date().getTime(),Le=Fe.value-Pe,Ye=Math.min(Le,3*24*60*60*1e3);zt=Ly(()=>y.handleGameExpiry(),Ye)}function C(Pe){p.onEmailValidation({email:Pe})}function x(Pe){p.onPhoneNumberValidation({phoneNumber:Pe})}function ee(Pe,Le,Ye,ft){p.onAuthentication({username:Pe,password:Le,shouldAppendRoomCodeToQueryParam:Ye,redirectToUrl:ft})}function te(){h.toggleModal()}function le(){ue.value.source===qr.REDIRECT_TO_SIGNUP_AUTH_REQUIRED_SETTING&&y.resetGame(),ue.value.source===qr.REDIRECT_TO_SIGNUP_FROM_CLASS_LINK_WITHOUT_CODE&&g.requestToChangePage({to:O.get(O.List.LANDING.HOME)}),te()}function De(Pe){window.location.href=Pe,te()}function we(){te()}function be(){te()}function Ge(){const Pe={...ue.value,authView:ue.value.authView==="login"?"signup":"login"};h.updateModalOptions(Pe)}function nt(){ve.value!=="orientationUnsupported"&&E.toggleOverlay(),ie.value===Ct.RUNNING&&ge.value===Je.ASYNC&&rs()}async function St(Pe){const{logInviteAcceptance:Le,eventData:Ye}=await v.afterGroupInviteAcceptancePipeline({groupInviteData:Pe,joinGroup:N.joinGroup,toggleDialog:h.toggleDialog,toggleModal:h.toggleModal});Le&&ct.logEvent(as.CLASS_INVITE_ACCEPTED,Ye)}function mt(Pe){(Pe.sourceRequest==="checkRoom"||Pe.sourceRequest==="checkAssignment")&&y.resetGame(),te()}function xt(Pe,Le,Ye){Et.value||(Le&&G.toggleShowOnceNotification({id:Le}),Pe==="accept"?(z.clearPreGameQuizInfo(),y.handleAssignedGameNotifAcceptance({gameData:Ye,action:Pe})):te())}function Lt(){Q.setShowAvatarShop(!1)}function cs(){Q.setShowExclusiveItemsModal(!1)}pa("selectedTheme",Rt),pa("selectedLanguage",gt),pa("getTranslatedDate",Zs),pa("exitHandler",os),pa("replayThisGameHandler",ns),pa("media",Se.value),pa("getMedia",Ee.value),pa("getDeviceDiscriminator",D.value),pa("deviceProps",T(()=>Se.value)),Ln(_s,(Pe,Le)=>{if(Pe&&ls.value){const Ye={...ue.value.gameInfo,lmsInfo:ue.value.lmsInfo||{},isReplayLiveGameModal:ue.value.isReplayLiveGameModal,isReplayAsyncModal:ue.value.isReplayAsync,gameTypeOfNextGame:ue.value.gameTypeOfNextGame,gameModeOfNextGame:ue.value.gameModeOfNextGame};xt("accept",ue.value.notifId,Ye)}}),Ln(Ue,(Pe,Le)=>{Pe&&!Le&&nt()}),Ln(ie,(Pe,Le)=>{(Le===Ct.RUNNING||Le===Ct.WAITING)&&Pe===Ct.STOPPED&&g.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)})}),Ln(oe,(Pe,Le)=>{!Le&&Pe&&dt()}),Vs();async function ws(){const Pe=window.location.pathname;if(sm.includes(Pe)){const Ye=new Proxy(new URLSearchParams(window.location.search),{get:(Kt,js)=>Kt.get(js)});(Ye.gc||Ye.c)&&d.setProceedToActivityViaLink(!0);const ft=await au({name:X.value,query:Ye});ft.name&&await g.requestToChangePage({to:ft.name,metaData:{params:ft.params,query:ft.query}}),d.setProceedToActivityViaLink(!1)}}return di(async()=>{Ue.value&&nt(),window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"from")),window.history.replaceState(window.history.state,document.title,Ha(window.location.href,"ld")),Vs(),Ca.$on("onSummaryReplayAsyncAction",xt),await ws()}),(Pe,Le)=>{var ft;const Ye=To("RouterView");return Ae(),ze("div",{class:Wt(["root-component flex w-full h-full bg-ds-light-300 sm:bg-ds-light-500 flex-row-reverse",{"!bg-basecolor":ae(I).canShowAnswerExplanation}])},[ae(Qe)?(Ae(),gs(ju,{key:0,loaderType:ae(Xe)},null,8,["loaderType"])):it("",!0),fs(ja,{name:ae(ke)||ae(Z)&&ae(pe)?"mobile-box":"box"},{default:As(()=>[ae(I).canShowAnswerExplanation?(Ae(),ze("div",{key:0,class:Wt(ae(ke)||ae(Z)&&ae(pe)?"absolute bottom-0 w-full h-[51%] rounded-t-lg border-t-2 border-[#FFBF4E] z-[10002] overflow-auto":"w-[30%] min-w-[324px] h-full rounded-l-lg border-t-2 border-b-2 border-l-2 border-[#FFBF4E] z-[10002] overflow-auto")},[fs(yy)],2)):it("",!0)]),_:1},8,["name"]),W("div",cI,[fs(Ye,{media:ae(Se)},null,8,["media"]),ce.value?(Ae(),gs(YE,{key:0,email:ae(Pt)},null,8,["email"])):it("",!0),ae(ve)?(Ae(),gs(qA,{key:1})):it("",!0),Ve.value?(Ae(),gs(ga,{key:2,stackToBottom:!1,onCloseModal:le},{body:As(()=>[fs(ae(t),{media:ae(Se),isAuthenticated:ae(ot),validationStatus:ae(ne),validationStatusPhone:ae($),options:ue.value,requestCountry:ae(j),onOnValidateEmail:C,onOnValidatePhoneNumber:x,onOnCloseAuthModal:le,onOnAuthenticateUser:ee,onOnChangeAuthView:Ge},null,8,["media","isAuthenticated","validationStatus","validationStatusPhone","options","requestCountry"])]),_:1})):it("",!0),st.value?(Ae(),gs(ga,{key:3,stackToBottom:!1},{body:As(()=>[fs(ae(s),{isCorporateUser:ae(tt),userFirstName:ae(Ie),userLastName:ae(qe),userIsUnderAge:ae(at),userParentEmail:ae($e),groupInfo:ae(se),isGroupJoinInProgress:kt.value,isGetGroupInfoInProgress:Tt.value,options:ue.value,onInviteAccepted:St,onInviteDeclined:mt},null,8,["isCorporateUser","userFirstName","userLastName","userIsUnderAge","userParentEmail","groupInfo","isGroupJoinInProgress","isGetGroupInfoInProgress","options"])]),_:1})):it("",!0),et.value?(Ae(),gs(ga,{key:4,stackToBottom:!1,focusContainer:!1,onCloseModal:we},{body:As(()=>[fs(ae(n),{isCorporateUser:ae(tt),onOnCloseClassCodeModal:we},null,8,["isCorporateUser"])]),_:1})):it("",!0),_s.value&&!ls.value?(Ae(),gs(ga,{key:5,stackToBottom:!1},{body:As(()=>[fs(ae(a),{isCorporateUser:ae(tt),isLoggedIn:ae(vt),options:ue.value,isCheckOrJoinRoomInProgress:Et.value,onOnAction:xt},null,8,["isCorporateUser","isLoggedIn","options","isCheckOrJoinRoomInProgress"])]),_:1})):it("",!0),ks.value?(Ae(),gs(ga,{key:6,stackToBottom:!1},{body:As(()=>[fs(ae(o),{options:ue.value},null,8,["options"])]),_:1})):it("",!0),Bt.value?(Ae(),gs(ga,{key:7,transition:"fade",stackToBottom:!1,acquireFullHeight:!0,modalMaskContainerStyle:de.value,onCloseModal:be},{body:As(()=>[fs(ae(i),{options:ue.value,media:ae(Se),onOnDismissPreview:be},null,8,["options","media"])]),_:1},8,["modalMaskContainerStyle"])):it("",!0),ae(He).isVisible?(Ae(),gs(Vy,Ud({key:8},ae(He).options,{onHideSnackBar:xs}),null,16)):it("",!0),ds.value?(Ae(),gs(ga,{key:9,stackToBottom:!1,onCloseModal:le},{body:As(()=>[W("div",uI,[W("div",lI,ht(ue.value.title),1),dI,W("p",null,ht(ue.value.subtitle),1),W("div",mI,[W("button",{type:"button",class:"px-4 py-1 font-bold text-base bg-ds-lilac-500-20 rounded text-lilac-ds-light-500 border-none ml-4 hover:text-ds-lilac-500",onClick:Le[0]||(Le[0]=Kt=>De(ue.value.gameJoinLink))},ht(ue.value.continueText),1)])])]),_:1})):it("",!0),ae(M)?(Ae(),gs(ga,{key:10,modalMaskStyle:{background:"rgba(9,9,9,0.5)"},stackToBottom:ae(ke),onCloseModal:Lt},{body:As(()=>[W("div",pI,[fs(ae(r),{insideGame:!0,onOpenDownloadAvatarModal:ae(fe)},null,8,["onOpenDownloadAvatarModal"]),ae(K)?(Ae(),gs(ae(c),{key:0,onClose:ae(fe)},null,8,["onClose"])):it("",!0)])]),_:1},8,["stackToBottom"])):it("",!0),ae(J)?(Ae(),gs(ga,{key:11,modalMaskStyle:{background:"rgba(9,9,9,0.5)"},acquireFullHeight:!0,acquireFullWidth:!0,onCloseModal:cs},{body:As(()=>[W("div",gI,[fs(ae(u),{onClose:cs})])]),_:1})):it("",!0),(ft=ae(Te))!=null&&ft.suspectedTeacher?(Ae(),gs(ae(l),{key:12})):it("",!0),fs(ZA)])],2)}}},rp=Hs(fI,[["__scopeId","data-v-609bae7e"]]),hI=()=>xe(()=>import("./Featured.CFjrOtgv.js"),__vite__mapDeps([39,1,2,40,26,29,30,31,41,4,0,3,42])),_I=()=>xe(()=>import("./Home.BFmGWGjk.js"),__vite__mapDeps([43,1,2,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,4,29,30,31,40,26,62])),vI=()=>xe(()=>import("./Landing.6aM6WiW_.js"),__vite__mapDeps([63,1,2,44,45,46,50,51,52,53,54,55,47,59,64])),EI=()=>xe(()=>import("./Home.BCMxCWy5.js"),__vite__mapDeps([65,1,2,66,45,67,54,68,52,58,59,60,61,4,69])),AI=()=>xe(()=>import("./SearchPage.mXXP5Qph.js"),__vite__mapDeps([70,1,2,56,54,57,48,49,4,71])),TI=()=>xe(()=>import("./Groups.CEF0i-oc.js"),__vite__mapDeps([72,1,2])),yI=()=>xe(()=>import("./Activity.DMtkAz1O.js"),__vite__mapDeps([73,1,2,30,74])),Bo=()=>xe(()=>import("./ActivitySubRouteContainer.BbOZZPxp.js"),__vite__mapDeps([75,1,2,48,49,52,53,54,55,67,68,56,57,76])),II=()=>xe(()=>import("./AppSettings.CaJbZY_H.js"),__vite__mapDeps([77,1,2,78,79,80,81,82,83,84])),SI=()=>xe(()=>import("./RecommendationsPage.DFlIFLRN.js"),__vite__mapDeps([85,1,2,56,54,57,4,86])),RI=()=>xe(()=>import("./EventQuizzesPage.D9riCh_e.js"),__vite__mapDeps([87,1,2,56,54,57,4,88])),CI=()=>xe(()=>import("./Classes.CNT0UqOV.js"),__vite__mapDeps([89,30,1,2,90])),wI=()=>xe(()=>import("./InGameApp.B5SYRyJT.js").then(e=>e.A),__vite__mapDeps([91,1,2,26,92,3,93,10,94,30,95,81,82,7,96,79,80,97,83,41,6,8,66,98,61,47,99,100])),rd=()=>xe(()=>import("./PreGameScreen.DIW5NzeO.js"),__vite__mapDeps([101,1,2,94,30,95,81,82,7,96,79,80,97,50,51,54,0,3,4,102])),Pc=()=>xe(()=>import("./PreGameSubRouteContainer.BEE0f_d7.js"),__vite__mapDeps([103,1,2,7,41,45,104,78,98,105,0,3,4,81,82,106])),OI=()=>xe(()=>import("./EmbedQuiz.3EtXtjUu.js"),__vite__mapDeps([107,1,2,0,3,4,108])),PI=()=>xe(()=>import("./CoursesDetails.s5Su-1da.js"),__vite__mapDeps([109,110,1,2,26,0,3,4,111])),kI=()=>xe(()=>import("./Shop.BHLpyytc.js"),__vite__mapDeps([112,25,1,2,26,27,28,29,30,31,32,33,10,34,35,113])),bI=()=>xe(()=>import("./FlashcardsTab.DPcSY7bA.js"),__vite__mapDeps([114,1,2,26,54,99,30])),NI=()=>xe(()=>import("./Notes.BGIedKeN.js").then(e=>e.N),__vite__mapDeps([115,1,2,92,3,93,10,95,81,82,7,96,116])),DI=[{path:"/join",name:O.get(O.List),[Hn.BEFORE_ENTER]:au,meta:{title:`${window.isProJoinRoute?U("Join a Game"):U("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`},children:[{path:"",name:O.get(O.List.LANDING),component:hI,children:[{path:"",name:O.get(O.List.LANDING.HOME),component:window.isProJoinRoute?EI:vI,meta:{title:`${window.isProJoinRoute?U("Join a Game"):U("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`}},{path:"dashboard",name:O.get(O.List.LANDING.DASHBOARD),component:_I,meta:{title:`${window.isProJoinRoute?U("Join a Game"):U("Join a Quizizz activity - Enter code - Join my quiz")} - Quizizz`}},{path:"search/:query?",name:O.get(O.List.LANDING.SEARCH),component:AI,[Hn.BEFORE_ENTER]:yE,meta:{title:e=>`${e.params.query||""} ${e.params.query?"-":""} Quizizz Search`,metaTags:[{path:wn.RUNNING,name:O.get(O.List.LANDING.ACTIVITY.RUNNING),props:{forList:wn.RUNNING},component:Bo,meta:{title:`${U("My Running Activities")} - Quizizz`}},{path:wn.CREATED,name:O.get(O.List.LANDING.ACTIVITY.CREATED),props:{forList:wn.CREATED},component:Bo,meta:{title:`${U("My Created Quizzes")} - Quizizz`}},{path:wn.COMPLETED,name:O.get(O.List.LANDING.ACTIVITY.COMPLETED),props:{forList:wn.COMPLETED},component:Bo,meta:{title:`${U("My Completed Activities")} - Quizizz`}}]}},{path:"game-code",name:O.get(O.List.LANDING.GAME_CODE),redirect:{name:O.get(O.List.LANDING.HOME)}},{path:"activity",name:O.get(O.List.LANDING.ACTIVITY),component:yI,redirect:{name:O.get(O.List.LANDING.ACTIVITY.RUNNING)},[Hn.BEFORE_ENTER]:_E,children:[{path:wn.RUNNING,name:O.get(O.List.LANDING.ACTIVITY.RUNNING),props:{isCorporateUser:window.isProJoinRoute,forList:wn.RUNNING},component:Bo,meta:{title:`${U("My Running Activities")} - Quizizz`}},{path:wn.CREATED,name:O.get(O.List.LANDING.ACTIVITY.CREATED),props:{isCorporateUser:window.isProJoinRoute,forList:wn.CREATED},component:Bo,meta:{title:`${U("My Created Quizzes")} - Quizizz`}},{path:wn.COMPLETED,name:O.get(O.List.LANDING.ACTIVITY.COMPLETED),props:{isCorporateUser:window.isProJoinRoute,forList:wn.COMPLETED},component:Bo,meta:{title:`${U("My Completed Activities")} - Quizizz`}}]},{path:"settings",name:O.get(O.List.LANDING.APP_SETTINGS),component:II,meta:{title:`${U("Settings")} - Quizizz`}},{path:"topic/:topicId/:topicSlug",name:O.get(O.List.LANDING.TOPIC_RECOMMENDATIONS),component:SI},{path:"event-quizzes",name:O.get(O.List.LANDING.EVENT_QUIZZES),component:RI},{path:"class",name:O.get(O.List.LANDING.CLASSES),component:CI,[Hn.BEFORE_ENTER]:vE,meta:{title:`${U("Classes")} - Quizizz`}},{path:"groups",name:O.get(O.List.LANDING.GROUPS),component:TI,meta:{title:`${U("Groups")} - Quizizz`}},{path:"course/:courseSessionId",name:O.get(O.List.COURSE.DETAILS),[Hn.BEFORE_ENTER]:IE,component:PI,meta:{title:`${U("Course Details")} - Quizizz`}},{path:"flashcards",name:O.get(O.List.LANDING.FLASHCARDS),component:bI,meta:{title:`${U("Flashcards")} - Quizizz`}}]},{path:"quiz/:quizId?",name:O.get(O.List.QUIZ),component:rd,alias:["presentation/:quizId?/","lesson/:quizId?/","flashcard/:quizId?/","contest/:contestId/","contest/:contestId/:quizId/"],[Hn.BEFORE_ENTER]:td,children:[{path:"start",name:O.get(O.List.QUIZ.START),props:{subRouteName:fc.SOLO_START},component:Pc,meta:{title:`${U("Start Playing")} - Quizizz`}},{path:"challenge/:roomHash",name:O.get(O.List.QUIZ.CHALLENGE),props:{subRouteName:fc.CHALLENGE_START},component:Pc}]},{path:"pre-game",name:O.get(O.List.PRE_GAME_DETAIL),component:rd,[Hn.BEFORE_ENTER]:TE,children:[{path:"running/:preGameRunningComposite/start",name:O.get(O.List.PRE_GAME_DETAIL.RUNNING),props:{subRouteName:fc.RUNNING_START},component:Pc,meta:{title:`${U("Start Playing")} - Quizizz`}}]},{path:"game/:gameComposite",name:O.get(O.List.IN_GAME),component:wI,[Hn.BEFORE_ENTER]:sd,meta:{title:`${U("Playing a Game")} - Quizizz`}},{path:"notes/:gameComposite",name:O.get(O.List.LANDING.NOTES),component:NI,[Hn.BEFORE_ENTER]:sd,meta:{title:`${U("Notes")} - Quizizz`}},{path:"avatar-shop",component:kI,name:O.get(O.List.LANDING.AVATAR_SHOP),[Hn.BEFORE_ENTER]:au,meta:{title:`${U("Save Avatar")} - Quizizz`}}]},{path:"/embed/quiz/:quizId",name:O.get(O.List.EMBED.QUIZ),alias:["/embed/presentation/:quizId","/embed/lesson/:quizId"],component:rp,[Hn.BEFORE_ENTER]:td,children:[{path:"",name:O.get(O.List.EMBED.QUIZ),component:OI}]},{path:"/:pathMatch(.*)*",name:O.get(O.List.PAGE_404),component:QE}],wa=ag({history:og(window.isProJoinRoute?"/pro/":"/"),routes:DI});fu.configure({showSpinner:!1,template:"<div class='bar' role='bar'><div></div><div class='bar bar-secondary' role='bar'></div></div>"});wa.beforeEach((e,t)=>{var o;e.name&&fu.start(),document.querySelectorAll("[data-vue-router-controlled-meta-tags]").forEach(i=>(i==null?void 0:i.remove)&&i.remove());const s=ps();s.isApplicationLoaded||s.startGlobalLoader({loader:{name:Au.ROUTE_NAVIGATION,meta:{to:iu(e),from:iu(t)}}}),e.query.notes&&s.setNotes();const n=e.matched.slice().reverse().find(i=>i.meta&&i.meta.metaTags);let a=((o=n==null?void 0:n.meta)==null?void 0:o.metaTags)||[];a||(a=[]),(e.fullPath.match(/\?gc=/)||e.fullPath.match(/\?c=/))&&(a=[...a,{name:"robots",content:"noindex"}]),a.map(i=>{const r=document.createElement("meta");return Object.keys(i).forEach(c=>{r.setAttribute(c,i[c])}),r.setAttribute("data-vue-router-controlled-meta-tags",""),r}).forEach(i=>{document.head.appendChild(i)})});wa.afterEach((e,t,s)=>{const n=ps(),a=Js(),o=ig(s),i=LI(e,t),r=zI(e,t,n.globalLoaders),c=GI(e,t),u=a.navigationType===jo.PROGRAMMATIC,l=O.isExactly(e.name,O.List.IN_GAME);if(u)l||a.updateCurrentPage({to:e.name,metaData:cd(e)});else{const p=l?a.currentPage:e.name;a.updateCurrentPage({to:p,metaData:cd(e)})}r.forEach(p=>{n.endGlobalLoader({loader:p})}),!o&&i&&(document.title=i),S(c)||wa.replace({replace:!0,...e,query:{...e.query,...c}}),fu.done()});function LI(e,t){const s=e.meta&&e.meta.title,n=!!s,a=typeof s=="string"||typeof s=="function";if(b.invariant(!n||a,[`Router evaluateTitle: invalid title value for route(${e.name})`,s]),!n||!a)return"";if(typeof s=="string")return s;if(typeof s=="function"){const o=s(e,t),i=typeof o=="string";if(b.invariant(i,[`Router evaluateTitle: the title function return value is not a string for route${e.name})`,o]),i)return o}return""}function iu(e){return e&&e.name||"unk"}function zI(e,t,s){return s.filter(n=>n.name===Au.ROUTE_NAVIGATION&&n.meta.from===iu(t))}function GI(e,t){const s="qgParamPreserve",n=t&&t.query||{},a={};if(!Pr(n,s))return a;const o=n[s];try{const i=JSON.parse(o);i.push(s);for(let r=0,c=i.length;r<c;r++){const u=i[r];Pr(n,u)||b.warn(`QRouter.getParamsToPreserve: Trying to preserve query param '${u}' that is not in the route`),Pr(e.query,u)||(a[u]=n[u])}return a}catch{return b.error(`QRouter.getParamsToPreserve: cannot parse qgParamPreserve as an array. Recieved - ${o}`),a}}function cd(e){return ka(e,["path","hash","query","params","append","replace"])}wa.onError(Xg);const Js=Ot("routing",()=>{const e=ui(),t=m(O.get(O.List)),s=m(null),n=m(jo.NONE);function a(){return{currentPage:t.value,pageMetaData:s.value,navigationType:n.value}}function o(u){return u.to&&(t.value=u.to,s.value=u.metaData,ct.setCurrentPage(u.to)),a()}function i(u){n.value=u.navigationType}async function r({to:u,metaData:l=null}){var f;const p=O.matches(t.value,O.List.IN_GAME),d=O.matches(u,O.List.IN_GAME);i({navigationType:jo.PROGRAMMATIC});const g=pu(s.value,l);if(d&&o({to:u,metaData:l}),e.saveCurrentContext(),d){if(p&&g){i({navigationType:jo.NONE});return}const h=yt(),E=Dt();if(!p&&!(l!=null&&l.params)){const A={gameComposite:ei(h.roomHash,E.playerId)};await wa.push({name:O.get(O.List.IN_GAME),params:A})}else{const A={...(l==null?void 0:l.params)||{},gameComposite:((f=l==null?void 0:l.params)==null?void 0:f.gameComposite)||ei(h.roomHash,E.playerId)};await wa.push({name:O.get(O.List.IN_GAME),params:A})}i({navigationType:jo.NONE});return}await wa.push({name:u,...l}),i({navigationType:jo.NONE})}function c({to:u,gameData:l={},metaData:p,canChangeRoute:d=!0}){var E;const g={...p},f=yt();if(l.roomHash&&l.playerId){const A=l.gameType||"",_=ei(l.roomHash,l.playerId),v=f.notes;g.params={gameComposite:_},g.query={gameType:A},v&&(g.query.notes="true");const y=new URLSearchParams((E=window==null?void 0:window.location)==null?void 0:E.search);y.has("preview")&&y.get("preview")==="true"&&(g.query.preview="true"),y.has("teacherPreview")&&y.get("teacherPreview")==="true"&&(g.query.teacherPreview="true"),y.has("fromGCAddon")&&y.get("fromGCAddon")==="true"&&(g.query.fromGCAddon="true")}const h={to:u,metaData:g};return d&&r(h),{isInsideGame:!0,...h}}return{currentPage:t,pageMetaData:s,navigationType:n,updateCurrentPage:o,updateNavigationType:i,requestToChangePage:r,changeToInGamePage:c}}),ud=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),ld=Ot("p2pActions",()=>{const e=m(!1),t=m(!1),s=qt(),n=Js(),a=Dt(),o=m("loading"),i=T(()=>{const{duelData:d}=a;return d.currentStep===2&&d.currentLevel===0||d.currentStep===3&&d.currentLevel>0});function r(){const d=[...s.doneOrderForEvaluatedQuestions];s.currentId&&d.push(s.currentId);const g={questionId:"",doneOrder:d,remainingOrder:[...s.remainingOrder],powerupScopes:["game"]};s.setCurrentQuestion(g),n.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.STUDENT_DUEL)})}async function c(d){var _;const{roomHash:g}=yt(),{playerId:f,duelData:h,updateDuelData:E,resetUnderStrikeData:A}=a;try{const{type:v,targetPlayerId:y,currentPlayerLevel:N}=d;let G=rm.STANDARD;d.strikeOrShieldType&&(G=d.strikeOrShieldType);const z={targetPlayerId:y,decision:v,roomHash:g,playerId:f,level:h.currentLevel,duelVersion:2.1,type:G};o.value="loading";const{response:Q}=await vC(z);ct.logEvent("qg_sns_selected",{actionType:v,action:G,actionOutcome:Q.strikeOutcome?Q.strikeOutcome:"shielded",level:N}),A(),d.type===Xc.STRIKE||d.type===Xc.SKIP?E({...Q,playerShield:null}):(E(Q),Dt().addShieldToast({playerId:Q.playerId,type:"shield",decisionType:(_=Q.playerShield)==null?void 0:_.type})),o.value="success"}catch(v){throw o.value="error",b.info("Error on P2P student action",v),v}}function u(d){e.value=d}function l(){t.value=!1,u(!1)}function p(){i.value&&u(!1),t.value=!0}return{waitingForMobileHudAnimation:e,canShiftHUD:t,justReachedLevelUp:i,duelDecisionAPIState:o,makeRefFalse:l,makeRefTrue:p,showP2PSelection:r,P2PStudentAction:c,resetWaitingForMobileHudAnimation:u}});function MI(e,{isOver:t,gameState:s,slidesFlowControlType:n}){return function(o){return!e||!t&&s===Ct.RUNNING&&n!==es.NONE&&!o}}function xI({playerId:e,remainingOrder:t,currentId:s,gameType:n,roomHash:a,areQuestionAttemptsLeft:o,isUserOnReviewScreen:i,isMasteryMode:r,hasReachedMastery:c,isOver:u,slidesFlowControlType:l,gameState:p,questionResponses:d,incorrectQuestionAttempts:g,country:f},h={},E){const A=o&&!i,_=h.gameType||n,v=gi(_),y={...h},G=MI(E,{isOver:u,gameState:p,slidesFlowControlType:l})(A);return S(y)&&(y.roomHash=a,y.playerId=e),f&&(y.country=f),y.endedAt=Date.now(),{canMarkPlayerGameOverNow:G,payload:y,isAssignedGame:v}}function FI({gameMode:e,roomHash:t,teams:s,quizId:n,player:a},o,i){const r=e===re.CHALLENGE;let c=!1,u=!1,l={roomHash:t};return i?(c=o.gameOver,l.roomHash=t,u=k(a,"lastGamePlayed.roomHash")===k(o,"roomHash"),l.teams=s,o.teams&&o.teams.length>0&&(l.teams=o.teams),r&&!S(o.leaderboard)&&(l.leaderboard=o.leaderboard)):(c=!0,l={roomHash:t,gameDetails:{quizId:n,accuracy:a.accuracy},playerRank:a.playerRank,gameType:Je.SOLO},u=k(a,"lastGamePlayed.roomHash")===k(o,"data.roomHash")),l.unlockedExclusiveItemId=k(o,"unlockedExclusiveItemId"),{isGameOver:c,response:l,shouldClearIncompleteGameData:u,isAChallengeGame:r}}function QI(e,t,s={}){const{roomHash:n}=e.game.data,a=e.user.profile.mongoId||"",o=e.applicationContext.deviceInfo.quizizzUID||"",i={quizNumQuestions:k(s,"numQuestions","12")};return a?i.hostId=a:o&&(i.hostSessionId=o),{quizId:t,roomHash:n,hostId:a,hostSessionId:o,replayMeta:i}}const oc=Ot("team",()=>{const e=m(""),t=m(""),s=m(0),n=m(-1),a=m(-1),o=m(0);function i(E){e.value=k(E,"player.teamId",e.value),t.value=k(E,"player.currentTeamName",t.value),s.value=k(E,"player.currentTeamTotalPlayers",s.value)}function r(E){e.value=k(E,"player.teamId",e.value),t.value=k(E,"player.currentTeamName",t.value),a.value=k(E,"player.currentTeamRank",a.value),s.value=k(E,"player.currentTeamTotalPlayers",s.value),o.value=k(E,"player.currentTeamScore",o.value)}function c(E){e.value=k(E,"teamId",e.value),t.value=k(E,"currentTeamName",t.value),s.value=k(E,"currentTeamTotalPlayers",s.value)}function u(E){n.value=a.value,a.value=k(E,"currentTeamRank",a.value),o.value=k(E,"currentTeamScore",o.value)}function l(E){a.value=k(E,"currentTeamRank",a.value),n.value=k(E,"previousTeamRank",n.value),o.value=k(E,"currentTeamScore",o.value)}function p(E){e.value=k(E,"teamId",e.value),s.value=k(E,"currentTeamTotalPlayers",s.value)}function d(E){n.value=k(E,"previousTeamRank",n.value),a.value=k(E,"currentTeamRank",a.value),o.value=k(E,"currentTeamScore",o.value)}function g(E){n.value=k(E,"previousTeamRank",n.value),a.value=k(E,"currentTeamRank",a.value),o.value=k(E,"currentTeamScore",o.value)}function f(E){E.isNewPlayerFromCurrentTeam&&(s.value+=1)}function h(E){E.isOldPlayerFromCurrentTeam&&(s.value-=1)}return{teamId:e,name:t,totalPlayers:s,previousRank:n,rank:a,score:o,joinRoomResponded:i,rejoinGameResponded:r,teamPlayerShuffled:c,setCurrentTeamRank:u,proceedGameResponded:l,gameStarted:p,gameCompleted:d,gameStopped:g,newPlayerJoined:f,playerDeleted:h}});let kc=null;const cp=Ot("postGameAction",()=>{const e=qt(),t=Pa(),s=yt(),n=Js(),a=Dt(),o=Is(),i=ps(),r=oc(),c=Yt(),u=hs(),l=ua(),p=ui(),d=Oo(),g=la(),f=m("");function h(Q){f.value=Q}function E(){const Q=Eo(e.questionResponseStatuses,[Us.NOT_SENT,Us.SENDING]),H=Qs(Q).length===0;if(!H){t.toggleOverlay({type:`responseUnsynced|${Zo.PRE_GAMEOVER}`});return}if(s.gameOptions.hasRedemptionPass!==Gt.hasRedemptionPass.YES){n.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)});return}if(e.orderedRedemptionResponses.length===0)return n.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)}),H;const w={firstAttemptAccuracy:a.firstAttemptAccuracy,accuracy:a.accuracy};return E_(w)?(n.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)}),H):(n.requestToChangePage({to:O.get(O.List.IN_GAME.AFTER_REDEMPTION_SECTION)}),kc&&clearTimeout(kc),ct.logEvent(as.COMPLETE_PASS_2,{firstPassAccuracy:a.firstAttemptAccuracy,redemptionPassAccuracy:a.accuracy}),kc=setTimeout(()=>{n.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)})},6e3),H)}async function A({gameDetails:Q={},isForCurrentGame:H=!0,source:w=""}={}){const I=qt(),M=Dt(),J=yt(),K=Yt(),{isOver:fe,playerId:P,lastGamePlayed:j,rank:oe,accuracy:X}=M,{gameType:ie,roomHash:ge,isMasteryMode:Ce,gameState:Fe,gameMode:ve,teams:ot,quizId:$}=J,{remainingOrder:ne,currentId:Ie,areQuestionAttemptsLeft:qe,isUserOnReviewScreen:at,hasReachedMastery:$e,slidesFlowControlType:tt,questionResponses:vt,incorrectQuestionAttempts:Pt}=I,Te={playerId:P,remainingOrder:ne,isOver:fe,gameType:ie,currentId:Ie,roomHash:ge,areQuestionAttemptsLeft:qe,isUserOnReviewScreen:at,isMasteryMode:Ce,hasReachedMastery:$e,gameState:Fe,slidesFlowControlType:tt,questionResponses:vt,incorrectQuestionAttempts:Pt,country:K.isLoggedIn?K.country:void 0},Ne=xI(Te,Q,H);if(!Ne.canMarkPlayerGameOverNow)return{markedPlayerOver:!0};try{let me;Ne.isAssignedGame?me=(await hC(Ne.payload)).response:me=(await rC(Ne.payload)).response;const Qe=FI({gameMode:ve,roomHash:ge,teams:ot,quizId:$,player:{lastGamePlayed:j,playerRank:oe,accuracy:X}},me,Ne.isAssignedGame);return Qe.response.unlockedExclusiveItemId&&(f.value=Qe.response.unlockedExclusiveItemId),Qe.shouldClearIncompleteGameData&&M.clearIncompleteGame(),H&&(Qe.isAChallengeGame&&o.setChallengeLiveLeaderboard(Qe.response),Qe.isGameOver?J.gameCompleted(Qe.response):M.gameEnded()),{markedPlayerOver:!0}}catch(me){return b.error("Error at action markPlayerGameOver",me),w==="onGameOverPipeline"&&o.setActionErrorTrace({nameList:["onGameOverPipeline","markPlayerGameOver"]}),{markedPlayerOver:!1}}}async function _(){try{const{teamId:Q}=r,{response:H}=await KR(s.roomHash,a.playerId,Q);if(H&&(ut(H.rank)&&a.setCurrentPlayerRank({currentPlayerRank:H.rank}),Array.isArray(H.teams)&&H.teams.length>0)){const{teams:w}=H,I=Su(w),M=r.teamId;let J=r.rank,K=r.score;const fe=Ut(I,P=>P.teamId===M);fe&&(J=fe.rank,K=fe.score),r.setCurrentTeamRank({currentTeamRank:J,currentTeamScore:K,teams:w}),s.setCurrentTeamRank({currentTeamRank:J,currentTeamScore:K,teams:w})}}catch(Q){b.error("Error at action getPlayerRank",Q)}}function v(){o.hasSeenSummaryAtleastOnce===!1&&o.reachedSummaryForTheFirstTimeInGame(),i.triggerEmbedEvent({eventName:"summaryShown"})}async function y({quizId:Q,quizMeta:H={}}){try{const w={game:{data:yt()},user:{profile:c},applicationContext:i},I=QI(w,Q,H),{response:M}=await sv(I.roomHash,{...I});return d.challengeReplayNotifAcceptedPipeline({roomHash:M.data.roomHash,roomCode:M.data.roomCode,togglePageLoader:u.togglePageLoader,requestToChangePage:n.requestToChangePage,playerId:Dt().playerId}),!0}catch(w){const I=pn(w);let M=U("Some error occurred while starting game!");return I==="game.ALREADY_REPLAYED"&&(M=U("A game has already been started")),u.toggleSnackBar({isVisible:!0,options:{message:M}}),b.error("Error at action replayChallengeGame",w),!1}}async function N({roomHash:Q}){var H;try{const{response:w}=await xm(Q),I=((H=w==null?void 0:w.data)==null?void 0:H.players)||[];let M=qs(I,["score"],["desc"]);M=Nt(M,(J,K)=>({...ka(J,["score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),playerId:J.id,monsterId:J.monster,rank:K+1,isProfane:pi(J.id)})),o.setChallengeLiveLeaderboard({leaderboard:M})}catch(w){b.error("Error at action getFinalChallengeLeaderboard: ",w)}}function G({roomHash:Q,shouldResetGame:H=!1,redirectTo:w=""}){const{gameState:I}=s,M=async J=>{if(J===0){u.toggleDialog();return}if(J===1){I===Ct.RUNNING&&N({roomHash:Q});try{const{response:K}=await yR({roomHash:Q});p.soc_gameOverAll({response:K}),u.toggleDialog(),H&&(l.resetGame(),a.clearIncompleteGame()),S(w)||n.requestToChangePage({to:w})}catch(K){switch(b.error("Error at action endChallengeGameHandler: ",K),u.toggleDialog(),pn(K)){case"room.NOT_FOUND":case"room.COMPLETED":case"room.STOPPED":case"room.EXPIRED":case"game.NOT_FOUND":n.requestToChangePage({to:w||O.get(O.List.LANDING.HOME)});break;default:setTimeout(()=>{u.toggleDialog({name:"misc.errorAndTryAgain|confirm"})},1)}}}};u.toggleDialog({name:"endChallengeGame|danger",actionCallback:M})}async function z(){var M,J;const{gameState:Q,quizId:H,roomHash:w}=s,I=Q===Ct.COMPLETED||Q===Ct.STOPPED||Q===Ct.ARCHIVED;try{if(I){const{attemptedGames:oe}=await g.retrieveSoloGameAttempts({quizId:H,updatePreGameInfo:!1})||{};return{attempts:qs(oe,"dateJoined","asc")}}const K=[g.retrieveRunningGame({roomHash:w,updatePreGameInfo:!1})];s.isAdaptiveLearningGame||K.push(g.retrieveSoloGameAttempts({quizId:H,updatePreGameInfo:!1}));const[fe,P]=await Promise.all(K),j=[...((M=fe==null?void 0:fe.cookedData)==null?void 0:M.currentAttempts)||[],...((J=P==null?void 0:P.soloGameData)==null?void 0:J.attemptedGames)||[]];return{attempts:qs(j,"dateJoined","asc")}}catch(K){return b.error("Error at getAttemptsToDisplayChart: ",K),{attempts:[]}}}return{selectedExclusiveItemId:f,setSelectedExclusiveItemId:h,getAttemptsToDisplayChart:z,moveOnAfterGameComplete:E,markPlayerGameOver:A,getRankFromServer:_,onSummayMounted:v,replayChallengeGame:y,endChallengeGameHandler:G}});function qI(e={}){return e.reduceMotion!==!0}const UI={"double-jeopardy":{name:"double-jeopardy",status:"enabled",title:"Double Jeopardy",styles:{backgroundGradientColor:"rgba(54, 133, 41, 0.5)",backgroundColor:"#245B00",accentColor:"#66FF74"},validateToAward:function(t){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/double-jeopardy.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/double-jeopardy.svg"},description:"Get double the score, but a wrong answer will cost you.",notification:{onActivate:"Aim for double or pay the price."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"double-jeopardy"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t){if(t.response.getCorrectness()){const n=t.score.getTotal();t.score.pushScore(n)}else t.score.pushScore(-1*t.score.getDefaultBase())},onDestroy:function(t){},help:{tips:[]},nudge:{type:"postAnswer",priority:0,text:"Hey, use 'Double Jeopardy' powerup to earn more score for this answer."}},"2x":{name:"2x",status:"enabled",title:"x2",styles:{backgroundGradientColor:"rgba(70, 41, 133, 0.5)",backgroundColor:"#33205C",accentColor:"#9566FF"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/2x.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/2x.svg"},description:"Bag twice the score for one question.",notification:{onActivate:"Double your score!"},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"2x"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!!t.scopes.includes(this.activationScope)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t){const s=t.score.getTotal();t.score.pushScore(s)},onDestroy:function(t){},help:{tips:["Offensive power-ups like ‘2X points’ give you extra bonus score for the right answer."]},nudge:{type:"postAnswer",priority:1,text:"Hey, use 'x2' powerup to double the score for this answer."}},"50-50":{name:"50-50",status:"enabled",title:"50/50",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#023674",accentColor:"#6683FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo||t.areAllRemainingQuestionsFIB)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/50-50.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/50-50.svg"},description:"Make half the incorrect options disappear.",notification:{onActivate:"Let's cut out the clutter."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t,s){const n=t.question.getOptions();let a=[];s.visibleOptionIndices?a=s.visibleOptionIndices:a=n.map((o,i)=>i);for(let o=0;o<n.length;o++)a.includes(o)||t.options.hideOption(o)},onDestroy:function(t){},help:{tips:["Defensive power-ups like ‘50/50’ help you tackle questions you are not sure about."]},nudge:{type:"whileAnswering",priority:2,text:"Got stuck? Use 50-50 to cut down on options."}},eraser:{name:"eraser",status:"enabled",title:"Eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#98297E",accentColor:"#E566FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.areAllRemainingQuestionsMSQ||t.areAllGameQuestionsWithoutCorrectAnswer||t.doesRemainingQuestionsOptionsCountEqualsTwo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/eraser.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/eraser.svg"},description:"Eliminate one incorrect option.",notification:{onActivate:"We've erased an option."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"question",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.isQuestionTypeMCQ||!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope)||t.options.length<=2)},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onApply:function(t,s){const n=t.question.getOptions();let a=[];s.visibleOptionIndices?a=s.visibleOptionIndices:a=n.map((o,i)=>i);for(let o=0;o<n.length;o++)a.includes(o)||t.options.hideOption(o)},onDestroy:function(){},help:{tips:[]},nudge:{type:"whileAnswering",priority:3,text:"Got stuck? Use Eraser to cut down on options."}},immunity:{name:"immunity",status:"enabled",title:"Immunity",styles:{backgroundGradientColor:"rgba(14, 87, 45, 0.5)",backgroundColor:"#0E572D",accentColor:"#66FFAB"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/immunity.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/immunity.svg"},description:"Get a second chance after an incorrect answer.",notification:{onActivate:"You're immune to an incorrect answer."},meta:["questionId","attempt"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"immunity"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"before-answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return!(!t.doesQuestionHaveCorrectAnswer||!t.scopes.includes(this.activationScope))},validateToApply:function(t,s,n){return!n.response.getCorrectness()},onApply:function(t){if(t.response.getCorrectness()===!0)return;const s=t.question.getType(),n=t.response.getActualSelectedIndices();switch(s){case"DROPDOWN":case"DRAGNDROP":case"REORDER":case"MATCH":case"GRAPHING":case"DND_IMAGE":case"HOTSPOT":t.options.resetOptions();break;case"CLASSIFICATION":t.options.resetOptions();break;case"BLANK":t.options.clearTypedAnswer();break;case"EQUATION":t.options.clearTypedAnswer();break;case"MCQ":t.options.hideOption(n[0]);break;case"MSQ":default:t.options.setOptionsAsPreviouslySelected(n)}t.response.setMoveAhead(!1)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:0,text:"Got stuck? Use Immunity to get an extra-life"}},"time-freeze":{name:"time-freeze",status:"enabled",title:"Time Freeze",styles:{backgroundGradientColor:"rgba(31, 143, 143, 0.5)",backgroundColor:"#1F8F8F",accentColor:"#66E9FF"},validateToAward:function(t){return!(!(this.status==="enabled")||!t.isTimerOn)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/time-freeze.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/time-freeze.svg"},description:"Freeze the timer and get full score.",notification:{onActivate:"Take your time and get it right."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"question",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:5},validateToActivate:function(t){return t.doesQuestionHaveCorrectAnswer?!!t.scopes.includes(this.activationScope):!1},validateToApply:function(t,s){return t.questionId===s.questionId&&t.attempt===s.attempt},onActivate:function(t){t.resetAndFreezeTimerBar()},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getDefaultTimer(),n=t.score.getTimer();t.score.pushScore(s-n)}},onDestroy:function(t){},help:{tips:[]},nudge:{type:"whileAnswering",priority:1,text:"Running out of time? Use Time Freeze"}},"power-play":{name:"power-play",status:"enabled",title:"Power Play",styles:{backgroundGradientColor:"rgba(32, 106, 128, 0.5)",backgroundColor:"#206A80",accentColor:"#66C1FF"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/powerplay.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/powerplay.svg"},description:"Everyone gets 50% more score for 25 seconds.",mysteryBoxActivationDescription:"20% more score for the next 10 seconds.",notification:{onActivate:"Power Play is on!",onActivateByOtherUser:"has activated Power Play. Get 50% extra score for the next 25 seconds!"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function(t){},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1})}},powerupType:"positive",time:25e3,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function(t){return!0},validateToApply:function(t,s){const{startTime:n}=t,a=new Date().getTime();return n+this.time>=a},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getTotal();t.score.pushScore(Math.floor(s/2))}},onDestroy:function(t){},help:{tips:["‘Powerplay’ gives everyone 50% extra score for 25 seconds, use wisely."]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Power Play' to boost everyone's score for 25 seconds."}},supersonic:{name:"supersonic",status:"enabled",title:"Supersonic",styles:{backgroundGradientColor:"rgba(208, 29, 29, 0.5)",backgroundColor:"#6C0909",accentColor:"#FF6666"},validateToAward:function(){return this.status==="enabled"},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/supersonic.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/supersonic.svg"},description:"Get 1.5x score for 20 seconds with ultra fast gameplay",mysteryBoxActivationDescription:"20% more score for the next 10 seconds.",notification:{onActivate:"You get 1.5x score for 20 seconds"},meta:["questionId","attempt","startTime"],specialEffects:{usesGlowEffect:!0,onActivate:function(t){const s={disableMeme:!0,disableLeaderboard:!0,gamePlaySpeed:2,gameSoundSpeed:1.3};t.specialEffects.updatePowerupGameFlow(s),t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!0,powerup:"power-play"})},onApply:function(t){},onDestroy:function(t){if(t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1)return;t.specialEffects.changeGameAppearance({name:"isEffectGlowOn",value:!1});const n={disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1};t.specialEffects.updatePowerupGameFlow(n)}},timedActions:{onApply:[],onActivate:[{time:18e3,do:function(t){const s={gameSoundSpeed:1};t.specialEffects.updatePowerupGameFlow(s)}}]},powerupType:"positive",time:2e4,disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"timerEnd",probability:{type:"local",weight:3.5},validateToActivate:function(t){return!0},validateToApply:function(t,s){const{startTime:n}=t,a=new Date().getTime();return n+this.time>=a},onApply:function(t){if(t.response.getCorrectness()){const s=t.score.getTotal();t.score.pushScore(Math.floor(s/2))}},onDestroy:function(t){},help:{tips:["You get 1.5x score for 20 seconds"]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Supersonic' for ultra fast gameplay."}},"streak-saver":{name:"streak-saver",status:"enabled",title:"Streak Saver",styles:{backgroundGradientColor:"rgba(255, 167, 39, 0.5)",backgroundColor:"#C7660E",accentColor:"#FFD266"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/streak-saver.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/streak-saver.svg"},description:"Protect your streak against a wrong answer.",notification:{onActivate:"An incorrect answer won't break your streak."},meta:["questionId","attempt"],disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"streak",destroyOn:"immediate",probability:{type:"local",weight:5},validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!n.response.getCorrectness()},onApply:function(t){const s=t.streak.getPreviousStreak();t.streak.setCurrentStreak(s)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:3,text:"Hey, use the 'Streak Saver' to keep your streak bonus in case your answer is wrong."}},glitch:{name:"glitch",status:"enabled",title:"Glitch",styles:{backgroundGradientColor:"rgba(247, 31, 134, 0.5)",backgroundColor:"#761441",accentColor:"#FF66A1"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/glitch.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/glitch.svg"},description:"Everyone else sees a glitchy screen for 10 secs",mysteryBoxActivationDescription:"10 seconds of glitchy chaos.",notification:{onActivate:"Glitch is on!",onActivateByOtherUser:"caused your screen to glitch!"},meta:["startTime","currentPlayerId"],powerupType:"negative",time:1e4,shouldPersistNotification:!0,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"timerEnd",probability:{type:"global",weight:1},validateToActivate:function(t){return!0},validateToApply:function(t,s){var r;const n=s.warningTime||0,{startTime:a}=t,o=this.time+n,i=new Date().getTime();return t.source==="teacher"||a+o>=i&&((r=t==null?void 0:t.player)==null?void 0:r.playerId)!==s.currentPlayerId},onApply:function(t){t.specialEffects.changeGameAppearance({name:"isGlitching",value:!0})},onDestroy:function(t){t.specialEffects.getParticularActivatedPowerupEffects(this.name).length>1||t.specialEffects.changeGameAppearance({name:"isGlitching",value:!1})},help:{tips:["‘Glitch’ wreaks havoc on your opponent’s screens giving you an advantage."]},nudge:{type:"preQuestion",priority:0,text:"Hey, use the 'Glitch' power-up to wreak havoc on everybody else's screen."}},"mystery-box-1":{name:"mystery-box-1",status:"disabled",title:"Power Play vs. Glitch",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 160, 191, 0.5)",backgroundColor:"#15353F",accentColor:"#40A0BF",glowColor:"rgba(64, 160, 191, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],powerupsToActivate:["power-play","glitch"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-1.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-1.png"},description:"Get either Power Play or Glitch",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box-2":{name:"mystery-box-2",status:"disabled",title:"Streak Booster vs. Breaker",powerupType:"activator",styles:{backgroundGradientColor:"rgba(191, 96, 64, 0.5)",backgroundColor:"#481B0D",accentColor:"#D95326",glowColor:"rgba(191, 96, 64, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-2.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-2.png"},description:"Get a full streak or lose it all.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["streak-booster","streak-breaker"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box-3":{name:"mystery-box-3",status:"disabled",title:"+1000pts vs. –1000pts",powerupType:"activator",styles:{backgroundGradientColor:"rgba(64, 191, 127, 0.5)",backgroundColor:"#153F2A",accentColor:"#40BF7F",glowColor:"rgba(64, 191, 127, 0.5)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",drawerIcon:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/drawer-icon-box-3.png",image:{sm:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png",lg:"https://cf.quizizz.com/game/img/powerups/mysteryBoxes/icon-box-3.png"},description:"Bag a 1000 score or be poorer by 1000.",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:["powerupsToActivate"],powerupsToActivate:["add-points","minus-points"],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},shoudlDisableNotificationForReceiver:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"mystery-box":{name:"mystery-box",status:"disabled",title:"Mystery Cube",styles:{backgroundGradientColor:"rgba(255, 195, 26, 0.5)",backgroundColor:"#FFC31A",accentColor:"#FFC31A",glowColor:"rgba(255, 195, 26, 0.4)"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["everyone"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png",lg:"https://cf.quizizz.com/game/img/powerups/lg/mystery-box.png"},description:"",notification:{onActivate:"Mystery Cube is on!",onActivateByOtherUser:"sent you a mystery cube, open it later."},meta:[],disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!1},onApply:function(t){},onDestroy:function(t){if(t.activate.effectManager.effect.shouldDiscardActivatorPowerup)return;const s=t.activate.getPowerupsConfig(),{powerupToActivate:n}=t.activate,a=s[n.name];a.id=n.id,a.powerupId=n.powerupId,a.activationSource="mystery-box",t.activate.activatePowerup(a)},help:{tips:[]}},"add-points":{name:"add-points",status:"enabled",title:"+1000pts",styles:{backgroundGradientColor:"rgba(77, 253, 47, 0.5)",backgroundColor:"#0DAE38",accentColor:"#4DFD2F"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/add-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re in luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"positive",scoreChange:1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"getPoints"},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t){t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]}},"minus-points":{name:"minus-points",status:"disabled",title:"â€“1000",styles:{backgroundGradientColor:"rgba(242, 109, 122, 0.5)",backgroundColor:"#E33E4E",accentColor:"#F26D7A"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/minus-points.jpg"},description:"",mysteryBoxActivationDescription:"Youâ€™re out of luck.",notification:{onActivate:"",onActivateByOtherUser:""},meta:["scoreChange"],powerupType:"negative",scoreChange:-1e3,disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"immediate",probability:{type:"global",weight:0},scoreChanges:{breakIntoChunks:!0,sfxName:"losePoints"},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t){t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]}},"streak-booster":{name:"streak-booster",status:"enabled",title:"Streak Booster",styles:{backgroundGradientColor:"rgba(254, 169, 47, 0.5)",backgroundColor:"#C7660E",accentColor:"#FFEC66"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/streak-booster.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/streak-booster.svg"},description:"Apply to boost your streak counter by +6",mysteryBoxActivationDescription:"Your streak bar is full!",notification:{onActivate:""},meta:["streakChangeBy"],powerupType:"positive",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"game",destroyOn:"response",probability:{type:"local",weight:3},streakChangeBy:6,shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!0},onApply:function(t){const s=t.streak.getCurrentStreak()+this.streakChangeBy;t.streak.setCurrentStreak(s)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:2,text:"Hey, use the 'Streak Booster' to instantly boost your streak by 6."}},"streak-breaker":{name:"streak-breaker",status:"disabled",title:"Streak Breaker",styles:{backgroundGradientColor:"rgba(8, 211, 234, 0.5)",backgroundColor:"#005C83",accentColor:"#08D3EA"},validateToAward:function(){return this.status==="enabled"},target:["self"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg",lg:"https://cf.quizizz.com/game/img/powerups/lg/streak-breaker.jpg"},description:"",mysteryBoxActivationDescription:"You lost your streak. Streak savers wonâ€™t help you.",notification:{onActivate:""},meta:[],powerupType:"negative",disableAwardingWhileActivated:!1,activationScope:"game",applicationScope:"post-answer",destroyOn:"response",probability:{type:"local",weight:0},shouldDestroyIfMysteryPowerup:!0,shouldHidePowerupEffect:!0,validateToActivate:function(t){return!0},validateToApply:function(t,s,n){return!0},onApply:function(t){t.streak.setCurrentStreak(0)},onDestroy:function(t){},help:{tips:[]}},"steal-points":{name:"steal-points",status:"disabled",title:"Pickpocket",styles:{backgroundGradientColor:"rgba(254, 86, 2, 0.5)",backgroundColor:"#CB2D00",accentColor:"#FE5602"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/steal-points.png"},description:"Steal score from another player!",notification:{onActivate:"600 score stolen"},targetting:{selectionHeader:"Steal 600 score from",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupStealPoints",data:{powerupName:"steal-points",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",scoreChange:600,probability:{type:"local",weight:.85},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t,s){t.targetting.isCurrentPlayerTheApplier(s)&&t.score.pushScore(this.scoreChange),t.targetting.isCurrentPlayerTheTarget(s)&&t.score.pushScore(-1*this.scoreChange)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Steal Score' to mess with someone."}},"send-gift":{name:"send-gift",status:"enabled",title:"Gift",styles:{backgroundGradientColor:"rgba(128, 57, 162, 0.5)",backgroundColor:"#431E8A",accentColor:"#FF6666"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://cf.quizizz.com/game/img/powerups/icons/gift.svg",lg:"https://cf.quizizz.com/game/img/powerups/icons/gift.svg"},description:"Award your friends extra score!",notification:{onActivate:"You just helped your friend get extra score!"},targetting:{selectionHeader:"Gift bonus score to",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-gift",boxType:"gift",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"immediate",scoreChange:800,probability:{type:"local",weight:.9},validateToActivate:function(t){return t.activePlayersList.length>0},validateToApply:function(t,s){return!0},onApply:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.score.pushScore(this.scoreChange)},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Gift' to help a friend."}},"send-prank":{name:"send-prank",status:"disabled",title:"Psych!",styles:{backgroundGradientColor:"rgba(0, 135, 155, 0.5)",backgroundColor:"#005C83",accentColor:"#00879B"},validateToAward:function(t){return!(!(this.status==="enabled")||t.isGameTypeAsync||t.isGameTypeSolo)},target:["players"],icon:"",image:{sm:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png",lg:"https://storage.googleapis.com/quizizz-static-content/game/img/powerups/temp/send-prank.png"},description:"Prank a player of your choice.",notification:{onActivate:"Wooohooo!!!!"},targetting:{selectionHeader:"Who do you wanna mess with?",count:1},meta:["questionId","attempt","targets"],specialEffects:{onActivate:function(t,s){t.targetting.isCurrentPlayerTheTarget(s)&&t.specialEffects.showOverlay({name:"powerupOpenBox",data:{powerupName:"send-prank",boxType:"prank",targets:t.targetting.getPowerupTargets(s),applier:t.targetting.getPowerupApplier(s)}})},onApply:function(t){},onDestroy:function(t){}},shouldHidePowerupEffect:!0,shoudlDisableNotificationForReceiver:!0,powerupType:"positive",disableAwardingWhileActivated:!0,activationScope:"game",applicationScope:"answer",destroyOn:"response",probability:{type:"local",weight:.9},validateToActivate:function(t){return!0},validateToApply:function(t,s){return!0},onApply:function(t,s){},onDestroy:function(t){},help:{tips:[]},nudge:{type:"preQuestion",priority:1,text:"Hey, use the 'Psych!' to mess with a friend."}}},$t={CURRENT_CONFIG_API_VERSION:20,getConfig(){return UI}},BI=["Ela Coyne","Riva Baumgartner","melita","Katy","Violette Rendon","Prashant Iyyer","Charis Rosenthal","Mitsue Escobar","Tanesha Whitney","Cristine Tapia","shanita77","Libby Dunaway","Shery Asbury","Rasheeda Orta","Arlinda Fine","Abby Shake!","Lucinda Petit","Deloise Lau","My job in","Yang Hoy","Jong","Darth Sarth","Isabelle Keeler","tianna daley","Doretta Crawley","Miguelina Faber","Leeann Winter","Margery","Priscila Langdon","Alexandria Wenger","Ernestina Short","Annmarie Duong","Thora Carrington","R@yf0rd #ubert","Anika Clarkson","In3s C00k3","Leana Mcclain","Minh Bundy","Andera","Alysa Macias","Cheree Weathers","Sood da Dood","Lindsay Cutler","Nestor Worth","Indira Moll","Tristan Gregg","alex123","Jon Guyton","Britta Ison","Your not their","3D Waffle","Any rude","Papa Smurf","VeeJaaYaa","Pepper Legs","101","Pracker","Pinball Wizard","Accidental Genius","Hyper","Pluto","Alpha","Jester","Sew-raj","Airport Hobo","Jigsaw","Prometheus","Bearded Angler","Joker's Grin","DeeChee","Beetle King","Judge","Pusher","Bitmap","Junkyard Dog","Riff Raff","Blister","K-9","Roadblock","Bowie","Sham eel","Rooster","A new raag","Kickstart","Sandbox","Breadmaker","Scrapper","Nimbus 2000","Kingfisher","Bugger","Knuckles","Shadow Chaser","Sherwood Gladiator","Liquid Science","Little Cobra","Little General","Sky Bully","Lord Pistachio","Sour Tuck","Snake Eyes","Chocolate Thunder","Snow Hound","Chuckles","Sofa King","Cool Whip","Marbles","Spider Fuji","Couch Potato","Crash Override","Marshmallow","Squatch","Crash Test","Harvester of Sorrow","Crazy Eights","Mercury Reborn","Criss Cross","Midas Touch","Cross Thread","Midnight Rambler","2shower","Ciao Ciao","Midnight Rider","Swerve","Mindless Bobcat","Tacklebox","Mr. 44","Take Away","Dark Horse","Ms. Fabulous","Tan Stallion","Day Hawk","Mr. Gadget","The China Wall","Desert Haze","The Dude","Action Dre","Mr. Peppermint","The Flying Mouse","Disco Thunder","Disco Potato","Mud Pie Man","Dropkick","Nacho","Natural Mess","Troubadour","Necromancer","Turnip King","Twitch","Nessie","Vagabond Warrior","Flint","Nickname Master","Vortex","Dark Matter","2nd Hand Joe","Flotsams54","Core 2 Dua","Mechani-Man","Kazami of Truth","Gbbledgoodk","High Beam","Eye Devil","Tea Kettle","MrOnsTr","Wrangler Jim","a(n) kid","Ameeno Acid","Flyswat Briggs","All eye do is Win","Scooby Did","Unseen","Crossing Guard","Bad Bond","Easy Mac","Sky","Toxic-oxide","Corner pears on","GiddeeUP","sagar curry raa","DragonBlood","Tse Tse Fly","Shay8910","IceDog","Sloth","minecrafter121","Skool","Multicorn","Noise Toy","Flash","Achilles Mountain","Whip Chu","Elektrik","Shoo Bam","LocKz","Coldy","spookoku","SneakerKid"];function HI(e,t,s,n){Math.seedrandom(s);for(let a=0;a<t;a++)for(let o=0;o<e.length;o++){const i=e[o];let r=1,c=1;const l=i.accuracy>Math.random()*100;n?r=Math.random():c=Math.random();const p=l?ha.BASE*c+ha.TIMER*r:0;i.score+=Math.round(p/10)*10}return e}function VI(e,t,s,n){const a=Math.PI,o=Math.E,i=34;var r=1;let c=0,u=0;for(var l=0;l<10;l++){var r=l/10,p=Math.pow(2*a*t*t,-.5)*Math.pow(o,-1*Math.pow(r-e,2)/(2*t*t));c+=p}const d=s/c,g=[];for(var l=9;l>=0;l--){var r=l/10,p=Math.pow(2*a*t*t,-.5)*Math.pow(o,-1*Math.pow(r-e,2)/(2*t*t));let A=Math.round(p*d);A==0&&u>0&&u<s&&(A=s-u);for(let _=0;_<A;_++){if(u++,u>s){u--;break}let v=`Player ${u}`;u<n.length&&(v=n[g.length]);const y={playerId:v,score:0,monsterId:u%i,origin:"bot",rank:u,accuracy:5+100*r};g.push(y)}}return g}function Yu(e,t,s,n,a,o,i,r,c){const u=e==null||e.length!=24?"5b7d0aa503fa930019364cc8":e;rg(e,{global:!0});const l=a=="waiting"?"waiting":"leaderboard",p=o&&ni(o.timer)?o.timer!==Gt.Timer.OFF:!0,d=i?isNaN(i)||i<0?20:parseInt(i):20,g=r?isNaN(r)||r<=0||r>=1?.7:r:.7,h=15+Math.round(Math.random()*10),E=t==null||t.length<1?Eu:t,A=s==null||s<0?0:s,_=n;(u!=e||a!=l||E!=t||_!=n)&&console.error("Invalid inputs provided to leadGen, falling back to default values."),l=="leaderboard"&&d!=i&&console.error("Invalid inputs provided to leadGen for leaderboard mode, falling back to default values.");const v=cg.shuffle(BI,u),y=g>.5?(1-g)/3:g/3;let N=VI(g,y,h,v);l=="leaderboard"&&(N=HI(N,d,u,p)),N.push({playerId:E,score:A,monsterId:_,origin:"web",rank:1,accuracy:5+Math.random()*90}),N=qs(N,["score"],["desc"]);for(let G=0;G<N.length;G++)N[G].rank=G+1;return N}const jP={WIN:"WIN",LOSE:"LOSE",TIME_UP:"TIME_UP"},bn={OBSTACLE_AVOIDANCE:"obstacle-avoidance",DANGEROUS_CAVE:"dangerous-cave",MATCHING_PAIRS:"matching-pairs",CIRCLE_WARS:"circle-wars"},$P={EASY:"easy",MEDIUM:"medium",HARD:"hard"},$o={OBSTACLES:"obstacle",POWERUP_SELECTION:"powerup_selection",LEVEL_UP:"level_up",PATH_FINDER:"path_finder",WAITING_FOR_OTHERS:"waiting_for_others"};function jI(e,t=[]){return e===re.MYSTIC_PEAK&&t&&t.length>0}function $I({gameMode:e,breakRoomArr:t=[]}){return{shouldShow:jI(e,t),breakRoomType:$o.POWERUP_SELECTION}}const yr={powerup:"powerup",safeSpot:"safe_spot",obstacle:"obstacle"},WI={[bn.OBSTACLE_AVOIDANCE]:{name:bn.OBSTACLE_AVOIDANCE,title:"Landslide",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg"},description:"Run away from the falling rocks",actionDescription:"Escape the Land Slide",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You were hit by the rock",gameWinTitle:"You crossed the landslide"},[bn.DANGEROUS_CAVE]:{name:bn.DANGEROUS_CAVE,title:"Swarm Attack",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png"},description:"Save yourself from the scary swarm",actionDescription:"Escape the Swarm Attack",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You were killed by the swarm attack",gameWinTitle:"You survived the swarm attack"},[bn.MATCHING_PAIRS]:{name:bn.MATCHING_PAIRS,title:"Find your essentials",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg"},description:"Find your essentials",actionDescription:"Find your essentials",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You ran out of time",gameWinTitle:"You found all the essentials"},[bn.CIRCLE_WARS]:{name:bn.CIRCLE_WARS,title:"Circle Wars",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",lg:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",xl:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png"},description:"Circle Wars",actionDescription:"Circle Wars",gameInstruction:"Click anywhere to continue",gameLoseTitle:"You ran out of time",gameWinTitle:"You carved your way out"}},YI={eraser:{title:"eraser",styles:{backgroundGradientColor:"rgba(211, 48, 61, 0.5)",backgroundColor:"#5A0C0C",accentColor:"#CF1A28"},description:"Eliminate one incorrect option.",image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/Eraser.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/eraserxs.svg"}},"50-50":{title:"50/50",description:"Make half the incorrect options disappear.",styles:{backgroundGradientColor:"rgba(251, 152, 140, 0.5)",backgroundColor:"#E33E4E",accentColor:"#FB988C"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50WithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/50-50xs.svg"}},immunity:{title:"Immunity",description:"Get a second chance after an incorrect answer.",styles:{backgroundGradientColor:"rgba(242, 79, 201, 0.5)",backgroundColor:"#451431",accentColor:"#F24FC9"},image:{sm:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunity.svg",lg:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityWithBg.svg",xs:"https://cf.quizizz.com/join/img/mystic_peak/powerups/immunityxs.svg"}}},WP={powerup:"https://cf.quizizz.com/join/img/mystic_peak/powerup-arrow.svg",powerup_disabled:"https://cf.quizizz.com/join/img/mystic_peak/powerup-disabled.svg",obstacle:"https://cf.quizizz.com/join/img/mystic_peak/obstacle-arrow.svg"},YP={[bn.OBSTACLE_AVOIDANCE]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/LanslideEducationNew.svg",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/landslide-icon.svg",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/landslide.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/mobile-landslide.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/landslide-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/landslide-oops.png"},[bn.DANGEROUS_CAVE]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/powerups/BatCaveEducation.svg",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/batcave.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/mobile-batcave.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/swarm-icon.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/swarm-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/swarm-oops.png"},[bn.MATCHING_PAIRS]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-education.png",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/matching-pairs-bg-mobile.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/fye-icon.svg",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/fye-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/fye-oops.png"},[bn.CIRCLE_WARS]:{gameImage:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-education.png",bgSrc:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg.png",bgSrcMobile:"https://cf.quizizz.com/join/img/mystic_peak/circle-wars-bg-mobile.png",gameInstructionImage:"https://cf.quizizz.com/join/img/mystic_peak/laser-gun.png",gameIcon:"https://cf.quizizz.com/join/img/mystic_peak/circle-icon.png",gameWinImage:"https://cf.quizizz.com/join/img/mystic_peak/circlewars-yay.png",gameLoseImage:"https://cf.quizizz.com/join/img/mystic_peak/circlewars-oops.png"}},kr={Timers:{MAX_TIME_TO_WAIT_FOR_IMAGES:5e3,ANSWER_TO_MEME:{MIN_SECONDS:2.5,MAX_SECONDS:7,TIME_TO_VIEW_CORRECT_ANSWERS:2,NO_OF_WORDS_CEIL:7,IMAGE_WORTH_IN_WORDS:7,MATHEX_WORTH_IN_WORDS:9,UNSKIPPABLE_FRACTION:.75},MemeToLeaderboard:{NO_MEME:0,WITH_MEME:4e3,WITH_ANSWER_EXPLANATION:25e3,WHEN_COMING_FROM_INTERRUPTED:1500},LeaderboardToNextQuestion:{NO_LEADERBOARD:0,WITH_LEADERBOARD:3e3}},HOLD_TO_PAUSE:50,ResponseIndicatorTimer:{BASE:3e3,WHEN_BONUS_POINTS:1e3},SWIPE_THRESHOLD:20,SlideInteractionDisplayDelays:{BASE:3e3},SpeedsByGrade:[{key:0,value:"Kindergarten",wpm:40,age:5},{key:1,value:"1st Grade",wpm:53,age:6},{key:2,value:"2nd Grade",wpm:89,age:7},{key:3,value:"3rd Grade",wpm:107,age:8},{key:4,value:"4th Grade",wpm:123,age:9},{key:5,value:"5th Grade",wpm:139,age:10},{key:6,value:"6th Grade",wpm:150,age:11},{key:7,value:"7th Grade",wpm:150,age:12},{key:8,value:"8th Grade",wpm:150,age:13},{key:9,value:"9th Grade",wpm:200,age:14},{key:10,value:"10th Grade",wpm:200,age:15},{key:11,value:"11th Grade",wpm:200,age:16},{key:12,value:"12th Grade",wpm:200,age:17},{key:13,value:"University",wpm:300,age:[18,24]},{key:14,value:"Professional Development",wpm:220,age:25}],SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION:3};function KI(e,t,s,n,a){const o=O.isExactly(a,O.List.IN_GAME.WAITING),r={gameData:{roomHash:e,playerId:n,gameType:t,gameState:s},startSource:Ze.get(Ze.List.RECONNECT_REJOIN)};return{shouldRejoinRoom:o,rejoinParams:r}}function JI(e,t,s={}){let n={};const{attempt:a,questionId:o}=t;S(s)?S(t)||e[o][a]===Us.NOT_SENT&&(n=t):n=s;const i=!S(n);let r=e;if(i){const c=ut(n.attempt)?n.attempt:0;r={...e},r[n.questionId]={...r[n.questionId],[c]:Us.SENDING}}return{allResponseStatuses:r,isCallRequired:i,responseToBeSent:n}}function XI(e,t,s,n,a,o,i,r,c,u,l,p,d,g,f,h,E,A,_,v,y,N,G,z,Q,H,w,I,M,J,K,fe,P){var gt;const oe=s===Je.SOLO?P.data:P,X=Ts(e),ie=oe.powerupEffects||[],{breakRoomArr:ge}=oe,{mysticPeakLeaderboard:Ce,mysticPeakLevelArray:Fe,mysticPeakLevel:ve}=P,{mysticPeakLevelBoard:ot}=oe,{mysticPeakTieredRank:$}=P,{answerExplanation:ne}=P,Ie=Zt(ie,Ue=>Ue.status===fa.DESTROYED),qe=((gt=oe.metadata)==null?void 0:gt.extraLife)||[],{isAdaptiveLearningGame:at}=fe,$e=oe.breakRoomDifficulty||"";let tt=Q,vt=H,Pt=M,Te=J,Ne={},me={score:0,marks:0,totalCorrect:0,currentStreak:0,accuracy:0,firstAttempts:0,firstCorrectAttempts:0,firstAttemptMarks:0,firstAttemptAccuracy:0},Se={};if(P.err&&!S(P.err))throw{response:{type:"response.CANT_SAVE",success:!1,error:P.err}};if(!S(oe.response)){const{response:Ue}=oe,se=n_({extraLifeArray:qe,currentId:Ue.questionId}),Ee=ut(Ue.attempt)?Ue.attempt:0,ke=Jr(p[Ue.questionId],(D,Z)=>Z!=="provisional");if(z={id:Ue.questionId,attemptIndex:p[Ue.questionId].length},Se={...k(oe,"question",{}),id:Ue.questionId,state:dn.REVEAL},c===es.NONE&&delete Se.state,X[Ue.questionId][Ee]=Us.SENT,Ne={...Ue,...ke,isEvaluated:!0},t.showAnswers!==Gt.ShowAnswers.NEVER){const D=fe.totalQuestionAttempted;let Z=E,pe=A,de=_,ce=v;if(!Gn.ANSWER_LATER_RESPONSE_STATES.includes(Ue.state)){if(Ue.isCorrect){const kt=[Ua.PARTIALLY_CORRECT,Ua.CORRECT];if(ut(Ue.marks)&&Ue.marks>0){if(kt.includes(Ue.result)){const Tt=p[Ue.questionId];if(Tt&&Tt.length>1){const _s=Tt[Tt.length-2];d-=_s.marks||0}}d+=Ue.marks}if(kt.includes(Ue.result)){const Tt=p[Ue.questionId];Tt&&Tt.length>1&&Tt[Tt.length-2].isCorrect&&(Z-=1)}Z+=1}Ue.attempt===0&&(pe+=1,Ue.isCorrect&&(de+=1,ut(Ue.marks)&&Ue.marks>0&&(ce+=Ue.marks)))}let he=0,ue=0;const Ve=at?g:a||0,et=at?t.questionsPerAttempt:o;Ve>0?(he=Math.round(d*100/Ve),ue=Math.round(ce*100/Ve)):Ve===0?(he=Math.round(D*100/et),ue=Math.round(pe*100/et)):(he=Math.round(Z*100/et),ue=Math.round(de*100/et));let st=f;!S(oe.player)&&ut(oe.player.currentStreak)?st=oe.player.currentStreak:st=Ue.isCorrect?f+1:0,me={score:h+(se?0:Ue.score),marks:d,totalCorrect:Z,currentStreak:st,accuracy:he,firstAttempts:pe,firstCorrectAttempts:de,firstAttemptMarks:ce,firstAttemptAccuracy:ue}}}const Qe=ut(r)&&r/100||.5;switch(s){case Je.SOLO:tt=Yu(i,y,me.score||0,N,"leaderboard",t,fe.totalQuestionAttempted,Qe);break;default:if(oe.leaderboard&&oe.leaderboard.length&&(tt=Wh(oe.leaderboard),z={id:u,attemptIndex:fe.currentQuestionCurrentAttemptIndex}),oe.teamLeaderboard&&oe.teamLeaderboard.length>0){vt=Yh(oe.teamLeaderboard,n),z={id:u,attemptIndex:fe.currentQuestionCurrentAttemptIndex};const Ue=K,se=Ut(vt,Ee=>Ee.teamId===Ue);if(se){n=Ts(n);const Ee=Ut(n,ke=>ke.teamId===Ue);Ee&&(Ee.score=se.score),Te=se.score,Pt=se.rank}}w=oe.playerCount||Math.max(w||0,tt.length>0&&tt[tt.length-1].rank||0),I=oe.teamCount||Math.max(I||0,vt.length>0&&vt[vt.length-1].rank||0)}const He=Eo(X,[Us.SENDING,Us.NOT_SENT]),Xe=l.length===0&&Qs(He).length===0,Rt=oe==null?void 0:oe.duelInfo;return{leaderboard:tt,totalPlayers:w,forQues:z,currentPlayerRank:hm(tt,y),previousPlayerRank:G,teamLeaderboard:vt,totalTeams:I,teams:n,currentTeamScore:Te,currentTeamRank:Pt,previousTeamRank:M,powerupEffects:ie,powerupEffectsDestroyed:Ie,answerExplanation:ne,allResponseStatuses:X,allResponsesSent:Xe,updatedResponse:Ne,playerStats:me,updatedSlide:Se,extraLife:qe,breakRoomArr:ge,mysticPeakLevelBoard:ot,mysticPeakTieredRank:$,currentDifficulty:$e,mysticPeakLeaderboard:Ce,mysticPeakLevelArray:Fe,duelInfo:Rt,mysticPeakLevel:ve}}function ZI(e){const{gameMode:t,gameType:s,gameOptions:n,roomHash:a,quizVersionId:o,player:i,questions:r,playerResponse:c,powerupEffectsToDestroy:u}=e,{allOrderedResponses:l,areQuestionAttemptsLeft:p}=r,d=Array.isArray(u),g=n.updatedAt,f={roomHash:a,playerId:i.playerId,response:c,questionId:r.currentId,powerupEffects:{destroy:[]},gameType:s,gameOptionsUpdatedAt:g,quizVersionId:o,elapsed:0,isLastPlayerResponse:!1};if(s===Je.ASYNC){let h=0;l.length||(h=aS(l)),f.elapsed=h}if(t===re.CHALLENGE&&!p&&(f.isLastPlayerResponse=!0),t===re.PRESENTATION&&(s===Je.ASYNC||s===Je.SOLO)&&!S(r.remainingOrder)){const h=r.remainingOrder[0],E=Ms(r.initSequence,A=>A===h);f.metadata={qId:h,qIdIndex:E}}return b.invariant(d,["payloadForProceedGame: powerupEffectsToDestroy is not valid. Recieved - ",u],{logOnSentry:!0}),It(u,h=>{const E=!S(h);b.invariant(E,["payloadForProceedGame: powerupEffect is not valid. All effects recieved - ",u],{logOnSentry:!0}),E&&f.powerupEffects.destroy.push(h)}),f}function up(e,t,s,n,a,o,i,r,c,u){return s.hasRedemptionPass===Gt.hasRedemptionPass.YES?ti.shouldShowRedemptionQuestion(e,t,s,o,i,a.length,n.length):Gm.shouldShowRedemptionQuestion(e,t,s,r,o,c.length,u,i)}function $r({getters:e,remainingQuestionsOrder:t,isProceed:s}){return s?t.filter(n=>!e.comprehensionQuestionIds.includes(n)):t.filter((n,a)=>a>e.numberOfComprehensionQuestionsUnattempted||n!==e.currentId)}function bc({remainingOrder:e,answerLaterQuestions:t,currentId:s,doneOrder:n,isInComprehensionView:a,slidesFlowControlType:o,list:i,totalQuestionsInGame:r,isCurrentQuestionForRedemptionAttempt:c,comprehensionQuestion:u,orderedOriginalResponses:l,orderedRedemptionResponses:p,initSequence:d,skippedQuestions:g,roomHash:f,gameType:h,gameMode:E,gameOptions:A,playerId:_,extraLife:v,getNextQuestion:y,readAloud:N,isAtGamePlayStart:G,getters:z,isProceed:Q,answerLaterFlow:H=!1}){let w=[...e];const I=z.currentId||s,M=[...n],{isMasteryMode:J}=z,K=I==="",fe={roomHash:f,gameType:h,playerId:_};let P=!1,j={},oe=!1,X=I,ie=!1,ge=w.length>0,Ce=[],Fe=[],ve=!1,ot=!1;if(J&&!G&&(ge=w.length>0||I!==""),G&&up(h,E,A,e,t,l,p,r,g,d))ie=!0,oe=!0,ge=!0,X="";else if(ge){if(ge=!!w.length,z.isInComprehensionView&&!Q)if(H)if(z.nextUnAttemptedComprehensionQuestionId)X=z.nextUnAttemptedComprehensionQuestionId;else{const tt=y(w);X=(tt==null?void 0:tt.id)||I}else X=z.nextUnAttemptedComprehensionQuestionId||I;else{const tt=y(w);I===""&&(tt!=null&&tt.comprehensionQuestionId)?X=tt.id:X=w.shift()}const Ie=Ut(i,tt=>tt.id===X),qe=li(Ie)?Ie.options:[],$e=((Ie==null?void 0:Ie.type)===Y.CONTENT_SLIDE||(Ie==null?void 0:Ie.type)===Y.CONTENT_SLIDE_V2)&&!S(k(Ie,"structure.bullets"));oe=X in i,Ce=Nt(qe,()=>({isVisible:!0})),Fe=ie?["game"]:["game","question"],N&&o!==es.NONE&&$e&&(P=!0,j={...Ie,metadata:{...Ie.metadata||{},currentBulletIndex:Ie.structure.bullets.length-1}})}H&&!ge&&(X="",oe=!0),I&&!(K||Q)&&M.push(I),!ge&&t.length>0&&(oe=!0,ge=!0,w=[...t],ve=!0,H||(X=w.shift())),a&&(oe=!0),v.length>0&&(ot=v.filter(({status:qe})=>qe===po.IN_PROGRESS).map(({questionId:qe})=>qe).includes(X));const $={questionId:X,doneOrder:M,remainingOrder:w,currentOptionsAppearance:Ce,powerupScopes:Fe};let ne=!1;return Q?ne=!ge:ne=!ge&&(c||!u),{mutationPayload:$,areThereQuestionsLeftToShow:ge,canEnd:ne,isQuestionToShowValid:oe,shouldShowRedemptionQuestion:ie,gameData:fe,shouldUpdateSlide:P,updatedSlide:j,showingAnswerLaterQuestions:ve,shouldReplayQuestionForAE:ot}}function eS(e){const{doneOrderForEvaluatedQuestions:t,remainingOrder:s}=qt(),n=[...s];return{mutationPayload:{questionId:e,doneOrder:t,remainingOrder:n,powerupScopes:["game"]}}}function dd(e,t,s,n,a,o,i,r,c,u,l,p,d,g,f,h,E,A,_,v){let y={},N={};const G=[...e],z=_.currentId||t,Q=_.doneOrderForEvaluatedQuestions,H=G.length<1&&E&&(_.isInComprehensionView?v:!0),w=!_.isInComprehensionView&&!H&&G.length<1&&a.length>0;let I=!_.isSkipQueueInProgress&&(!_.isInComprehensionView||v||o)&&!w&&up(d,g,f,e,a,i,r,c,u,l);ii({gameType:d,gameMode:g,isMasteryMode:_.isMasteryMode})&&(I=!1);const M=_.isCurrentQuestionSkipped?{}:km(n,z),{shouldShow:J}=$I({gameMode:g,breakRoomArr:p}),K=e.length>0,fe=(_.isCurrentQuestionSkipped||tr(M))&&K&&J,P=A===h[h.length-1];let j=!1;return _.isMasteryMode&&(s.length+1)%kr.SHOW_LEADERBOARD_AFTER_EVERY_NTH_QUESTION===0?j=!0:j=!1,v||Q.push(z),H&&(y={questionId:"",doneOrder:Q,remainingOrder:G,powerupScopes:["game"]}),I&&(y={questionId:"",doneOrder:Q,remainingOrder:$r({getters:_,remainingQuestionsOrder:G,isProceed:v}),currentOptionsAppearance:[],powerupScopes:["game"]}),w&&(N={questionId:"",doneOrder:Q,remainingOrder:$r({getters:_,remainingQuestionsOrder:G,isProceed:v}),powerupScopes:["game"]}),{shouldShowRedemptionQuestion:I,mutationPayload:y,shouldShowAnswerLaterQuestions:w,answerLaterMutationPayload:N,shouldShowBreakRoom:fe||P&&K,hasReachedMasteryForMysticPeak:P,shouldShowReviewQuestions:H,shouldShowMasteryCountdown:j}}function Nc({playerId:e,roomHash:t,currentId:s,monsterId:n,gameType:a,getters:o,id:i,name:r="",meta:c={}}){const l=$t.getConfig()[r].meta,p={id:i,powerupId:i,playerId:e,roomHash:t,meta:{},gameType:a,name:r};return l.push("playerId","monsterId"),p.meta={...Ku({playerId:e,currentId:s,monsterId:n,name:r,metaProps:l,getters:o,meta:c})},p.meta={...p.meta,player:{playerId:e,monsterId:n}},p}function Ku({playerId:e,currentId:t,monsterId:s,name:n,metaProps:a,getters:o,meta:i}){const r=$t.getConfig(),c={};return It(a,u=>{u==="questionId"&&(c.questionId=t),u==="attempt"&&(c.attempt=o.currentQuestionCurrentAttemptIndex),u==="startTime"&&(c.startTime=new Date().getTime()),u==="scoreChange"&&(c.scoreChange=r[n].scoreChange),u==="powerupsToActivate"&&(c.boxPowerups=r[n].powerupsToActivate),u==="playerId"&&(c.playerId=e),u==="monsterId"&&(c.monsterId=s),u==="targets"&&(c.targets=i.targets||[]),u==="streakChangeBy"&&(c.streakChangeBy=r[n].streakChangeBy)}),c}function tS(e,t,s,n,a,o,i,r,c,u){const l=a,p=c.currentQuestion,d={currentOptionsAppearance:[],powerupScopes:["game","question"]},g=o===!0;let f=!1,h=!1,E=!1,A=!1,_=!1,v={},y={};const N=i===Ct.COMPLETED,G=r,z=k(p,"structure.bullets",[]),Q=k(p,"metadata.currentBulletIndex",-1),H=z.length,w=H>=0,I=u==="forward"?Q+1:Q-1,M=c.isLessonInStudentPacedMode&&c.currentQuestionNumber===c.studentPacedEndQuestionNumber,J=c.isCurrentSlideInteractable||!w||u==="backward"||I<0||I>=H;if(u==="backward"&&c.currentQuestionNumber<=1)f=!0;else if(u==="forward"&&S(s)&&J)h=!0;else if(u==="forward"&&M)f=!0,h=!1;else{let K="";if(u==="forward"?[K]=s:K=n[c.currentQuestionNumber-1-1],c.isCurrentSlideForContent&&!J&&(E=!0,v={id:l,state:p.state,metadata:{currentBulletIndex:I}}),J){const fe=e[K],P=k(fe,"structure.bullets",[]).length,j=fe.type===Y.CONTENT_SLIDE,oe=[...s],X=[...t];if(u==="forward"?oe.shift():oe.unshift(l),u==="backward"&&yt().gameMode===re.FLASHCARD){const ie=X.pop();ie&&Ra().revertFlashcardSelection(ie)}else X.push(l);if(A=!0,d.questionId=K,d.doneOrder=X,d.remainingOrder=oe,c.isCurrentSlideForContent&&!N&&!G&&(_=!0,y={questionId:K}),j){let ie=u==="forward"&&!g?-1:P-1;if(P>0){const ge=k(fe,"structure.title.text",""),Ce=ug(ge,"<p><br /></p>","");!S(Ce.trim())||ie===-1&&u==="forward"&&(ie=0)}E=!0,v={id:K,state:fe.state,metadata:{currentBulletIndex:ie}}}}}return{isNotAllowedToProceed:f,areQuestionsOver:h,shouldUpdateSlideState:E,updateSlidePayload:v,shouldUpdateCurrentSlide:A,setCurrentQuestionMutationPayload:d,isGameCompleted:N,shouldUpdatePlayerMetadata:_,updateMetadataPayload:y}}function sS(e,t,s,n){const a=n.gameState||"",o=t,i=Ut(e,p=>!Jt([dn.INACTIVE,dn.COMPLETED],p.state));let r=!1,c=!1,u=!1,l={};if(a){const p=a===Ct.STOPPED||a===Ct.COMPLETED;r=o===Ct.RUNNING&&p,c=s===es.NONE}return S(i)||(u=!0,l={nextQuestion:{questionId:i.id}}),{shouldEndGame:r,areAllPlayerSlidesDone:c,shouldUpdateSlide:u,updateSlidePayload:l}}function nS(e,t,s,n,a,o,i,r,c,u){const l=!S(c.currentQuestionCurrentAttemptResponse);let p={},d={};if(l){const g=Eo(t,[Us.NOT_SENT]),f={...Ts(c.currentQuestionCurrentAttemptResponse),response:u};p={playerStats:{score:c.currentQuestionCurrentAttemptResponse.score,marks:c.currentQuestionCurrentAttemptResponse.marks,accuracy:s,totalCorrect:n,currentStreak:a},response:f,questionType:c.currentQuestion.type,updatedLeaderboardList:i,powerupScopes:["game"],responsesRemaining:Qs(g).length,shouldStoreResponseStatus:!1},d={questionId:e,roomHash:r,playerId:o,response:f}}return{hasCurrentQuestionBeenAnswered:l,mutationPayload:p,updateResponsePayload:d}}function Ir(e){return Nt(e,t=>({id:t._id,name:t.name,status:t.status,meta:t.meta}))}function aS(e){const t=e;let s=0;It(t,o=>{s+=o.timeTaken});const n=1e3*t.length,a=1e3*t.length;return s+n+a}const oS={STREAK_SAVER:"streak-saver"};function KP(e="",t,s=!1,n=Sa.default){const a=$t.getConfig(),o={...YI,...WI};if(e!==""){if(s){if(e==="glitch")switch(n){case Sa.fuji:return"https://cf.quizizz.com/img/mpThemes/fuji/images-compressed/avalanche/icon.svg";case Sa.kilimanjaro:return"https://cf.quizizz.com/img/mpThemes/kilimanjaro/images-compressed/avalanche/icon.svg";default:return"https://cf.quizizz.com/join/img/mystic_peak/avalanche-new.png"}return o[e].image.xs}return t===Ft.PHONE?a[e].image.sm:a[e].image.lg}return""}function JP(e=""){const t=$t.getConfig();return!e||!t[e]?"":`linear-gradient(180deg, ${t[e].styles.backgroundGradientColor} 0%, rgba(0, 0, 0, 0) 125%), #000000`}function iS(e,t={}){const a=[],o=$n(t,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:2}),i=o.beltSize+o.minimumBufferBetweenEnd+1;let r=0;const c=()=>e-r,u=()=>r===0?10:8;if(e<=0)return a;for(o.rewardBeforeQuestionStart&&a.push(0);c()>=u();){if(c()<=u()+o.minimumBufferBetweenEnd)return a;if(c()<u()+i)return r+=u()-o.minimumBufferBetweenEnd,a.push(r),a;r+=u(),a.push(r)}return a}function rS({powerups:e,currentPowerupEffects:t,currentlyAwardedPowerups:s,areAllRemainingQuestionsMSQ:n,areAllGameQuestionsWithoutCorrectAnswer:a,doesRemainingQuestionsOptionsCountEqualsTwo:o,isTimerOn:i,gameType:r,areAllRemainingQuestionsFIB:c}){const u=[],l={areAllRemainingQuestionsMSQ:n,areAllGameQuestionsWithoutCorrectAnswer:a,doesRemainingQuestionsOptionsCountEqualsTwo:o,isTimerOn:i,isGameTypeSolo:r===Je.SOLO,isGameTypeAsync:r===Je.ASYNC,areAllRemainingQuestionsFIB:c},p=Wi(t,"name"),d=Wi(s,"name");return It(e,g=>{const{type:f}=g.probability,{weight:h}=g.probability;let E=!0;const A=p[g.name]||0,_=d[g.name]||0;f==="global"&&A===h&&(E=!1),g.validateToAward(l)&&E&&u.push({...g,numTimesAwarded:_})}),u}function cS(e,t){var p;let s=0,n=0;const a=4;It(e,d=>{d.probability.type==="local"?s+=d.probability.weight/a**d.numTimesAwarded:d.probability.type==="global"&&(n+=t.totalPlayers<=15&&t.beltId<=0?d.probability.weight:0)});const o=t.maxPowerupsPerPlayer*Math.max(t.totalPlayers,15),i=(o-n)/s,r=[];let c=0;It(e,d=>{let g=0;d.probability.type==="local"?g=i*(d.probability.weight/a**d.numTimesAwarded):d.probability.type==="global"&&(g=2*d.probability.weight),c+=g/o;const f={range:c,powerUpName:d.name};r.push(f)});const u=cr(0,((p=xr(r))==null?void 0:p.range)||0);let l="";for(let d=0;d<r.length;d++){const g=d===0?0:r[d-1].range,f=r[d].range;if(g<=u&&f>=u){l=r[d].powerUpName;break}else if(d===r.length-1)return r[d].powerUpName}return l}function md(e,{currentId:t,list:s,powerupList:n,playerId:a,monsterId:o,gameType:i,totalPlayers:r,getters:c}){const u=c.currentQuestionCurrentAttemptResponse,l=$t.getConfig(),p=Nt(l,f=>f),d=(c.powerupsGameplay.maxInitialShufflesAllowed+c.powerupsGameplay.rewardPositions.length)*c.powerupsGameplay.normalBeltSize,g=[];for(let f=0;f<e;f++){const h=rS({powerups:qs(p,A=>A.probability.type,"desc"),currentPowerupEffects:s,currentlyAwardedPowerups:n,areAllRemainingQuestionsMSQ:c.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:c.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:c.doesRemainingQuestionsOptionsCountEqualsTwo,isTimerOn:c.isQuestionTimerOn,gameType:i,areAllRemainingQuestionsFIB:c.areAllRemainingQuestionsFIB}),E=cS(h,{maxPowerupsPerPlayer:d,totalPlayers:r,beltId:c.currentPowerupsBeltId});qd(p,A=>A.name===E),g.push({name:E,meta:{...Ku({currentId:t,playerId:a,monsterId:o,name:E,getters:c,metaProps:l[E].meta,meta:{}}),questionId:u.questionId||"",attempt:c.currentQuestionCurrentAttemptIndex,questionNum:c.currentQuestionNumber,beltPosition:f}})}return g}function pd(e){const t=$t.getConfig(),s=[];return It(t,n=>{var a;((a=n.nudge)==null?void 0:a.type)===e&&s.push(n.name)}),qs(s,n=>{var a,o;return(o=(a=t[n])==null?void 0:a.nudge)==null?void 0:o.priority},"asc")}function XP({name:e}){return!!$t.getConfig()[e]}function ZP(e){var t,s,n;return!!((n=(s=(t=e==null?void 0:e.scoreBreakup)==null?void 0:t.powerups)==null?void 0:s[0])!=null&&n.score)}function ek({name:e}){const s=$t.getConfig()[e],a=(s.target||[]).includes("players"),o=a?s.targetting.count:0;return{shouldTarget:a,count:o}}function tk(){const e=$t.getConfig();return ra(e,(t,s,n)=>((s.specialEffects||{}).usesGlowEffect===!0&&t.push(n),t),[])}function uS(e,{currentId:t,playerId:s,monsterId:n,getters:a}){const o=a.currentQuestionCurrentAttemptResponse,i=$t.getConfig();return{name:e,meta:{...Ku({currentId:t,playerId:s,monsterId:n,name:e,getters:a,metaProps:i[e].meta,meta:{}}),questionId:o.questionId||"",attempt:a.currentQuestionCurrentAttemptIndex,questionNum:a.currentQuestionNumber}}}function lS(){const e=qt(),t=Is(),s=e.currentId,n=e.currentQuestionCurrentAttemptIndex;t.pushTimerEventForQuestion({questionId:s,attempt:n,eventType:aa.RESET}),t.pushTimerEventForQuestion({questionId:s,attempt:n,eventType:aa.FREEZE})}const Dc={resetAndFreezeTimerBar:lS};class dS{constructor(t,s,n){this.addAction=t,this.effectManager=s,this.powerupToActivate=n}activatePowerup(t){const s=Fn();this.addAction(s.activatePowerupFromMysteryBox,t)}getPowerupsConfig(){return $t.getConfig()}}const pr=Ot("powerupEffect",()=>{const e=Dt(),t=m([]),s=m([]);function n(v){t.value.push(v.powerupEffect)}function a(v){const y=Ut(t.value,N=>N.id===v.powerupEffect.id);y&&(y.status=v.powerupEffect.status)}function o(v){t.value=v.powerupEffects}function i(v){s.value=v.powerupEffects}function r(v){s.value=_a(s.value,v.powerupEffects)}function c(v){t.value=v.player.powerupEffects}function u(){t.value=[],s.value=[]}const l=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="streak"&&y.status!==fa.DESTROYED):[]}),p=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="answer"&&y.status!==fa.DESTROYED):[]}),d=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="question"&&y.status!==fa.DESTROYED):[]}),g=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="game"&&y.status!==fa.DESTROYED):[]}),f=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="before-answer"&&y.status!==fa.DESTROYED):[]}),h=T(()=>{const v=$t.getConfig();return Qs(v).length>0?Zt(t.value,y=>v[y.name].applicationScope==="post-answer"&&y.status!==fa.DESTROYED):[]}),E=T(()=>Zt(t.value,v=>v.status==="ACTIVATED")),A=T(()=>{const v=$t.getConfig();return Qs(v).length>0?!1:!!t.value.find(N=>v[N.name].powerupType===Ur.ACTIVATOR&&N.status==="ACTIVATED")}),_=T(()=>{const v=$t.getConfig();return y=>{const{playerId:N}=e,G=t.value.find(z=>v[z.name].powerupType===Ur.ACTIVATOR&&z.id===y);return S(G)?"":G.meta.boxPowerup_0.players.includes(N)?G.meta.boxPowerup_0.name:G.meta.boxPowerup_1.name}});return{destroyList:s,list:t,streakScopePowerupEffects:l,answerScopePowerupEffects:p,questionScopePowerupEffects:d,gameScopePowerupEffects:g,beforeAnswerPowerupEffects:f,postAnswerPowerupEffects:h,activatedPowerupEffects:E,doesMysteryPowerupEffectExist:A,powerupToActivateFromMysteryBox:_,$reset:u,addPowerupEffect:n,updatePowerupEffect:a,updatePowerupEffects:o,updatePowerupEffectDestroyList:i,addPowerupEffectToDestroyList:r,rejoinGameResponded:c}});class lp{constructor(){We(this,"currentPlayerId");const t=Dt();this.currentPlayerId=t.playerId}getPowerupTargets(t){return t.targets||[]}getPowerupApplier(t){return t.player||{}}isCurrentPlayerTheTarget(t){const s=this.getPowerupTargets(t);return S(s)?void 0:s.map(a=>a.id).includes(this.currentPlayerId)}isCurrentPlayerTheApplier(t){return this.currentPlayerId===this.getPowerupApplier(t).playerId}}const sk={overlay:"overlay",toast:"toast"},Vi={teacher:"teacher",student:"student"},Ba=Ot("powerup",()=>{const e=m([]),t=m([]),s=m({}),n=m(Fo.NIL),a=m({}),o=m(!1),i=m(!1),r=qt(),c=yt(),u=Is(),l=Dt(),p=pr(),d=T(()=>{const se=[re.TEST,re.PRESENTATION,re.TEACHER_PACED,re.FLASHCARD,re.MYSTIC_PEAK],{gameMode:Ee,isPowerupsOn:ke}=c;return ke&&!p.doesMysteryPowerupEffectExist&&!se.includes(Ee)}),g=T(()=>({normalBeltSize:3,maxInitialShufflesAllowed:3,nudges:{ratioOfQuestionTimeLeftToShowNudge:50/100,maxSecondsToWaitForWhileAnsweNudge:25},rewardPositions:me(r.totalInteractiveSlidesInGame)})),f=T(()=>(e.value||[]).filter(se=>se.status===Vn.AWARDED)),h=T(()=>{const{rewardPositions:se}=g.value,Ee=Ut(jc([...se]),ke=>r.hasCurrentQuestionBeenAnswered?r.currentQuestionNumber>=ke:r.currentQuestionNumber>ke);return ut(Ee)?Ee:-1}),E=T(()=>h.value),A=T(()=>{const{rewardPositions:se}=g.value,Ee=Ut(se,ke=>r.hasCurrentQuestionBeenAnswered?r.currentQuestionNumber<ke:r.currentQuestionNumber<=ke);return ut(Ee)?Ee:-1}),_=T(()=>A.value>-1?A.value:r.totalQuestionsInGame),v=T(()=>{const se=Zt(e.value,D=>{if(D.isTeacherPowerup)return!1;const Z=D.meta.questionNum;return ut(Z)?lg(h.value,_.value+1).includes(Z):!0}),Ee=Fd(se,D=>D.meta.beltPosition),ke=si(Object.keys(Ee),Number.parseInt);for(let D=0,Z=ke.length;D<Z;D++)Ee[ke[D]]=qs(Ee[ke[D]],[pe=>pe.questionNum,pe=>pe.status===Vn.AWARDED],["asc","asc"]);return ke.map(D=>xr(Ee[D])||{})}),y=T(()=>{if(!d.value)return{};const se=r.currentQuestion.type||"";return{scopes:t.value||[],isQuestionTypeMCQ:se===Y.MCQ,isQuestionTypeOpen:se===Y.MCQ,isQuestionTypeBlank:se===Y.MCQ,doesQuestionHaveCorrectAnswer:nc(r.currentQuestion),options:r.currentQuestion.options||[],activePlayersList:c.activePlayersList}}),N=T(()=>!!Ut(p.list,Ee=>Ee.meta.questionId===r.currentId&&Ee.meta.attempt===r.currentQuestionCurrentAttemptIndex)),G=T(()=>{const se=$t.getConfig();return v.value.map(Ee=>{const ke=se[Ee.name],D=h.value,Z=_.value-D,pe=100-Math.floor((r.currentQuestionNumber-D)/Z*100);if(Ee.status===Vn.ACTIVATED)return{...Ee,isUsed:!0,isDisabled:!0,powerupAvailablityPerc:pe};if(S(ke))return{...Ee,powerupAvailablityPerc:pe};let de=ke.validateToActivate(y.value)&&!N.value&&!Se(Ee.name);const{gameOptions:ce,gameType:he,gameMode:ue}=c;return r.totalQuestionsRemaining===0&&ti.isPass1Completed(he,ue,ce,r.answerLaterQuestions.length,r.remainingOrder.length)&&(de=de&&!["streak-booster","streak-saver","time-freeze"].includes(Ee.name)),{...Ee,isDisabled:!de,powerupAvailablityPerc:pe}})}),z=T(()=>{const{isCurrentQuestionForRedemptionAttempt:se,previousQuestionAddedToAnswerLater:Ee,currentQuestionNumber:ke}=r,D=g.value.normalBeltSize;return se||!d.value||Ee?!1:v.value.length===0?_.value-ke>=D:A.value===ke}),Q=T(()=>{const se=s.value[E.value]||[];return Zt(se,{questionNumber:r.currentQuestionNumber})}),H=T(()=>!S(Q.value)),w=T(()=>{const se=r.currentQuestionNumber-h.value;if(se<3)return!1;const Ee=66/100,ke=g.value.normalBeltSize*g.value.rewardPositions.length,D=Math.floor(Ee*ke);if((s.value[E.value]||[]).length>=D)return!1;const pe=_.value-h.value,de=Zt(G.value,et=>!et.isDisabled).length,ce=de>=g.value.normalBeltSize;let he=0;return se===3&&ce?he=de/(2*g.value.normalBeltSize-de):he=Ee*(de/(2*g.value.normalBeltSize-de))*(se/pe),a.value[r.currentQuestion.id]<=he&&!H.value&&!r.hasCurrentQuestionBeenAnswered&&!r.previousQuestionAddedToAnswerLater}),I=T(()=>n.value>=Fo.START),M=T(()=>{if(!I.value)return-1;const se=n.value;for(let Ee=0,ke=Fo.Powerups.length;Ee<ke;Ee++){const D=dg(Fo.Powerups[Ee]),Z=xr(Fo.Powerups[Ee]);if(se>=D&&se<=Z)return Ee+1}return-1}),J=T(()=>se=>{const Ee=G.value,ke=pd(se);return Ee.filter(D=>!D.isDisabled&&ke.includes(D.name))}),K=T(()=>se=>{const Ee=G.value,ke=pd(se),D=Ee.filter(de=>!de.isDisabled&&ke.includes(de.name));if(D.length<=0)return{};const Z=si(D,de=>Ms(D,ce=>ce===de.name));let pe=Z[0];if(pe.name===oS.STREAK_SAVER&&l.currentStreak<1){if(Z.length===1)return{shouldShow:!1,powerup:""};[,pe]=Z}return{shouldShow:!S(pe),powerup:pe}}),fe=T(()=>{const se=cr(1,10);return!w.value||se<=5?{shouldShow:!1,powerup:""}:K.value(Uf.PRE_QUESTION)}),P=T(()=>e.value.filter(Ee=>Ee.isTeacherPowerup&&Ee.status===Vn.AWARDED)[0]||{}),j=T(()=>{var se;return r.remainingOrder.length===0&&i.value?!1:o.value&&((se=P.value)==null?void 0:se.name)}),oe=se=>{const Ee={isVisible:!1};u.changeOptionAppearance({optionIndex:se,appearanceChanges:Ee})},X=se=>{const Ee={isVisible:!0};u.changeOptionAppearance({optionIndex:se,appearanceChanges:Ee})},ie=se=>{const Ee=Ts(u.currentOptionsAppearance);It(se,ke=>{Ee[ke]={...Ee[ke],wasPreviouslySelected:!0}}),u.changeCurrentOptionsAppearance({currentOptionsAppearance:Ee})},ge=()=>{Ca.$emit("question:clearTypedAnswer")},Ce=()=>{Ca.$emit("question:resetOptions")},Fe=se=>{Array.isArray(s.value[se.beltId])&&(s.value[se.beltId]=[]),s.value[se.beltId].push(se.nudge)},ve=({type:se,questionNumber:Ee,forPowerup:ke})=>{Fe({beltId:E.value,nudge:{type:se,questionNumber:Ee,forPowerup:ke}})},ot=se=>{var Ee;e.value=(Ee=e.value)==null?void 0:Ee.concat(se.powerups)},$=se=>{e.value=e.value.map(Ee=>{const ke=se.powerups.find(D=>D.id===Ee.id);return ke?{...Ee,...ke}:Ee})},ne=se=>{t.value=se.powerupScopes},Ie=se=>{t.value=S(se.powerupScopes)?t.value:se.powerupScopes,gt(!1)},qe=se=>{const Ee=me(se.room.questionIds.length),ke={};It(Ee,de=>{ke[de]=[]});const{powerups:D}=se.player,Z=D.filter(de=>de.meta.source===Vi.teacher).map(de=>({...de,isTeacherPowerup:!0})),pe=D.filter(de=>de.meta.source!==Vi.teacher);e.value=[...pe,...Z],Ue(Z),s.value=ke,a.value=ra(se.room.questionIds,(de,ce)=>{const he=de;return he[ce]=Math.random(),de},{})},at=qe,$e=qe,tt=qe,vt=Te,Pt=Te;function Te(){e.value=[],t.value=[],s.value={},n.value=Fo.NIL,a.value={}}const Ne=se=>{n.value=se.progress};function me(se){return iS(se,{rewardBeforeQuestionStart:!0,beltSize:3,minimumBufferBetweenEnd:0})}function Se(se){const Ee=Ut(p.activatedPowerupEffects,Z=>Z.name===se);return!Ee?!1:!new lp().isCurrentPlayerTheTarget(Ee.meta)}function Qe(se){ot({powerups:{...se.powerup,isTeacherPowerup:!0}})}function He(se){o.value=!0,Qe(se)}function Xe(){P.value.name&&Fn().activatePowerup({...P.value,meta:{source:Vi.teacher}}),Rt()}function Rt(){o.value=!1}function gt(se){i.value=se}function Ue(se){if(se.length>0){const Ee=se.filter(ke=>ke.status===Vn.AWARDED);if(Ee.length){const ke={powerup:Ee[0],isTeacherPowerup:!0};He(ke)}}}return{list:e,currentScopes:t,nudgesInteracted:s,powerupBoxAwardProgress:n,nudgesQuestionProbabilityMap:a,powerupWaitingToBeApplied:i,canPowerupsBeAwardedInThisGame:d,powerupsGameplay:g,availablePowerups:f,currentPowerupsBeltId:E,powerupsInBelt:v,payloadForActivateValidation:y,isPowerupActivatedForCurrentQuestionAndAttempt:N,usablePowerupsBelt:G,questionNumForNextPowerupReplace:A,beltLastRewardedOnQuestion:h,willNewPowerupsBeltBeAwardedThisQuestion:z,questionNumberForAwardOrGameEnd:_,nudgesInteractedOnCurrentQuestion:Q,canShowNudgeOnThisQuestion:w,isPowerupBoxAwardInProgress:I,powerupNumberAnimatingInBoxAward:M,getPowerupsToShowNudgeFor:J,evaluateNudgeForPowerup:K,canShowPreQuestionNudgeOnThisQuestion:fe,canShowTeacherPowerupIntro:j,teacherPowerupToApply:P,hideOption:oe,showOption:X,setOptionsAsPreviouslySelected:ie,clearTypedAnswer:ge,resetOptions:Ce,powerupNudgeInteracted:ve,setBoxAwardProgress:Ne,awardPowerups:ot,updatePowerups:$,answerCurrentQuestion:ne,rejoinGameResponded:at,setCurrentQuestion:Ie,joinRoomResponded:$e,joinSoloGameResponded:tt,exitGame:vt,resetGame:Pt,addPowerupNudgeInteraction:Fe,setTeacherPowerup:Qe,processTeacherPowerup:He,applyTeacherPowerup:Xe,hidePowerupIntro:Rt,setPowerupWaitingToBeApplied:gt}});class mS{constructor(t){We(this,"addAction");this.addAction=t}hideOption(t=0){const s=Ba();this.addAction(s.hideOption,t)}showOption(t=0){const s=Ba();this.addAction(s.showOption,t)}setOptionsAsPreviouslySelected(t=[]){const s=Ba();this.addAction(s.setOptionsAsPreviouslySelected,t)}clearTypedAnswer(){const t=Ba();this.addAction(t.clearTypedAnswer)}resetOptions(){const t=Ba();this.addAction(t.resetOptions)}}class pS{constructor({answer:t,options:s,id:n,type:a}){We(this,"answer");We(this,"options");We(this,"id");We(this,"type");this.answer=t,this.options=s,this.id=n,this.type=a}getAnswer(){return this.answer}getOptions(){return Nt(this.options,(t,s)=>({...t,isCorrect:this.answer.includes(s)}))}getId(){return this.id}getType(){return this.type}}class gS{constructor({isCorrect:t,actualSelectedIndices:s}){We(this,"isCorrect");We(this,"moveAhead");We(this,"actualSelectedIndices");this.isCorrect=t,this.moveAhead=!0,this.actualSelectedIndices=s}getCorrectness(){return this.isCorrect}setMoveAhead(t){this.moveAhead=t}canMoveAhead(){return this.moveAhead}getActualSelectedIndices(){return this.actualSelectedIndices}}class fS{constructor(t,{base:s,timer:n,streak:a,total:o}){this.base=s,this.timer=n,this.streak=a,this.total=o,this.powerups=[],this.effectManager=t}getBase(){return this.base}getDefaultBase(){return ha.BASE}getTimer(){return this.timer}getDefaultTimer(){return ha.TIMER}getStreak(){return this.streak}getTotal(){return this.total}pushScore(t){const s=this.effectManager.getEffect();this.total+=t,this.powerups.push(om({powerupEffectId:s.id,powerupId:s.powerupId,name:s.name,score:t}))}getTransformed(){return yu({base:this.getBase(),timer:this.getTimer(),streak:this.getStreak(),total:this.getTotal(),powerups:this.powerups})}}const or={ROOT:"qg_ui_overlay_root",GAME:"qg_ui_overlay_game"},ru={POWERUP_STEAL_POINTS:"powerupStealPoints",POWERUP_OPEN_BOX:"powerupOpenBox"},hS={name:"",id:mg(6),targetId:or.ROOT,createdAt:new Date,data:{},options:{theme:"dark",isDissmissable:!0,transition:"fade"}};function _S(e){return Yr(e,hS)}const vS=Ot("ui",()=>{const e=m([]),t=m([]),s=T(()=>t.value.length>0);function n({name:i,targetId:r,data:c,options:u={}}){b.invariant(Object.values(ru).includes(i),`showOverlay: Given 'name'- ${i} of the overlay needs to be in the list of 'OverlayNames'`),b.invariant(Object.values(or).includes(r),`showOverlay: Given 'name'- ${r} of the overlay needs to be in the list of 'OverlayTargetIds'`);const l=_S({name:i,targetId:r,data:c,options:u});return t.value.push(l),l}function a({id:i="",name:r="",targetId:c=""}){const u=t.value.filter(l=>!(l.id===i||l.name===r||l.targetId===c));t.value=u}function o(){t.value=[]}return{visibleIds:e,overlays:t,isAnyOverlayVisible:s,showOverlay:n,hideOverlay:a,hideAllOverlays:o}});class ES{constructor(t){this.addAction=t,this.gameAppearance={},this.activatedPowerupEffects=[]}changeGameAppearance(t){const s=Is();this.addAction(s.changeGameAppearance,t)}updatePowerupGameFlow(t){const s=Is();this.addAction(s.updatePowerupGameFlow,t)}setGameAppearance(t){this.gameAppearance=t}getGameAppearance(){return this.gameAppearance}setActivatedPowerupEffects(t){this.activatedPowerupEffects=Ts(t)}getParticularActivatedPowerupEffects(t){return Zt(this.activatedPowerupEffects,n=>n.name===t)}getGameAppearanceStatus(t){return this.getGameAppearance()[t]}showOverlay({name:t,data:s}){const n=vS();switch(t){case ru.POWERUP_STEAL_POINTS:n.showOverlay({name:t,data:s,targetId:or.GAME});break;case ru.POWERUP_OPEN_BOX:n.showOverlay({name:t,data:s,targetId:or.GAME,options:{isDissmissable:!1}});break;default:b.error("Targetting.showOverlay: the given overlay name by the powerup is not present")}}}class AS{constructor(t,{currentStreak:s,previousStreak:n}){this.addAction=t,this.currentStreak=s,this.previousStreak=n}getPreviousStreak(){return this.previousStreak}setPreviousStreak(t){this.previousStreak=t}getCurrentStreak(){return this.currentStreak}setCurrentStreak(t){this.currentStreak=t;const s=Dt();this.addAction(s.updateStreak,{currentStreak:t})}getTransformed(){return{previousStreak:this.getPreviousStreak(),currentStreak:this.getCurrentStreak()}}}class TS{constructor(){this.effect=null}getEffect(){return this.effect}setEffect(t){this.effect=t}}class yS{constructor(t){this.actions=[],this.effectManager=t}addAPI(t,s){this[t]=s}setEffect(t){this.effectManager.setEffect(t)}addAction(t,s){this.actions.push({action:t,payload:s})}dispatchActions(t=!0){this.actions.forEach(s=>{const{action:n,payload:a}=s;typeof n=="function"&&n(a)}),t&&(this.actions=[])}}class IS{constructor(){this.effectManager=null}init(){this.effectManager=new TS}createAPI({base:t=0,timer:s=0,streak:n=0,total:a=0,currentStreak:o=0,previousStreak:i=0,isCorrect:r=!1,actualSelectedIndices:c=[],powerupToActivate:u={},gameAppearance:l={},activatedPowerupEffects:p=[]}){const d=new yS(this.effectManager),g=d.addAction.bind(d),f=new ES(g);return f.setGameAppearance(l),f.setActivatedPowerupEffects(p),d.addAPI("score",new fS(this.effectManager,{base:t,timer:s,streak:n,total:a})),d.addAPI("streak",new AS(g,{currentStreak:o,previousStreak:i})),d.addAPI("question",this.getQuestionAPI()),d.addAPI("response",new gS({isCorrect:r,actualSelectedIndices:c})),d.addAPI("activate",new dS(g,d.effectManager,u)),d.addAPI("options",new mS(g)),d.addAPI("specialEffects",f),d.addAPI("targetting",new lp({powerupToActivate:u})),d}getQuestionAPI(){const t=qt(),{currentQuestion:s}=t;let n=[],a=[],o="",i="";return s&&(n=Array.isArray(s.answer)?s.answer:[s.answer],a=s.options,o=s.id,i=s.type),new pS({answer:n,options:a,id:o,type:i})}}const mo=new IS;class SS{validate(t,s,n=!1){const a=qt(),o=Dt(),i=yt(),r=$t.getConfig(),c=r[t.name],u=a.currentId,l=a.currentQuestionCurrentAttemptIndex,p=o.playerId,{gameMode:d,gameType:g}=i,f={};return c.meta.includes("questionId")&&(f.questionId=u),c.meta.includes("attempt")&&(f.attempt=l),c.meta.includes("currentPlayerId")&&(f.currentPlayerId=p),t.name==="glitch"&&Ia(d,g)&&(f.warningTime=tu[re.MYSTIC_PEAK].powerups.avalanche.warningTime),r[t.name].validateToApply(t.meta,f,s)||n}apply(t,s,n){const a=Fn(),o=pr();try{const i=$t.getConfig();this.validate(t,s,n)&&(s.setEffect(t),i[t.name].onApply(s,t.meta),s.dispatchActions(),i[t.name].destroyOn==="response"?o.addPowerupEffectToDestroyList({powerupEffects:[t]}):i[t.name].destroyOn==="immediate"&&a.destroyPowerupEffect(t))}catch(i){b.error("Error at PowerupEffects.apply, destroying effect:- ",i),a.destroyPowerupEffect(t)}}applyPurely(t,s,n){try{const a=$t.getConfig();return this.validate(t,s,n)?(s.setEffect(t),a[t.name].onApply(s,t.meta),{applied:!0,destroyOn:a[t.name].destroyOn}):{applied:!1}}catch(a){return b.error("Error at PowerupEffects.apply :- ",a),{destroyOn:null}}}applyEffects(t=[],s,n=!1){It(t,a=>{this.apply(a,s,n)})}applyEffectsPurely(t=[],s,n=!1){const a={};return It(t,o=>{const i=this.applyPurely(o,s,n);i.applied===!0&&(S(a[i.destroyOn])&&(a[i.destroyOn]=[]),a[i.destroyOn].push(o))}),{powerupEffectsToDestroy:a}}destroy(t,s){var a;const n=$t.getConfig();s.setEffect(t),Gs((a=n[t.name])==null?void 0:a.onDestroy)&&n[t.name].onDestroy(s)}destroyEffects(t=[],s){It(t,n=>{this.destroy(n,s)}),s.dispatchActions()}applySpecialEffects(t=[],s,n){const a=$t.getConfig();It(t,o=>{if(o.name){if(S(a[o.name].specialEffects)||!Gs(a[o.name].specialEffects[s])||(a[o.name].specialEffects[s].apply(a[o.name],[n,o.meta]),S(a[o.name].timedActions)||S(a[o.name].timedActions[s])))return;a[o.name].timedActions[s].forEach(i=>{setTimeout(()=>{i.do.apply(a[o.name],[n,o.meta]),n.dispatchActions()},i.time)})}}),n.dispatchActions()}}const na=new SS,dp=Ot("controlCenter",()=>{const e=m(!1),t=m();function s({showTryAgainIndicator:f}){e.value=f,t.value=setTimeout(()=>{e.value=!1},kr.ResponseIndicatorTimer.BASE)}const n=m(),a=m(!1),o=m(!1),i=m(!1),r=m(!1),c=m(!1),u=m(!1),l=m(-1),p=m(null);function d(f){const h=yt(),{gameMode:E}=h;n.value&&clearTimeout(n.value);const{movedToAnswerLater:A=!1}=f;A&&(a.value=A),nn(f.showQuestionCorrectIndicator)&&(o.value=f.showQuestionCorrectIndicator),nn(f.showQuestionIncorrectIndicator)&&(i.value=f.showQuestionIncorrectIndicator),nn(f.showSlideInteractionDoneIndicator)&&(r.value=f.showSlideInteractionDoneIndicator&&E!==re.TEST),nn(f.showQuestionSkippedIndicator)&&(c.value=f.showQuestionSkippedIndicator),nn(f.showPartiallyCorrectIndicator)&&(u.value=f.showPartiallyCorrectIndicator),ut(f.numberOfCorrectOptions)&&(l.value=f.numberOfCorrectOptions),ut(f.totalNumberOfOptions)&&(p.value=f.totalNumberOfOptions),o.value||i.value||r.value||c.value?(c.value&&(n.value=setTimeout(()=>{c.value=!1},1500)),n.value=setTimeout(()=>{o.value=!1,i.value=!1,r.value=!1,c.value=!1},kr.ResponseIndicatorTimer.BASE+kr.ResponseIndicatorTimer.WHEN_BONUS_POINTS)):a.value&&(n.value=setTimeout(()=>{a.value=!1},2e3))}function g(f){dp().$patch(f)}return{showTryAgainIndicator:e,showTryAgainIndicatorTimer:t,toggleShowingTryAgainIndicator:s,showIndicatorTimer:n,showAnswerLaterIndicator:a,showQuestionCorrectIndicator:o,showQuestionIncorrectIndicator:i,showSlideInteractionDoneIndicator:r,showPartiallyCorrectIndicator:u,showQuestionSkippedIndicator:c,numberOfCorrectOptions:l,totalNumberOfOptions:p,onEvaluationComplete:d,setState:g}}),Ls={IDLE:-1,PAUSED:0,RUNNING:1,CLEARED:-2,STOPPED:-1};class nk{constructor(t=()=>{},s,n=!0){We(this,"_cycleStartTime");We(this,"_remainingTime");We(this,"status");We(this,"callback",()=>{});We(this,"timeoutTime");We(this,"_resumeTimeout");We(this,"currentTimeout");this._cycleStartTime=0,this._remainingTime=0,this.status=Ls.IDLE,this.callback=t,this.timeoutTime=s,n&&this.start()}start(){(this.status===Ls.IDLE||this.status===Ls.CLEARED)&&(this.status=Ls.RUNNING,this._setTimeout())}reStart(){this.clear(),this.start()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===Ls.RUNNING&&(this.currentTimeout&&clearTimeout(this.currentTimeout),this._remainingTime===0?this._remainingTime=this.timeoutTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=Ls.PAUSED)}resume(t=this._remainingTime){if(this.status===Ls.PAUSED){const s=ut(t)?t:this._remainingTime;this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setTimeout()},s)}}flush(){this.clear(),this.callback&&this.callback()}clear(){this.currentTimeout&&clearTimeout(this.currentTimeout),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=Ls.CLEARED}changeTimer(t){this.timeoutTime=t,this.status===Ls.RUNNING&&(this.pause(),this.resume())}_setTimeout(){this._cycleStartTime=Date.now(),this.currentTimeout=setTimeout(()=>{this.callback&&this.callback()},this.timeoutTime)}}class ak{constructor(t=()=>{},s,n,a=!1,o=!1){We(this,"_cycleStartTime");We(this,"_remainingTime");We(this,"status");We(this,"callback",()=>{});We(this,"timeoutTime");We(this,"intervalTime");We(this,"_resumeTime");We(this,"execOnLeading");We(this,"_resumeTimeout");We(this,"currentInterval");this._init(),this.callback=t,this.intervalTime=s,this.execOnLeading=a,ut(n)&&(this._resumeTime=n),o&&this.start()}_init(){this.status=Ls.IDLE,this._remainingTime=0,this._cycleStartTime=0}start(){this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this.execOnLeading&&this.callback&&this.callback(),this._setInterval()}pause(){this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status===Ls.RUNNING&&(this.currentInterval&&clearInterval(this.currentInterval),this._remainingTime===0?this._remainingTime=this.intervalTime-(Date.now()-this._cycleStartTime):this._remainingTime-=Date.now()-this._cycleStartTime,this.status=Ls.PAUSED)}resume(t=this._remainingTime){const s=t||this._resumeTime||this._remainingTime;this.status===Ls.PAUSED&&(this.status=Ls.RUNNING,this._cycleStartTime=Date.now(),this._resumeTimeout=setTimeout(()=>{this._remainingTime=0,this._cycleStartTime=Date.now(),this.callback&&this.callback(),this._setInterval()},s))}stop(){this.clear(),this._init(),this.status=Ls.STOPPED}changeInterval(t){this.intervalTime=t,this.status===Ls.RUNNING&&(this.pause(),this.resume())}flush(){this.stop(),this.callback&&this.callback()}clear(){this.currentInterval&&clearInterval(this.currentInterval),this._resumeTimeout&&clearTimeout(this._resumeTimeout),this.status=Ls.CLEARED}_setInterval(){this.currentInterval=setInterval(()=>{this._cycleStartTime=Date.now(),this.callback&&this.callback()},this.intervalTime)}}function cu(e=0){return new Promise(t=>{setTimeout(()=>{t({})},e)})}async function ok(e,t){const s=Date.now(),n=await e,a=t-(Date.now()-s);return a>0&&await cu(a),n}function fo(){const{currentQuestionId:e,comprehensionQuestionId:t,hasComprehensionQuestion:s,comprehensionQuestion:n,comprehensionQuestions:a,comprehensionQuestionListDisplayState:o,comprehensionQuestionIndexStart:i,comprehensionQuestionIndexEnd:r,currentQuestionIndexInComprehension:c,areAllComprehensionQuestionsAttempted:u,isComprehensionQuestionVisited:l,isInComprehensionView:p,comprehensionQuestionCurrentAttempt:d,numberOfComprehensionQuestionsAttempted:g,numberOfComprehensionQuestions:f,nextComprehensionQuestionId:h,previousComprehensionQuestionId:E,isComprehensionQuestionNavigationEnabled:A,selectedRCTabIndex:_,currentQuestionNumberNew:v}=us(qt()),{setComprehensionQuestionListVisibility:y,setIsComprehensionQuestionNavigationEnabled:N,onSelectQuestion:G}=Fn(),z=T(()=>i.value+c.value),Q=T(()=>i.value===z.value),H=T(()=>r.value===z.value),w=T(()=>t.value!==null&&o.value[t.value]===Sn.VISIBLE),I=T(()=>!p.value||t.value!==null&&o.value[t.value]===Sn.HIDDEN),M=T(()=>!I.value&&t.value!==null&&o.value[t.value]===Sn.COLLAPSED),J=T(()=>{var ot;return((ot=n.value)==null?void 0:ot.type)===Y.COMPREHENSION_VIDEO}),K=T(()=>_.value===1);function fe(ot){_.value=ot}function P(){Ca.$emit("question:onAnswerLater")}function j(){y({key:t.value,value:Sn.HIDDEN})}function oe(ot){const{dontSave:$=!1}=ot||{};$||P(),y({key:t.value,value:Sn.VISIBLE}),fe(1)}function X(){y({key:t.value,value:Sn.COLLAPSED}),fe(0)}function ie(){N({value:!0})}function ge(){N({value:!1})}async function Ce(ot){fe(1),j(),ie(),e.value!==ot&&await G({selectedQuestionId:ot})}async function Fe(){P(),h.value&&await Ce(h.value)}async function ve(){P(),E.value&&await Ce(E.value)}return{areAllComprehensionQuestionsAttempted:u,comprehensionQuestionId:t,hasComprehensionQuestion:s,comprehensionQuestion:n,comprehensionQuestions:a,comprehensionQuestionIndexStart:i,comprehensionQuestionIndexEnd:r,currentQuestionIndexInComprehension:c,currentQuestionNumber:v,currentQuestionNumberInComprehension:z,comprehensionQuestionCurrentAttempt:d,numberOfComprehensionQuestionsAttempted:g,numberOfComprehensionQuestions:f,selectedTabIndex:_,isComprehensionQuestionVisited:l,isComprehensionQuestionNavigationEnabled:A,isInComprehensionView:p,isFirstQuestion:Q,isLastQuestion:H,isQuestionListVisible:w,isQuestionListCollapsed:M,isQuestionListHidden:I,isQuestionListTabVisible:K,isVideoComprehension:J,hideQuestionsList:j,showQuestionsList:oe,collapseQuestionsList:X,handleSelectQuestion:Ce,handleNextQuestion:Fe,handlePreviousQuestion:ve,setSelectedTabIndex:fe,enableNavigation:ie,disableNavigation:ge}}class RS{async loadQuicksand(){try{const t="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap";await fetch(t),setTimeout(()=>{const s=document.createElement("link");s.href=t,s.rel="stylesheet",document.head.appendChild(s)})}catch{if(window&&window.FontFace&&Gs(window.FontFace)){const t=[new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff")',{weight:"400"}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff")',{weight:"500"}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-600.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-600.woff") format("woff")',{weight:"600"}),new FontFace("Quicksand",'url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff")',{weight:"700"})],s=t.map(n=>n.load());try{await Promise.all(s),t.forEach(n=>document.fonts.add(n))}catch{this.loadQuicksandManually()}return}this.loadQuicksandManually()}}loadQuicksandManually(){const t=document.createElement("style");document.head.appendChild(t);const s=t.sheet;s&&(s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-Regular.woff") format("woff");
        font-weight: 400;
        font-display: swap;
      }
    `,0),s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-500.woff") format("woff");
        font-weight: 500;
        font-display: swap;
      }
    `,1),s.insertRule(`
      @font-face {
        font-family: "Quicksand";
        src: url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/Quicksand/Quicksand-700.woff") format("woff");
        font-weight: 700;
        font-display: swap;
      }
    `,2))}loadFonts(){try{const t=Object.values(Bm.fontFamily);for(let s=0;s<t.length;s++){const n=t[s].url;if(!S(n)&&!!S(document.querySelectorAll(`link[href="${n}"]`))){const o=document.createElement("link");o.href=n,o.rel="stylesheet",document.head.appendChild(o)}}}catch{b.log("Error loading fonts")}}async loadOpenDyslexic(){if(window&&window.FontFace&&Gs(window.FontFace)){const t=[new FontFace("OpenDyslexic3",'url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff2") format("woff2"), url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff") format("woff")',{weight:"400"})],s=t.map(n=>n.load());try{await Promise.all(s),t.forEach(n=>document.fonts.add(n))}catch(n){b.log("Error loading OpenDyslexic3",n),this.loadOpenDyslexicManually()}}else this.loadOpenDyslexicManually()}loadOpenDyslexicManually(){try{const t=document.createElement("style");document.head.appendChild(t);const s=t.sheet;s&&s.insertRule(`
      @font-face {
        font-family: "OpenDyslexic3";
        src: url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff2") format("woff2"),
          url("https://cf.quizizz.com/fonts/OpenDyslexic3-beta/OpenDyslexic3-Regular.woff") format("woff");
        font-weight: 400;
        font-display: swap;
      }
    `,0)}catch(t){b.log("Error loading OpenDyslexic3 manually",t)}}loadFontsByUrls(t){b.log(`Loading fonts ${JSON.stringify(t)}`);try{for(let s=0;s<t.length;s++){const n=document.createElement("link");n.href=t[s],n.rel="stylesheet",document.head.appendChild(n)}}catch{b.log(`Error loading fonts ${JSON.stringify(t)}`)}}}const mp=new RS;function pp(){const e=yt(),{masteryPeakTheme:t}=us(e),s=T(()=>t.value),n=T(()=>s.value&&Hl[s.value]?s.value:Sa.default),a=T(()=>Hl[n.value]),o=m({pathfinder:{category:"QuickSand",text:"QuickSand"},circleWars:{score:"QuickSand",leaderboard:"QuickSand"},podium:{rank:"Poppins"}}),i=T(()=>a.value.sounds);return{activeThemeId:n,theme:a,customFonts:o,inGameSoundsToLoad:i,loadThemeFonts:c=>{const u=[],l={};switch(a.value.id){case Sa.fuji:switch(c){case ta.PATHFINDER:u.push(a.value.fonts.shojumaru.url),u.push(a.value.fonts.skranji.url),Object.assign(l,{pathfinder:{category:a.value.fonts.shojumaru.name,text:a.value.fonts.skranji.name}});break;case ta.CIRCLE_WARS:u.push(a.value.fonts.shojumaru.url),u.push(a.value.fonts.stick.url),Object.assign(l,{circleWars:{score:a.value.fonts.stick.name,leaderboard:a.value.fonts.shojumaru.name}});break;case ta.PODIUM:u.push(a.value.fonts.shojumaru.url),Object.assign(l,{podium:{rank:a.value.fonts.shojumaru.name}});break}break;case Sa.kilimanjaro:switch(c){case ta.PATHFINDER:u.push(a.value.fonts.skranji.url),u.push(a.value.fonts.alatsi.url),Object.assign(l,{pathfinder:{category:a.value.fonts.skranji.name,text:a.value.fonts.alatsi.name}});break;case ta.CIRCLE_WARS:u.push(a.value.fonts.skranji.url),Object.assign(l,{circleWars:{score:a.value.fonts.skranji.name,leaderboard:a.value.fonts.skranji.name}});break;case ta.PODIUM:u.push(a.value.fonts.skranji.url),Object.assign(l,{podium:{rank:a.value.fonts.skranji.name}});break}break;default:switch(c){case ta.PATHFINDER:u.push(a.value.fonts.novaSquare.url),Object.assign(l,{pathfinder:{category:a.value.fonts.novaSquare.name,text:"QuickSand"}});break;case ta.CIRCLE_WARS:u.push(a.value.fonts.vt323.url),Object.assign(l,{circleWars:{score:a.value.fonts.vt323.name,leaderboard:"QuickSand"}});break;case ta.PODIUM:u.push(a.value.fonts.poppins.url),Object.assign(l,{podium:{rank:a.value.fonts.poppins.name}});break}break}return mp.loadFontsByUrls(u),o.value=l,l}}}const CS=Ot("updateSubmitState",()=>{const e=m(),t=m(!1),s=m(!1),n=m(!1),a=m(!1),o=m(!1),i=m(!1),r=m(!1),c=m(!1),u=m(!1),l=m(!1),p=m(!1),d=m(!1),g=qt(),{slidesFlowControlType:f}=us(g),h=T(()=>f.value===es.NONE);function E(A){A.isSubmitBtnProgressing&&!a.value?e.value=setTimeout(()=>{o.value=!0},3e3):!A.isSubmitBtnProgressing&&a&&(e.value&&clearTimeout(e.value),o.value=!1),u.value=sn(A.isAnswerLaterBtnProcessing)?A.isAnswerLaterBtnProcessing:u.value,t.value=sn(A.isAllowedToSubmitAnswer)?A.isAllowedToSubmitAnswer:t.value,n.value=sn(A.isSubmitBtnRequired)?A.isSubmitBtnRequired:n.value,s.value=sn(A.isSubmitBtnVisible)?A.isSubmitBtnVisible:s.value,a.value=sn(A.isSubmitBtnProgressing)?A.isSubmitBtnProgressing:a.value,l.value=sn(A.isReEditingAnswerAllowed)?A.isReEditingAnswerAllowed:l.value,i.value=sn(A.isResetBtnRequired)?A.isResetBtnRequired:i.value,r.value=sn(A.isAllowedToResetOptions)?A.isAllowedToResetOptions:r.value,c.value=sn(A.isAnswerLaterBtnVisible)?A.isAnswerLaterBtnVisible:c.value,p.value=sn(A.skipAnimationInProgress)?A.skipAnimationInProgress:p.value,h.value||(d.value=sn(A.isSkipButtonRequired)?A.isSkipButtonRequired:d.value)}return{submitTooltipTimer:e,isAllowedToSubmitAnswer:t,isSubmitBtnVisible:s,isSubmitBtnRequired:n,isSubmitBtnProgressing:a,isSubmitButtonTooltipVisible:o,isResetBtnRequired:i,isAllowedToResetOptions:r,isAnswerLaterBtnVisible:c,isAnswerLaterBtnProcessing:u,isReEditingAnswerAllowed:l,skipAnimationInProgress:p,isSkipButtonRequired:d,updateSubmitState:E}}),uu=Ot("videoComprehension",()=>{const{gameMode:e}=yt(),{isCurrentQuestionForRedemptionAttempt:t}=qt(),{notes:s}=us(Hm()),n=m(0),a=m(0),o=m(!1),i=m(0),r=m(""),c=m(0),u=T(()=>s.value.some(G=>Math.abs(Math.floor(G.timestamp)-Math.floor(n.value))<=1&&!G.watched)),l=T(()=>u.value?!1:e===re.TEACHER_PACED||n.value<a.value||t?!0:!g(n.value));function p(G){n.value=G,a.value=Math.max(a.value,G)}function d(){var H,w;const{comprehensionQuestion:G}=fo(),{isQuestionAttempted:z}=qt();if(!G.value)return;const Q=(w=(H=G.value)==null?void 0:H.comprehensionTimestamps)==null?void 0:w[Math.round(a.value)];return Q==null?void 0:Q.find(I=>!z(I))}function g(G){var w,I;const{comprehensionQuestion:z}=fo(),{isQuestionAttempted:Q}=qt();if(!z.value)return!1;const H=(I=(w=z.value)==null?void 0:w.comprehensionTimestamps)==null?void 0:I[Math.round(G)];return H?H==null?void 0:H.some(M=>!Q(M)):!1}function f(G,z){var I;const{isQuestionAttempted:Q}=qt(),H=Object.keys(G);if(t||!Q((I=G==null?void 0:G[H[0]])==null?void 0:I[0]))return 0;const w=H.find(M=>G[M].find(J=>!Q(J)));return w||(a.value=z),w&&Number(w)}function h(){var Q;const{comprehensionQuestion:G}=fo(),{isQuestionAttempted:z}=qt();return(Q=G.value)==null?void 0:Q.comprehensionQuestionIds.some(H=>!z(H))}function E(G){o.value=G}function A(G){i.value=G}function _(G){a.value=G}function v(G){c.value=G}function y(){n.value=0,a.value=0,o.value=!1,i.value=0,r.value=""}function N(){return n.value>=i.value}return{videoCurrentTime:n,maxPlayedTime:a,isPlaying:o,duration:i,allowPlayAhead:l,currentComprehensionQuestionId:r,startTime:c,setIsPlaying:E,setVideoCurrentTime:p,reset:y,setDuration:A,isVideoEnded:N,unAttemptedQuestionsLeftInTimestamp:g,unAttemptedNotesLeftInTimestamp:u,getPreviousStoppedAttemptTimestamp:f,getNextUnattemptedQuestion:d,areQuestionsRemainingToAttempt:h,setMaxTime:_,setStartTime:v}});var ic=(e=>(e.STUDENT_PACED="student",e.TEACHER_PACED="teacher",e.QUESTIONS_DONE="questions_done",e))(ic||{});const Li=Gn.MASTERY_MODE_ANIMATION_PRESETS,wS={PLAYER:"player",HOST:"host"};let Lc=null,zc=null;const Fn=Ot("inGameActions",()=>{const e=yt(),t=Js(),s=qt(),n=Dt(),a=Is(),o=ps(),i=oc(),r=gn(),c=hs(),u=Pa(),l=Ba(),p=Fu(),d=pr(),g=ua(),f=cp(),h=CS(),{isVideoComprehension:E}=fo(),{theme:A}=pp();async function _(C){try{const{response:x}=await eC(C),ee=s.slidesFlowControlType===es.NONE;if(x.skipped){if(s.updateSkippedQuestions(C.questionId),a.isMysticPeak&&R_(),s.isAnswerLaterQuestion&&s.attemptedAnswerLaterQuestion(),ee){const le={...(s.list||[])[C.questionId],id:C.questionId,state:dn.REVEAL};$e(le)}else{const te={doneOrderForEvaluatedQuestions:s.doneOrderForEvaluatedQuestions,isCurrentQuestionSkipped:s.isCurrentQuestionSkipped,isMasteryMode:e.isMasteryMode,numberOfComprehensionQuestionsUnattempted:s.numberOfComprehensionQuestionsUnattempted};s.remainingOrder=$r({getters:te,remainingQuestionsOrder:s.remainingOrder,isProceed:!1});const le=[...s.remainingOrder],{shouldShowRedemptionQuestion:De,mutationPayload:we,shouldShowAnswerLaterQuestions:be,shouldShowReviewQuestions:Ge,answerLaterMutationPayload:nt}=dd(s.remainingOrder,s.currentId,s.doneOrder,s.questionResponses,s.answerLaterQuestions,s.isLastAnswerLaterQuestion,s.orderedOriginalResponses,s.orderedRedemptionResponses,s.totalQuestionsInGame,s.skippedQuestions,s.initSequence,a.breakRoomArr||[],e.gameType,e.gameMode,e.gameOptions,e.mysticPeakLevelMap,e.gameOptions.reviewAndSubmit,n.totalCorrect,te,!1);if(Ge)return ls(we),a.showingAnswerLaterQuestions({inProgress:!1}),{};if(De)return ke(we),{};if(be)return ye(nt),{};if(le.length<1)return t.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)}),{success:!0};const St=le[0];le.shift(),Ie({nextQuestion:{questionId:St},remainingOrder:le})}return{success:!0}}return{}}catch(x){return b.error(["Error at action skipQuestion",x]),{success:!1}}}async function v(C){const{playerId:x}=n,{roomHash:ee,gameType:te,quizVersionId:le}=e,De={playerId:x,roomHash:ee,gameType:te,quizVersionId:le,responses:C},{response:we}=await ZR(De);for(const be of we.responses)await ds({responseOfLastAttempt:be.response,isCorrect:be.response.isCorrect});return we}async function y(){const C=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,x=C();try{const ee=[{kind:wS.PLAYER,id:n.playerId}];await AR(e.roomHash,ee);const te=KI(e.roomHash,e.gameType,e.gameState,n.playerId,t.currentPage);o.socketConnectedSuccess(),u.socketConnected(),te.shouldRejoinRoom&&x.rejoinAnyGame(te.rejoinParams)}catch(ee){b.error("Error at action reconnectToGame",ee)}}function N({metaData:C={}}){const x=Eo(s.questionResponseStatuses,[Us.NOT_SENT,Us.SENDING]);if(!(Qs(x).length===0)){u.toggleOverlay({type:`responseUnsynced|${Zo.ON_EXIT}`});return}o.hideMenu(),t.requestToChangePage({to:O.get(O.List.LANDING.HOME),metaData:C})}function G({wasAttempCorrect:C,prevMemeTypeShown:x}){const ee=a.meme,te=Nt(s.allOrderedResponses,De=>De.isCorrect);te.push(C);const le=_m(te,{...ee.list},s.totalQuestionsInGame,ee.nextPossible,x);a.setNextPossibleMeme({next:le})}function z(C={}){e.gameCompleted(C),n.gameCompleted(C),i.gameCompleted(C)}function Q(C={}){e.gameStopped(C),n.gameStopped(C),i.gameStopped(C)}function H(){return a.breakRoomArr}function w(C,...x){return C.list.length>0?Id(...x):yd(...x)}async function I({powerupName:C,powerupIndex:x}){var xt;const{gameMode:ee,gameType:te,roomHash:le,mysticPeakLevelMap:De}=e,{totalCorrect:we}=n,be=De.findIndex(Lt=>Lt===we),Ge={currentQuestionCurrentAttemptResponse:s.currentQuestionCurrentAttemptResponse,currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex,currentQuestionNumber:s.currentQuestionNumber},nt=[uS(C,{playerId:n.playerId,monsterId:n.monsterId,currentId:s.currentId,getters:Ge})],St=Ma(e.isMasteryMode);let mt={roomHash:le,playerId:n.playerId,gameType:St(te,ee),powerups:nt,breakoutRoom:{powerUpIndex:x,level:be}};((xt=l.list)==null?void 0:xt.length)>0&&(mt={...mt,archive:l.availablePowerups,award:nt});try{let Lt;if(l.list.length>0){mt={...mt,archive:l.availablePowerups,award:nt},Lt=await w(l,mt);const{response:Pe}=Lt,Le=Ir(Pe.powerups),Ye=Le.filter(Kt=>Kt.status===Vn.ARCHIVED),ft=Le.filter(Kt=>Kt.status===Vn.AWARDED);return l.updatePowerups({powerups:Ye}),l.awardPowerups({powerups:ft}),ms(),{success:!0,archivedPowerups:Ye,newPowerups:ft}}Lt=await w(l,mt);const{response:cs}=Lt,ws=Ir(cs.powerups);return l.awardPowerups({powerups:ws}),ms(),{success:!0,powerups:ws}}catch(Lt){switch(b.error("Error at awardSinglePowerup:",Lt),pn(Lt)){case"powerup.MAX_ATTEMPT_EXHAUSTED":c.toggleSnackBar({isVisible:!0,options:{message:`Maximun attempts for ${A.value.text.avalanche.title} exhausted.`}});break;case"powerup.COOLDOWN_PERIOD":c.toggleSnackBar({isVisible:!0,options:{message:"Avalanache in Cooldown period."}});break}return ms(),{success:!1,powerups:[]}}}async function M(){const{gameMode:C,gameType:x,roomHash:ee}=e;if(!l.canPowerupsBeAwardedInThisGame)return{success:!1,powerups:[]};const te={currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex,currentQuestionCurrentAttemptResponse:s.currentQuestionCurrentAttemptResponse,powerupsGameplay:l.powerupsGameplay,areAllRemainingQuestionsMSQ:s.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:e.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:s.doesRemainingQuestionsOptionsCountEqualsTwo,isQuestionTimerOn:e.isQuestionTimerOn,areAllRemainingQuestionsFIB:s.areAllRemainingQuestionsFIB,currentQuestionNumber:s.currentQuestionNumber},le=Ma(e.isMasteryMode),De=l.powerupsGameplay.normalBeltSize,we={roomHash:ee,playerId:n.playerId,gameType:le(x,C),powerups:md(De,{list:d.list,powerupList:l.list,currentId:s.currentId,playerId:n.playerId,monsterId:n.monsterId,gameType:e.gameType,totalPlayers:e.totalPlayers,getters:te})};try{const{response:be}=await yd(we),Ge=Ir(be.powerups);return l.awardPowerups({powerups:Ge}),{success:!0,powerups:Ge}}catch(be){return b.error("Error at awardMultiplePowerups:-",be),{success:!1,powerups:[]}}}async function J(){p.resetDroppedState()}async function K({playerId:C,questionId:x,roomHash:ee,hostId:te,issueIndex:le,triggerType:De}){try{const we={playerId:C,questionId:x,roomHash:ee,hostId:te,issueIndex:le,triggerType:De},{response:be}=await oC(we);return{success:!0,studentQueueNo:be.studentQueueNo}}catch(we){return b.error("Error at action raiseHandForPlayer",we),{success:!1,studentQueueNo:0}}}async function fe(){const C=l.powerupsGameplay.normalBeltSize,x=Ma(e.isMasteryMode),ee={currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex,currentQuestionCurrentAttemptResponse:s.currentQuestionCurrentAttemptResponse,powerupsGameplay:l.powerupsGameplay,areAllRemainingQuestionsMSQ:s.areAllRemainingQuestionsMSQ,areAllGameQuestionsWithoutCorrectAnswer:e.areAllGameQuestionsWithoutCorrectAnswer,doesRemainingQuestionsOptionsCountEqualsTwo:s.doesRemainingQuestionsOptionsCountEqualsTwo,isQuestionTimerOn:e.isQuestionTimerOn,areAllRemainingQuestionsFIB:s.areAllRemainingQuestionsFIB,currentQuestionNumber:s.currentQuestionNumber},te={roomHash:e.roomHash,playerId:n.playerId,gameType:x(e.gameType,e.gameMode),archive:l.availablePowerups,award:md(C,{list:d.list,powerupList:l.list,currentId:s.currentId,playerId:n.playerId,monsterId:n.monsterId,gameType:e.gameType,totalPlayers:e.totalPlayers,getters:ee})};try{const{response:le}=await Id(te),De=Ir(le.powerups),we=De.filter(Ge=>Ge.status===Vn.ARCHIVED),be=De.filter(Ge=>Ge.status===Vn.AWARDED);return l.updatePowerups({powerups:we}),l.awardPowerups({powerups:be}),{success:!0,archivedPowerups:we,newPowerups:be}}catch(le){return b.error("Error at replacePowerups:-",le),{success:!1,powerups:[]}}}async function P(C){const x={currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex},ee=Nc({playerId:n.playerId,roomHash:e.roomHash,currentId:s.currentId,monsterId:n.monsterId,gameType:e.gameType,getters:x,id:C.id,name:C.name}),{gameAppearance:te}=a,{activatedPowerupEffects:le}=C,De=$t.getConfig(),we={...ee,powerupId:C.powerupId,status:Vn.ACTIVATED};S(C.activationSource)||(we.activationSource=C.activationSource),Gs(De[C.name].onActivate)&&De[C.name].onActivate(Dc),d.addPowerupEffect({powerupEffect:{...we}});let{previousStreak:be,currentStreak:Ge}=n;const nt=mo.createAPI({previousStreak:be,currentStreak:Ge,gameAppearance:te,activatedPowerupEffects:le});na.applySpecialEffects([we],"onActivate",nt),na.applyEffects([we],nt,!0);const St=nt.score.getTransformed();be=nt.streak.getPreviousStreak(),Ge=nt.streak.getCurrentStreak(),s.powerupActivatedFromMysteryBox({score:St.total,questionId:s.currentId,attempt:x.currentQuestionCurrentAttemptIndex,scoreBreakup:St,previousStreak:be,currentStreak:Ge}),n.powerupActivatedFromMysteryBox({score:St.total,questionId:s.currentId,attempt:x.currentQuestionCurrentAttemptIndex,scoreBreakup:St,previousStreak:be,currentStreak:Ge})}async function j({id:C,name:x,meta:ee={}}){const te=$t.getConfig(),{gameAppearance:le}=a,{activatedPowerupEffects:De}=d,we={currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex},be=Nc({playerId:n.playerId,roomHash:e.roomHash,currentId:s.currentId,monsterId:n.monsterId,gameType:e.gameType,getters:we,id:C,name:x,meta:ee});try{const Ge=await nC(be),{response:nt}=Ge;l.updatePowerups({powerups:[{id:C,status:Vn.ACTIVATED}]});const St={};let mt=te[x].notification.onActivate||`${te[x].title} activated successfully`;(e==null?void 0:e.gameMode)===re.MYSTIC_PEAK&&x==="glitch"&&(mt=U("{$1} is applied",[A.value.text.avalanche.title])),St.title=te[x].title,St.message=U("{$1}",[mt]),St.type="powerup-effect",St.styles=te[x].styles,St.name=x,St.appliedByTeacher=!1,ee.source===Vi.teacher&&(St.appliedByTeacher=!0),c.togglePowerupToast({isVisible:!0,options:St}),Gs(te[x].onActivate)&&te[x].onActivate(Dc);const Lt={name:nt.powerupEffect.name,meta:nt.powerupEffect.meta,powerupId:nt.powerupEffect.powerupId,status:nt.powerupEffect.status,id:nt.powerupEffect._id},{previousStreak:cs,currentStreak:ws}=n;d.addPowerupEffect({powerupEffect:{...Lt}});const Pe=mo.createAPI({previousStreak:cs,currentStreak:ws,gameAppearance:le,activatedPowerupEffects:De});na.applySpecialEffects([Lt],"onActivate",Pe),nt.powerupEffect&&["question","game"].includes(te[nt.powerupEffect.name].applicationScope)&&setTimeout(()=>{const{questionScopePowerupEffects:Le,gameScopePowerupEffects:Ye}=d,ft=_a(Le,Ye);na.applyEffects(ft,Pe)})}catch(Ge){b.error("Error at activatePowerup: ",Ge),c.toggleSnackBar({isVisible:!0,options:{message:"Powerup already activated."}})}}async function oe(C){var nt,St;const{playerId:x}=n,{roomHash:ee}=e,te={},{gameAppearance:le}=a,{activatedPowerupEffects:De}=d,be=$t.getConfig()[C.name].powerupType,Ge={playerId:x,roomHash:ee,powerupEffectId:C.id,gameType:e.gameType,meta:{}};if(be===Ur.ACTIVATOR&&(Ge.shouldDiscardActivatorPowerup=C.shouldDiscardActivatorPowerup,Ge.meta.isActivatorPowerupEffect=!0,!C.shouldDiscardActivatorPowerup)){te.name=d.powerupToActivateFromMysteryBox(C.id);const mt={currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex},xt=Nc({playerId:n.playerId,roomHash:e.roomHash,currentId:s.currentId,monsterId:n.monsterId,gameType:e.gameType,getters:mt,name:te.name});Ge.meta={...Ge.meta,...xt.meta}}try{const{response:mt}=await mC(Ge,be);ct.logEvent(as.GLITCH_DESTROY,{playerId:Ge==null?void 0:Ge.playerId,roomHash:Ge==null?void 0:Ge.roomHash,powerupEffectId:Ge==null?void 0:Ge.powerupEffectId,gameType:Ge==null?void 0:Ge.gameType,status:(nt=mt==null?void 0:mt.powerupEffect)==null?void 0:nt.status,name:(St=mt==null?void 0:mt.powerupEffect)==null?void 0:St.name});const xt={gameAppearance:le,activatedPowerupEffects:De},Lt=be===Ur.ACTIVATOR;if(!Lt||Lt&&C.shouldDiscardActivatorPowerup){X({powerupEffect:C,createAPIValues:xt});return}const cs=k(mt,"activatedPowerups",[]);te.id=cs[0]._id,te.powerupId=cs[0].powerupId,xt.powerupToActivate=te,setTimeout(()=>{X({powerupEffect:C,createAPIValues:xt})},2e3)}catch(mt){b.error("Error at destroyPowerupEffect",mt),X({powerupEffect:C})}}function X({powerupEffect:C,createAPIValues:x={}}){const ee={...Ts(C),status:fa.DESTROYED},te=mo.createAPI(x);na.destroyEffects([ee],te),na.applySpecialEffects([ee],"onDestroy",te),d.updatePowerupEffect({powerupEffect:ee})}async function ie({responseOfLastAttempt:C,gameType:x,powerupsToDestroy:ee=[]}){var cs,ws;const te=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,le=te();let De=x;x||(De=e.gameType);const we=_a(d.destroyList,ee),be=JI(s.questionResponseStatuses,s.currentQuestionCurrentAttemptResponse,C);if(!be.isCallRequired)return;s.proceedGameInProgress(be);const Ge=De===Je.SOLO?iC:XR,nt={allOrderedResponses:s.allOrderedResponses,areQuestionAttemptsLeft:s.areQuestionAttemptsLeft,isAdaptiveLearningGame:e.isAdaptiveLearningGame,totalQuestionAttempted:s.totalQuestionAttempted,currentQuestionCurrentAttemptIndex:s.currentQuestionCurrentAttemptIndex},{gameMode:St,gameOptions:mt,roomHash:xt,quizVersionId:Lt}=e;l.setPowerupWaitingToBeApplied(!0);try{const Pe={gameMode:St,gameType:x,gameOptions:mt,roomHash:xt,quizVersionId:Lt,player:n,questions:s,playerResponse:be.responseToBeSent,powerupEffectsToDestroy:we},Le=ZI(Pe),{response:Ye}=await Ge(Le);if((cs=Ye==null?void 0:Ye.response)!=null&&cs.coins){const{gameCoinsCollected:is,coinBalance:vs}=Nn();Nn().setGameCoinsCollected({...is,questions:is.questions+Ye.response.coins}),Nn().setCoinBalance(vs+Ye.response.coins)}const ft=XI(s.questionResponseStatuses,e.gameOptions,e.gameType,e.teams,e.totalPossibleMarks,e.totalQuestionsInQuiz,e.roomHash,e.accuracy,s.slidesFlowControlType,s.currentId,s.remainingOrder,s.questionResponses,n.marks,n.totalPossibleMarks,n.currentStreak,n.score,n.totalCorrect,n.firstAttempts,n.firstCorrectAttempts,n.firstAttemptMarks,n.playerId,n.monsterId,n.rank,a.leaderboard.forQues,a.leaderboard.list,a.teamLeaderboard.list,a.leaderboard.totalPlayers,a.teamLeaderboard.totalTeams,i.rank,i.score,i.teamId,nt,Ye),{powerupEffects:Kt}=ft,{powerupEffectsDestroyed:js}=ft;if(S(js)||d.addPowerupEffectToDestroyList({powerupEffects:js}),(Kt==null?void 0:Kt.length)>0){const is=Ts(d.list),vs=Md(dl(is,"id"),dl(Kt,"id")),Cn={powerupEffects:Object.values(vs)};d.updatePowerupEffects(Cn)}s.removeQuestionFromIncorrectAttempt(),S(ft.updatedSlide)||$e(ft.updatedSlide),s.proceedGameResponded(ft),e.proceedGameResponded(ft),i.proceedGameResponded(ft),n.proceedGameResponded(ft),a.proceedGameResponded(ft),d.updatePowerupEffectDestroyList({powerupEffects:[]}),Jt(["proceedGame.timeout|confirm","proceedGame.defaultError|confirm"],c.dialog.name)&&c.toggleDialog(),await ds({responseOfLastAttempt:C,isCorrect:ft.updatedResponse.isCorrect});const ts=e.gameOptions.hasRedemptionPass===Gt.hasRedemptionPass.YES,bs=be.responseToBeSent.attempt>0;return ts&&bs&&ct.logEvent(as.SUMBIT_PASS_2_RESPONSE,{questionId:s.currentId,isCorrect:ft.updatedResponse.isCorrect}),{didAnswer:!0}}catch(Pe){const Le=(ws=((Pe==null?void 0:Pe.traceId)||"").split(";")[0])==null?void 0:ws.replace("Root=","");b.logForSession(["Ekrror at handleProceedingGame",Pe],"error");const Ye=pn(Pe);let ft,Kt=!1;const js=`ROOM_${Ye.split(".")[1]}`,ts=`pg-${Ye}`,bs=Ye==="response.ALREADY_ANSWERED",is=s.slidesFlowControlType===es.NONE,vs=`#pg-${Ye}`,{currentPage:Cn}=t,Yn={cookedPayload:JSON.stringify(be,Object.getOwnPropertyNames(be)),error:JSON.stringify(Pe),errorMessage:JSON.stringify(Pe==null?void 0:Pe.message),clientError:JSON.stringify(Pe,Object.getOwnPropertyNames(Pe)),errorType:Math.round(Number.parseInt(Pe.statusCode)/100)===5?Pe.statusCode:pn(Pe,"default_fallback"),isNetworkAvailable:window.navigator.onLine};Yn.errorType!=="powerups.IMMUNITY_ACTIVATED"&&ct.logEvent(as.PROCEED_GAME_FAILURE,Yn);let Qn="";switch(Ye){case"response.NOT_PRESENT":case"ERROR.UKW":{const $s=qn=>{qn===0&&window.location.reload()};c.toggleDialog({name:"proceedGame.ukw|confirm",options:{traceId:Le},actionCallback:$s});break}case"room.NOT_FOUND":case"room.NOT_STARTED":case"room.NO_ASSIGNMENTS":le.handleRejoinRelatedNetworkErrors({reason:js,errorCode:ts});break;case"game.NOT_FOUND":le.handleRejoinRelatedNetworkErrors({reason:"game.NOT_FOUND",errorCode:ts});break;case"room.EXPIRED":Kt=!0,g.handleGameExpiry();break;case"room.COMPLETED":Kt=!0,z();break;case"room.STOPPED":Kt=!0,Q();break;case"room.PAUSED":st(Pe.response.pauseFor),g.handleGameLockFails(),Kt=!0;break;case"player.NOT_FOUND":le.handleRejoinRelatedNetworkErrors({reason:"PLAYER_NOT_FOUND",errorCode:ts});break;case"player.DELETED":Kt=!0,g.handleCurrentPlayerDeleted();break;case"player.GAME_OVER":Kt=!0,O.matches(Cn,O.get(O.List.IN_GAME.QUIZ),2)&&t.requestToChangePage({to:O.get(O.List.IN_GAME.GAME_OVER)});break;case"room.FORCE_REJOIN":case"lock_fail.GAME":case"lock_fail.REPOPULATE":g.handleGameLockFails();break;case"room.QUIZ_MODIFIED":g.handleGameLockFails({name:"game.quizModified|confirm"});break;case"room.SETTINGS_OUT_OF_SYNC":g.handleGameLockFails({name:"game.settingsOutOfSync|confirm"});break;case"powerups.IMMUNITY_ACTIVATED":ge({responseOfLastAttempt:C});break;case"validate.Validation":case"validator.Validation":case"request.VALIDATION_ERROR":{const $s=qn=>{qn===0&&window.location.reload()};c.toggleDialog({name:"proceedGame.validationFail|confirm",options:{traceId:Le},actionCallback:$s});break}case"response.INVALID_RESPONSE":c.toggleDialog({name:"proceedGame.invalidResponse|confirm",options:{traceId:Le}});break;case"response.CANT_SAVE":ft=()=>{ie({responseOfLastAttempt:C,gameType:x,powerupsToDestroy:ee}),c.toggleDialog()},c.toggleDialog({name:"proceedGame.cantSave|confirm",options:{traceId:Le},actionCallback:ft});break;case"response.ALREADY_ANSWERED":case"question.NON_ANWERABLE":ft=async()=>{if(is){const{roomHash:$s,gameType:qn}=e;await ve({roomHash:$s,gameType:qn})}c.toggleDialog()},c.toggleDialog({name:"proceedGame.outOfSync|confirm",options:{canSync:is,alreadyAnswered:bs,traceId:Le},actionCallback:ft});break;case"timeout":ft=()=>{ie({responseOfLastAttempt:C,gameType:x,powerupsToDestroy:ee}),c.toggleDialog()},c.toggleDialog({name:"proceedGame.timeout|confirm",actionCallback:ft,options:{traceId:Le}});break;default:if(ft=$s=>{$s===0?(Tu(),t.requestToChangePage({to:O.get(O.List.LANDING.HOME)})):ie({responseOfLastAttempt:C,gameType:x,powerupsToDestroy:ee}),c.toggleDialog()},Ye===""&&!window.navigator.onLine&&Number.isNaN(Pe==null?void 0:Pe.statusCode)){Qn="network-issues",c.toggleDialog({name:"proceedGame.InGameNetworkIssue|confirm",options:{errorCode:vs+Qn,traceId:Le},actionCallback:ft});break}c.toggleDialog({name:"proceedGame.defaultError|confirm",options:{errorCode:vs,traceId:Le},actionCallback:ft})}return s.proceedGameRespondedWithError({response:be.responseToBeSent,requestSucceeded:Kt}),{didAnswer:!1}}}function ge({responseOfLastAttempt:C}){const{activatedPowerupEffects:x}=d,ee=Ut(x,{name:"immunity",status:fa.ACTIVATED});Ca.$emit("question:clearAnswers"),s.clearQuestionResponse(C),c.togglePowerupToast({isVisible:!0,options:{title:U("Incorrect answer,"),message:U("you get one more chance"),type:"immunity-feedback"}});const te=C.response,le=mo.createAPI({isCorrect:!1,actualSelectedIndices:Array.isArray(te)?te:[te],gameAppearance:a.gameAppearance}),{beforeAnswerPowerupEffects:De}=d;X({powerupEffect:ee}),na.applyEffects(De,le)}function Ce({isAtGamePlayStart:C=!1,forcePushPageChange:x=!1}={}){if(n.duelData.decisionOptions&&s.remainingOrder.length>0){ld().showP2PSelection();return}const{doneOrderForEvaluatedQuestions:ee,isInComprehensionView:te,comprehensionQuestion:le,comprehensionQuestionIds:De,currentQuestion:we,currentId:be,numberOfComprehensionQuestionsUnattempted:Ge,nextUnAttemptedComprehensionQuestionId:nt}=s,{isMasteryMode:St}=e,mt=bc({remainingOrder:s.remainingOrder,answerLaterQuestions:s.answerLaterQuestions,currentId:s.currentId,doneOrder:s.doneOrder,isInComprehensionView:s.isInComprehensionView,slidesFlowControlType:s.slidesFlowControlType,list:s.list,totalQuestionsInGame:s.totalQuestionsInGame,isCurrentQuestionForRedemptionAttempt:s.isCurrentQuestionForRedemptionAttempt,comprehensionQuestion:s.comprehensionQuestion,orderedOriginalResponses:s.orderedOriginalResponses,orderedRedemptionResponses:s.orderedRedemptionResponses,initSequence:s.initSequence,skippedQuestions:s.skippedQuestions,roomHash:e.roomHash,gameType:e.gameType,gameMode:e.gameMode,gameOptions:e.gameOptions,playerId:n.playerId,extraLife:n.extraLife,getNextQuestion:s.getNextQuestion,readAloud:r.readAloud,isAtGamePlayStart:C,getters:{doneOrderForEvaluatedQuestions:ee,isMasteryMode:St,isInComprehensionView:te,comprehensionQuestion:le,comprehensionQuestionIds:De,nextUnAttemptedComprehensionQuestionId:nt,currentQuestion:we,currentId:be,numberOfComprehensionQuestionsUnattempted:Ge}});if(mt.showingAnswerLaterQuestions&&a.showingAnswerLaterQuestions({inProgress:!0}),!mt.areThereQuestionsLeftToShow){Ee();return}if(!mt.isQuestionToShowValid)return;if(C&&setTimeout(()=>{let{previousStreak:Le,currentStreak:Ye}=n;const{gameAppearance:ft}=a,{activatedPowerupEffects:Kt,questionScopePowerupEffects:js,gameScopePowerupEffects:ts,answerScopePowerupEffects:bs,postAnswerPowerupEffects:is}=d,vs=mo.createAPI({previousStreak:Le,currentStreak:Ye,gameAppearance:ft,activatedPowerupEffects:Kt}),Cn=_a(js,ts,is),Yn=_a(Cn,bs),Qn=$t.getConfig();It(Yn,$s=>{Gs(Qn[$s.name].onActivate)&&Qn[$s.name].onActivate(Dc),na.applySpecialEffects([$s],"onActivate",vs)}),na.applyEffects(Cn,vs),Le=vs==null?void 0:vs.streak.getPreviousStreak(),Ye=vs==null?void 0:vs.streak.getCurrentStreak(),n.updateStreak({previousStreak:Le,currentStreak:Ye})}),mt.shouldShowRedemptionQuestion){ke(mt.mutationPayload);return}mt.shouldUpdateSlide&&$e(mt.updatedSlide),mt.shouldReplayQuestionForAE&&qt().setReshowQuestionIds({questionIds:[mt.mutationPayload.questionId]});const{collapseQuestionsList:xt,showQuestionsList:Lt}=fo(),{isMobileWidth:cs}=Co();if(E.value&&e.gameMode!==re.TEACHER_PACED){const{setIsPlaying:Le,getNextUnattemptedQuestion:Ye}=uu();Ye()||(xt(),Le(!0))}else cs.value&&le&&!te&&Lt();if(e.gameOptions.flashcardMode===nr.Study){const Le=rs();ne(Le||mt.mutationPayload)}else ne(mt.mutationPayload);window.location.pathname.startsWith("/join/notes/")||t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ),metaData:{forcePush:x},gameData:mt.gameData})}async function Fe(){const{playerId:C}=n,{roomHash:x,gameMode:ee}=e;try{if(ee===re.MYSTIC_PEAK){const te={playerId:C,roomHash:x},{response:le}=await lC(te),{mysticPeakBoard:De}=le;a.updateWaitingMysticLeaderboard({mysticPeakBoard:De})}}catch(te){b.error("Error at Updating leaderboard while student wait for others",te)}}async function ve({roomHash:C,gameType:x}){const ee=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,te=ee();try{const{cookedResponse:le}=await te.getGameQuestions({roomHash:C,gameType:x})||{};Object.keys(s.list).forEach(be=>{le.questions[be].answer=s.list[be].answer}),s.setQuestions(le),e.setQuestions(le);const we=sS(s.list,s.slidesFlowControlType,e.gameState,le);if(we.shouldEndGame&&(we.areAllPlayerSlidesDone&&s.playerQuestionsOver(),Q()),we.shouldUpdateSlide&&Ie(we.updateSlidePayload),!S(le.canvas)){const be=le.canvas.annotations===!0,Ge=le.canvas.host===!0,nt=!be&&le.canvas.player===!0;$({states:{host:{isVisible:Ge},player:{isVisible:Ge,canDraw:nt},isAnnotationsEnabled:be}})}return!0}catch(le){return b.error("Error at action syncGameQuestions: ",le),!1}}async function ot({playerId:C,roomHash:x,hostId:ee,questionId:te,triggerType:le,reactionDetail:De}){try{const we={playerId:C,roomHash:x,hostId:ee,questionId:te,triggerType:le,reactionDetail:De},{response:be}=await JR(we);return be}catch(we){return b.error("Error at action updateReactionForPlayer",we),!1}}function $({states:{host:C={},player:x={},isAnnotationsEnabled:ee=a.liveWhiteboardState.isAnnotationsEnabled}={},shouldUpdate:te=!0,updateDelay:le=0}={}){const De=Ts(a.liveWhiteboardState),we={host:{...De.host,...C},player:{...De.player,...x},isAnnotationsEnabled:ee};if(pu(De,we)||a.setLiveWhiteboardState(we),!(!te||we.host.isVisible===!1)){if(we.player.canDraw){setTimeout(()=>{Ca.$emit("liveWhiteboard:action",{type:uo.REFRESH_PLAYER_CANVAS})},le);return}setTimeout(()=>{Ca.$emit("liveWhiteboard:action",{type:uo.REFRESH_HOST_CANVAS})},le)}}function ne({questionId:C,doneOrder:x,remainingOrder:ee,currentOptionsAppearance:te,powerupScopes:le}){s.setCurrentQuestion({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:le}),a.setCurrentQuestion({currentOptionsAppearance:te,doneOrder:x}),l.setCurrentQuestion({powerupScopes:le}),!((s.slidesFlowControlType!==es.FULL||!s.isCurrentSlideInteractable)&&!o.notes)&&(s.currentQuestion.state===dn.ACTIVE&&s.isCurrentQuestionCurrentAttemptEvaluated&&$e({id:C,state:dn.REVEAL}),o.notes&&s.currentQuestion._id!==C&&$e({id:C,state:dn.ACTIVE}))}function Ie({nextQuestion:C,remainingOrder:x}){const ee=Array.isArray(x)?x:s.remainingOrder,te=[C.questionId,...ee];s.changeRemainingQuestionsOrder({remainingOrder:te}),qt().setCachedCurrentQuestionId(C.questionId),Ce()}function qe({remainingOrder:C}){const{slidesFlowControlType:x}=s;x===es.FULL&&!e.isLessonRunningInStudentPacedMode()&&de({questionId:C[0]}),s.changeRemainingQuestionsOrder({remainingOrder:C}),Ce()}function at({questionId:C}){s.addQuestionToDoneOrder(C)}function $e(C){var we,be,Ge,nt,St,mt;const x={id:C.id||C.questionId||""},ee=!S(x.id)&&Jt(s.initSequence,x.id);b.invariant(ee,["Slide id provided to `updateSlide` is not valid or does not exist in current slides. Found in -",C]);const te=C.options||k(C,"structure.options"),le=C.answer||k(C,"structure.answer");if(Jt(Object.values(dn),C.state)&&(x.state=C.state),Array.isArray(te)&&(x.options=te),(ni(le)||ut(le)||Array.isArray(le))&&(x.answer=le),an(C.metadata)&&(x.metadata=C.metadata),(we=C==null?void 0:C.structure)!=null&&we.graphs&&((be=C==null?void 0:C.structure)!=null&&be.answer)){const xt=((nt=(Ge=C==null?void 0:C.structure)==null?void 0:Ge.answer)==null?void 0:nt[0])||((St=C==null?void 0:C.structure)==null?void 0:St.answer);x.answerGraph=(((mt=C==null?void 0:C.structure)==null?void 0:mt.graphs)||[]).find(Lt=>(Lt==null?void 0:Lt.plotId)===xt)}const De=Xi();De.flushActiveRAIds(),De.flushTTSIds(),s.updateQuestionSlide({slide:x})}async function tt(){const{playerId:C}=n,{roomHash:x,gameType:ee,gameState:te}=e,le={roomHash:x,gameType:ee,gameState:te,playerId:C,gameId:x},De=[...s.doneOrderForEvaluatedQuestions];s.currentId&&De.push(s.currentId);const we=[...s.remainingOrder],be=s.incorrectQuestionAttempts,Ge={questionId:"",doneOrder:De,remainingOrder:we,currentOptionsAppearance:[],powerupScopes:["game"]},nt=[];return we.forEach(St=>{be.has(St)||nt.push(St)}),nt.length===0&&s.currentId?(await s.setCurrentQuestion(Ge),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:Li.ACHIEVED_WITH_SEEN},gameData:le})):(Ge.remainingOrder=nt,await s.setCurrentQuestion(Ge),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:{currentAnimationPreset:Li.ACHIEVED_WITH_UNSEEN},gameData:le}))}async function vt(){const{hasReachedMasteryAtLeastOnce:C}=a,x=s.hasReachedMastery;if(!C&&x)return await tt()}async function Pt({hasReachedMasteryAtLeastOnce:C}){a.hasReachedMasteryOnce({hasReachedMasteryAtLeastOnce:C})}async function Te(){Ce()}async function Ne(){const{roomHash:C,gameType:x,gameState:ee}=e,{playerId:te,accuracy:le,previousAccuracy:De}=n,we={roomHash:C,gameType:x,gameState:ee,playerId:te,gameId:C},be={currentAnimationPreset:Li.IN_GAME};return le>De?be.currentAnimationPreset=Li.INCREASED:le<=De&&(be.currentAnimationPreset=Li.DECREASED),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.MASTERY_MODE_CONFIRMATION_SCREEN),metaData:be,gameData:we})}async function me(){return t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ)})}async function Se(){const{doneQuestionsFrequency:C,currentId:x}=s,ee={...C};x in ee?ee[x]+=1:ee[x]=0,s.updateDoneQuestionsFrequency({doneQuestionsFrequency:ee})}async function Qe({selectedQuestionId:C}){const{mutationPayload:x}=eS(C);ne(x)}async function He(C={value:!0}){s.setIsComprehensionQuestionNavigationEnabled(C)}async function Xe(C={}){s.setComprehensionQuestionListDisplay(C)}async function Rt(C={comprehensionQuestionId:""}){s.setVisitedComprehensionQuestion(C)}async function gt(C={}){s.updateComprehensionQuestionAttempts(C)}async function Ue(){s.resetComprehensionQuestionAttempts()}async function se({isProceed:C=!1,currentId:x="",repeatFlow:ee=!1,answerLaterFlow:te=!1}={}){var Kt,js;const le=Xi();le.flushActiveRAIds(),le.flushTTSIds();const De=s.slidesFlowControlType===es.PARTIAL,{hasReachedMasteryInMysticPeakAtleastOnce:we}=a;if(!(C||ee||s.isAnswerLaterQuestion||s.hasCurrentQuestionBeenAnswered||s.hasIncorrectAttemptForQuestion)||!De&&((Kt=s.comprehensionQuestion)==null?void 0:Kt.type)!==Y.COMPREHENSION_VIDEO)return;s.remainingOrder=$r({getters:{numberOfComprehensionQuestionsUnattempted:s.numberOfComprehensionQuestionsUnattempted,currentId:x||s.currentId,comprehensionQuestionIds:s.comprehensionQuestionIds},remainingQuestionsOrder:s.remainingOrder,isProceed:C});const be=s.totalAnswerLaterQuestions.includes(s.currentId);if(s.isQuestionEligibleForAnswerExplanation&&!s.hasUserDiscardedReattempt&&!be&&s.isAnswerExplanationPresentInProceedGame){const ts=s.isCurrentQuestionCurrentAttemptResponseCorrect,bs=s.reshowQuestionIds.indexOf(s.currentId);if(ts){const is=s.reshowQuestionIds;is.splice(bs,1),s.reshowQuestionIds=[...is]}else if(bs===-1){const is=s.reshowQuestionIds;is.push(s.currentId),s.reshowQuestionIds=[...is]}else{const is=s.reshowQuestionIds;is.splice(bs,1),s.reshowQuestionIds=[...is]}if(s.reshowQuestionIds.includes(s.currentId)){const is=s.remainingOrder;is.unshift(s.currentId),s.remainingOrder=[...is]}}s.remainingOrder.length||a.showingAnswerLaterQuestions({inProgress:!1});const Ge={doneOrderForEvaluatedQuestions:s.doneOrderForEvaluatedQuestions,isMasteryMode:e.isMasteryMode,isCurrentQuestionSkipped:s.isCurrentQuestionSkipped,isInComprehensionView:s.isInComprehensionView,comprehensionQuestion:s.comprehensionQuestion,comprehensionQuestionIds:s.comprehensionQuestionIds,areAllComprehensionQuestionsAttempted:s.areAllComprehensionQuestionsAttempted,nextUnAttemptedComprehensionQuestionId:s.nextUnAttemptedComprehensionQuestionId,currentQuestion:x?s.list[x]:s.currentQuestion,currentId:x||s.currentId,numberOfComprehensionQuestionsRemaining:s.numberOfComprehensionQuestionsRemaining,isSkipQueueInProgress:a.answerLaterFlow.inProgress,numberOfComprehensionQuestionsUnattempted:s.numberOfComprehensionQuestionsUnattempted},{shouldShowRedemptionQuestion:nt,mutationPayload:St,shouldShowAnswerLaterQuestions:mt,shouldShowReviewQuestions:xt,answerLaterMutationPayload:Lt,shouldShowBreakRoom:cs,hasReachedMasteryForMysticPeak:ws,shouldShowMasteryCountdown:Pe}=dd(s.remainingOrder,s.currentId,s.doneOrder,s.questionResponses,s.answerLaterQuestions,s.isLastAnswerLaterQuestion,s.orderedOriginalResponses,s.orderedRedemptionResponses,s.totalQuestionsInGame,s.skippedQuestions,s.initSequence,a.breakRoomArr||[],e.gameType,e.gameMode,e.gameOptions,e.mysticPeakLevelMap,e.gameOptions.reviewAndSubmit,n.totalCorrect,Ge,C);if(xt){(js=Ge.currentQuestion)!=null&&js.comprehensionQuestionId&&Rt({comprehensionQuestionId:Ge.currentQuestion.comprehensionQuestionId}),ls(St),a.showingAnswerLaterQuestions({inProgress:!1});return}if(C||await Se(),n.duelData.decisionOptions&&s.remainingOrder.length>0){ld().showP2PSelection();return}if(nt){ke(St),a.showingAnswerLaterQuestions({inProgress:!1});return}if(mt){ye(Lt);return}if(!s.isCurrentQuestionSkipped&&!C){const{questionResponses:ts,currentId:bs}=s;await _s({response:km(ts,x||bs),gameType:e.gameType,gameMode:e.gameMode})}if(cs){const ts={};if(ws&&!we){ts.breakoutRoomType=$o.PATH_FINDER,a.updateHasReachedMasteryInMysticPeakAtleastOnce({reached:!0}),Mt(ts);return}if(!we){ts.breakoutRoomType=$o.LEVEL_UP,Mt(ts);return}}const{isMasteryMode:Le}=e;if(Le){const{hasReachedMastery:ts}=s;if(ts&&!a.hasReachedMasteryAtLeastOnce){await tt();return}if(Pe&&!a.hasReachedMasteryAtLeastOnce){await Ne();return}}const ft=bc({remainingOrder:s.remainingOrder,answerLaterQuestions:s.answerLaterQuestions,currentId:s.currentId,doneOrder:s.doneOrder,isInComprehensionView:s.isInComprehensionView,slidesFlowControlType:s.slidesFlowControlType,list:s.list,totalQuestionsInGame:s.totalQuestionsInGame,isCurrentQuestionForRedemptionAttempt:s.isCurrentQuestionForRedemptionAttempt,comprehensionQuestion:s.comprehensionQuestion,orderedOriginalResponses:s.orderedOriginalResponses,orderedRedemptionResponses:s.orderedRedemptionResponses,initSequence:s.initSequence,skippedQuestions:s.skippedQuestions,roomHash:e.roomHash,gameType:e.gameType,gameMode:e.gameMode,gameOptions:e.gameOptions,playerId:n.playerId,extraLife:n.extraLife,getNextQuestion:s.getNextQuestion,readAloud:r.readAloud,isAtGamePlayStart:!1,getters:Ge,isProceed:C,answerLaterFlow:te});if(ft.canEnd){if(e.gameOptions.reviewAndSubmit){ls(ft.mutationPayload),a.showingAnswerLaterQuestions({inProgress:!1});return}Ee();return}if(ft.showingAnswerLaterQuestions){ye(ft.mutationPayload);return}if(!ft.isQuestionToShowValid){Le&&(s.remainingOrder.length===1&&s.currentId===""||s.remainingOrder.length===0&&s.currentId!=="")&&(ne({...ft.mutationPayload,questionId:""}),Ce());return}if(ee){Ce();return}if(E.value&&e.gameMode!==re.TEACHER_PACED){const{setIsPlaying:ts,getNextUnattemptedQuestion:bs}=uu();if(!bs()){const{collapseQuestionsList:vs}=fo();vs(),ts(!0)}}ne(ft.mutationPayload)}function Ee(){const C=f.moveOnAfterGameComplete();return C&&setTimeout(()=>{s.playerQuestionsOver()},0),C}function ke({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:te}){const{showQuestionsList:le}=fo();if(le({dontSave:!0}),s.setCurrentQuestion({questionId:C||"",doneOrder:x||[],remainingOrder:ee||[],powerupScopes:te}),e.gameOptions.hasRedemptionPass!==Gt.hasRedemptionPass.YES){t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.REDEMPTION_QUESTION_SELECTOR),gameData:{roomHash:e.roomHash,playerId:n.playerId,gameType:e.gameType}});return}if(s.orderedRedemptionResponses.length===0)ct.logEvent(as.COMPLETE_PASS_1,{total:Object.keys(s.list).length,incorrect:ti.getTotalOriginallyIncorrectQuestionIds(s.orderedOriginalResponses).length}),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.BEFORE_REDEMPTION_SECTION),gameData:{roomHash:e.roomHash,playerId:n.playerId,gameType:e.gameType}}),zc&&clearTimeout(zc),zc=setTimeout(()=>{const De={doneOrderForEvaluatedQuestions:s.doneOrderForEvaluatedQuestions,isMasteryMode:e.isMasteryMode,numberOfComprehensionQuestionsUnattempted:s.numberOfComprehensionQuestionsUnattempted},we=bc({remainingOrder:s.remainingOrder,answerLaterQuestions:s.answerLaterQuestions,currentId:s.currentId,doneOrder:s.doneOrder,isInComprehensionView:s.isInComprehensionView,slidesFlowControlType:s.slidesFlowControlType,list:s.list,totalQuestionsInGame:s.totalQuestionsInGame,isCurrentQuestionForRedemptionAttempt:s.isCurrentQuestionForRedemptionAttempt,comprehensionQuestion:s.comprehensionQuestion,orderedOriginalResponses:s.orderedOriginalResponses,orderedRedemptionResponses:s.orderedRedemptionResponses,initSequence:s.initSequence,skippedQuestions:s.skippedQuestions,roomHash:e.roomHash,gameType:e.gameType,gameMode:e.gameMode,gameOptions:e.gameOptions,playerId:n.playerId,extraLife:n.extraLife,getNextQuestion:s.getNextQuestion,readAloud:r.readAloud,isAtGamePlayStart:!1,getters:De});t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ),metaData:{},gameData:we.gameData});const be=ti.selectQuestionsForRedemption(s.orderedOriginalResponses,s.orderedRedemptionResponses)[0];D({questionId:be}),a.setRedemptionCurrentQuestionNumber({count:1})},7750);else{const De=s.orderedRedemptionResponses.length+1,we=ti.selectQuestionsForRedemption(s.orderedOriginalResponses,s.orderedRedemptionResponses)[0];D({questionId:we}),a.setRedemptionCurrentQuestionNumber({count:De})}}function D({questionId:C}){b.invariant(!S(C),`Redemption question's id cannot be blank - ${C}`),S(C)||s.changeRemainingQuestionsOrder({remainingOrder:[C,...s.remainingOrder]}),$e({id:C,state:dn.ACTIVE}),Ce()}async function Z({direction:C="forward"}){var le;const x=(((le=e.lessonMetaData)==null?void 0:le.studentPacedEndQuestionIndex)??0)+1;qt();const ee={currentQuestion:s.currentQuestion,isCurrentSlideInteractable:s.isCurrentSlideInteractable,currentQuestionNumber:s.currentQuestionNumber,isCurrentSlideForContent:s.isCurrentSlideForContent,studentPacedEndQuestionNumber:x,isLessonInStudentPacedMode:e.isLessonRunningInStudentPacedMode()},te=tS(s.list,s.doneOrder,s.remainingOrder,s.initSequence,s.currentId,r.readAloud,e.gameState,n.isOver,ee,C);Bd(()=>{e.isLessonRunningInStudentPacedMode()&&x===s.currentQuestionNumber&&!S(s.currentQuestionCurrentAttemptResponse)&&t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:ic.QUESTIONS_DONE}})}),!te.isNotAllowedToProceed&&(te.areQuestionsOver&&Ee(),te.shouldUpdateSlideState&&$e(te.updateSlidePayload),te.shouldUpdateCurrentSlide&&ne(te.setCurrentQuestionMutationPayload),te.shouldUpdatePlayerMetadata&&!e.isLessonRunningInStudentPacedMode()&&!o.notes&&de(te.updateMetadataPayload))}const pe=pg(async(C,x)=>{try{const{roomHash:ee,gameType:te,gameMode:le}=e,{playerId:De}=n,{flashcardMode:we}=Ra(),Ge=Ma(e.isMasteryMode)(te,le),{response:nt}=await sC(ee,De,Ge,{qId:C,qIdIndex:x},Ge.includes("flashcard")?we:void 0);return nt}catch(ee){return b.error("Error at updatePlayerMetadata",ee),null}},1500);async function de({questionId:C=""}={}){const x=C||s.currentId,ee=Ms(s.initSequence,te=>te===x);S(x)||pe(x,ee)}async function ce({answer:C}){const x=nS(s.currentId,s.questionResponseStatuses,n.accuracy,n.totalCorrect,n.currentStreak,n.playerId,a.leaderboard.list,e.roomHash,{currentQuestion:s.currentQuestion,currentQuestionCurrentAttemptResponse:s.currentQuestionCurrentAttemptResponse},C);if(b.invariant(x.hasCurrentQuestionBeenAnswered,`Not Allowed: Trying to ReEdit answer to a question with no response. Found ${s.currentQuestionCurrentAttemptResponse}`,{logOnSentry:!0}),!!x.hasCurrentQuestionBeenAnswered){s.answeredCurrentQuestion(x.mutationPayload),l.answerCurrentQuestion(x.mutationPayload);try{await aC(x.updateResponsePayload)}catch(ee){b.error("Error at currentQuestionReEdited",ee)}}}function he(C){const x=C>=0?C:0;e.setTestTimerCounter(x)}function ue(C){e.setIsTestTimerEnabled(C)}const Ve=()=>{e.pauseGame(0)};async function et(){let C=3;const x=setInterval(()=>{if(C===0){clearInterval(x),e.countdownPause321(0),Ve();return}e.countdownPause321(C--)},1e3)}async function st(C){var we;const{currentPage:x}=t;if(O.matches(x,O.List.IN_GAME.SUMMARY,2))return;const ee=s.currentId,te=s.currentQuestionCurrentAttemptIndex,le=new Date,De=new Date(le.getTime()+(C+3)*1e3);if(a.updateQuestionTimer({forQuestion:{id:ee,attempt:te},events:[{type:"start",on:De,for:((we=s.currentQuestion)==null?void 0:we.time)||-1}]}),Lc&&clearTimeout(Lc),C===0){et();return}C!==0&&e.pauseGame(C),Lc=setTimeout(()=>{st(0),et()},C*1e3)}function kt({attemptsPerQuestion:C,doneQuestionsFrequency:x,questionId:ee}){return C===Gn.MASTERY_MODE_REATTEMPTS.unlimited?!0:ee in x?x[ee]<C:!0}async function Tt(){s.updateIncorrectAttempt()}async function _s({response:C,gameType:x,gameMode:ee}){e.isMasteryMode?ks({response:C,gameType:x,gameMode:ee,hasReachedMastery:s.hasReachedMastery}):Bt({response:C,gameType:x,gameMode:ee})}async function Bt({response:C,gameMode:x,gameType:ee}){!tr(C)&&ii({gameType:ee,gameMode:x,isMasteryMode:e.isMasteryMode})?(await Tt(),await s.addQuestionToIncorrectAttempt()):await s.addQuestionToCorrectAttempt()}async function ks({response:C,gameType:x,gameMode:ee,hasReachedMastery:te}){var be;const le=(be=e.gameOptions.masteryMode)==null?void 0:be.reattempts,De=Gn.MASTERY_MODE_REATTEMPTS[le],we=kt({attemptsPerQuestion:De,doneQuestionsFrequency:s.doneQuestionsFrequency,questionId:s.currentId});!tr(C)&&ii({gameType:x,gameMode:ee,isMasteryMode:e.isMasteryMode})&&!te&&we?(await Tt(),await s.addQuestionToIncorrectAttempt()):await s.addQuestionToCorrectAttempt()}async function ds({responseOfLastAttempt:C,isCorrect:x}){try{const{state:ee,questionType:te,timeTaken:le}=C,{gameMode:De,gameType:we,gameOptions:be}=e,Ge=Gn.ANSWER_LATER_RESPONSE_STATES.includes(ee);let nt;const{answerLaterQuestions:St,currentId:mt}=s;C.questionId?nt=C.questionId:nt=mt;const{onEvaluationComplete:xt}=dp();if(St.includes(nt)&&(s.attemptedAnswerLaterQuestion(),ct.logEvent(as.ANSWER_LATER_QUESTION_ATTEMPTED,{isCorrect:x,questionId:nt,state:ee,questionType:te,timeTaken:le,gameMode:De,gameType:we})),Ge&&!St.includes(nt)){await s.updateAnswetLaterQuestions({id:nt}),ct.logEvent(as.ANSWER_LATER_CLICKED,{questionId:nt,state:ee,questionType:te,timeTaken:le,gameMode:De,gameType:we}),s.isComprehensionChildQuestion(nt)&&s.setCurrentQuestion({questionId:nt,doneOrder:s.doneOrder,remainingOrder:s.remainingOrder}),await se({currentId:nt,answerLaterFlow:!0});let Lt=!0;s.isComprehensionChildQuestion(nt)&&s.unAnsweredComprehensionQuestionIds.length&&(Lt=!1),Lt&&qI(be.reduceMotion)&&(h.updateSubmitState({skipAnimationInProgress:!0}),await cu(1500),xt({movedToAnswerLater:!0}),await cu(1500),h.updateSubmitState({skipAnimationInProgress:!1}))}return!0}catch(ee){return b.error("Error at action handleAnswerLaterQuestion: ",ee),!1}}function ls({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:te}){s.setCurrentQuestion({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:te}),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.REVIEW_QUESTIONS_SCREEN),gameData:{roomHash:e.roomHash,playerId:n.playerId,gameType:e.gameType}}),s.showingReviewScreen()}function ye({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:te}){ne({questionId:C,doneOrder:x,remainingOrder:ee,powerupScopes:te}),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.ANSWER_LATER_QUESTIONS_SCREEN),gameData:{roomHash:e.roomHash,playerId:n.playerId,gameType:e.gameType}}),ct.logEvent(as.ANSWER_LATER_RESURFACED,{skippedQuestionsCount:s.totalAnswerLaterQuestions,totalQuestionsInGame:s.totalQuestionsInGame}),a.showingAnswerLaterQuestions({inProgress:!0})}function At(){const C=[...s.answerLaterQuestions];C.length>0&&s.changeRemainingQuestionsOrder({remainingOrder:C}),Ce()}function Et(C){const{updates:x}=C;e.updateGameOptions({updatedGameOptions:x})}function Mt(C){const{breakoutRoomType:x=$o.POWERUP_SELECTION,powerupIndex:ee=null,powerupName:te="",type:le="",breakRoomArr:De=a.breakRoomArr}=C,we=[...s.doneOrderForEvaluatedQuestions];s.currentId&&we.push(s.currentId);const be={questionId:"",doneOrder:we,remainingOrder:[...s.remainingOrder],currentOptionsAppearance:[],powerupScopes:["game"]};a.updateBreakRoomType({breakoutRoomType:x,powerupIndex:ee,powerupName:te,type:le,breakRoomArr:De}),ne(be),t.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.BREAK_ROOM_SCREEN),gameData:{roomHash:e.roomHash,playerId:n.playerId,gameType:e.gameType}})}function ms(){Ce()}function Vs({powerupIndex:C,powerupName:x,type:ee}){Mt({breakoutRoomType:$o.LEVEL_UP,powerupIndex:C,powerupName:x,type:ee})}async function xs({powerupIndex:C}){const{gameMode:x,gameType:ee,roomHash:te,mysticPeakLevelMap:le,isMasteryMode:De}=e,{playerId:we,totalCorrect:be}=n,Ge=le.findIndex(mt=>mt===be),nt=Ma(De),St={roomHash:te,playerId:we,gameType:nt(ee,x),breakoutRoom:{powerUpIndex:C,level:Ge}};try{return await cC(St),{success:!0}}catch(mt){return b.error("Error at updateBreakRoom:-",mt),{success:!1}}}async function Zs({pathFinder:C}){const{gameMode:x,gameType:ee,roomHash:te}=e,{playerId:le}=n,De=Ma(e.isMasteryMode),we={roomHash:te,playerId:le,gameType:De(ee,x),pathFinder:C.toUpperCase()};try{return await dC(we),{success:!0}}catch(be){return b.error("Error at updatePathFinder:-",be),{success:!1}}}async function q(){const{gameMode:C,gameType:x,roomHash:ee,isMasteryMode:te}=e,{playerId:le}=n,De=Ma(te),we={roomHash:ee,playerId:le,gameType:De(x,C)};try{return await uC(we),{success:!0}}catch(be){return b.error("Error at updatePlayerObstacle:-",be),{success:!1}}}async function dt({breakRoomItem:C,powerupIndex:x=0}){const{name:ee,type:te}=C;a.showPowerupOnBreakroom({powerupIndex:x}),te===yr.powerup&&await I({powerupIndex:x,powerupName:ee}),(te===yr.obstacle||te===yr.safeSpot)&&(await xs({powerupIndex:x}),te===yr.obstacle?Mt({breakoutRoomType:$o.OBSTACLES,powerupIndex:x}):ms())}function zt(){Ia(e.gameMode,e.gameType)&&(e.disableAnswerFeedback(),n.currentDifficulty==="easy"&&e.enableAnswerFeedback())}function os(C){const x=[];x.push(C),S(x)||(s.changeRemainingQuestionsOrder({remainingOrder:x}),Ce())}function ns(C){e.gameIssuesUpdate(C)}function rs(){var ee,te;const C=(ee=e.roomMetaData)==null?void 0:ee.qId,x=((te=e.roomMetaData)==null?void 0:te.qIdIndex)||0;return C?{questionId:C,doneOrder:s.initSequence.slice(0,x),remainingOrder:s.initSequence.slice(Math.max(x+1,0)),currentOptionsAppearance:[],powerupScopes:[]}:null}return{triggerSkipQuestion:_,startQuestions:Ce,gameIssuesUpdate:ns,reviewCurrentQuestion:os,handleShowingAnswerFeedback:zt,breakRoomItemSelected:dt,updatePlayerObstacle:q,updatePathFinder:Zs,levelUp:Vs,onBreakRoomInteraction:ms,handleShowingBreakRoom:Mt,updateGameOptions:Et,onLoadAnswerLaterQuestions:At,handleShowingAnswerLaterQuestions:ye,handleShowingReviewSection:ls,handleAnswerLaterQuestion:ds,handleIncorrectAttemptForMastery:ks,handleIncorrectAttemptForRest:Bt,handleIncorrectAttempt:_s,updateIncorrectAttempt:Tt,checkIfQuestionCanBeAddedToIncorrectAttempt:kt,pauseGame:st,countdownPause321:et,updateIsTestTimerEnabled:ue,setTestTimerCounter:he,currentQuestionReEdited:ce,reconnectToGame:y,exitFromSummaryPage:N,setNextPossibleMemeSet:G,gameCompleted:z,gameStopped:Q,getPowerups:H,awardSinglePowerup:I,awardMultiplePowerups:M,resetDroppedStates:J,raiseHandForPlayer:K,setCurrentQuestion:ne,setNextQuestion:Ie,resetRemainingQuestionsOrder:qe,addQuestionToDoneOrder:at,updateSlide:$e,handleMasteryMode:vt,handleMasteryReached:tt,setHasReachedMasteryAtLeastOnce:Pt,onStartAnsweringUnseenQuestions:Te,showMasteryCountdown:Ne,afterMasteryCountdownOver:me,updateDoneQuestionsFrequency:Se,handleSyncingLiveWhiteboardState:$,replacePowerups:fe,updateReactionForPlayer:ot,syncGameQuestions:ve,updateMysticLeaderboard:Fe,onCurrentQuestionOver:se,onRedemptionQuestionSelection:D,proceedFullPlayerControlledGames:Z,handleImmunityActivation:ge,handleProceedingGame:ie,doPlayerMetadataUpdation:de,activatePowerupFromMysteryBox:P,activatePowerup:j,destroyPowerupEffect:oe,endQuestionsAndMoveOn:Ee,handleSkipManyQuestions:v,onSelectQuestion:Qe,setComprehensionQuestionListVisibility:Xe,setVisitedComprehensionQuestion:Rt,updateComprehensionQuestionAttempts:gt,resetComprehensionQuestionAttempts:Ue,setIsComprehensionQuestionNavigationEnabled:He}}),Sr={id:"",monster:0,name:"",uid:"",mongoId:"",rank:-1,score:0,scoreTrail:[],accuracy:"",marks:0,totalCorrect:0,totalAttempt:0,totalResponses:0,currentStreak:0,previousStreak:0,longestStreak:0,maximumStreak:0,createdAt:new Date,startedAt:new Date,lastPlayedAt:new Date,isAllowed:!0,isOver:!1,isUnderage:!1,isProfane:!1,deleted:!1,currentGameAttempts:[],extraLife:[],assignment:{},attempts:[],experiment:"",locale:"",origin:"web",metadata:{},playerMetadata:{},powerupEffects:[],powerups:[]};function gp(e){return Yr({...e,id:vc([e.id,e.playerId,Sr.id]),monster:vc([e.monster,e.monsterId,Sr.monster]),mongoId:vc([e.mongoId,e.userId,Sr.mongoId])},Sr)}function Ju(e,t,s,n=""){var d,g;const a={},o=kS(s),i=So(k(o,"room.type")),r=fi(k(o,"room.type")),c=k(o,"room.metadata.lesson.gameMode",""),u=Cm(i,r,c);let l=t;t||(l=gi(i)?Je.LIVEASYNC:Je.SOLO);const p=[Je.LIVEASYNC,Je.SOLO];if(l===Je.SOLO&&!ut(o.player.monsterId)&&ut(o.player.monster)&&(o.player.monsterId=o.player.monster),p.includes(l)){const f=Jr(o.room,($,ne)=>!Jt(["options","questions","questionIds"],ne)),h=ys(o.player),E=k(o,"room.teams",[]),A=o.differentiation||{};let{totalAnswerableQuestions:_}=f;const v=k(f,"traits.totalSlides",null);if(!ut(_)){const $=((d=o.room.questions)==null?void 0:d.length)||((g=o.room.questionIds)==null?void 0:g.length);_=ut(v)?$-v:$}const y=_,{questionIds:N,questions:G,remainingQuestionsOrder:z,doneOrder:Q,questionResponses:H,skippedQuestions:w,extraLifeQuestions:I,answerLaterQuestions:M,shouldShowReviewScreen:J,correctQuestionAttempts:K,incorrectQuestionAttempts:fe,isAdaptiveLearningGame:P}=PS(o,n),j={type:Ks.NONE,ids:Array.isArray(f.groupIds)?f.groupIds:[],createToken:k(f.groupsInfo,"create.token")||null,sourceRequest:""},oe=f.players?f.players.sort(($,ne)=>$.score>ne.score?-1:1).map(($,ne)=>({...$,rank:ne+1})):[];let X=[];f.totalQuestionsInQuiz=y,f.questionIds=N,f.questions=G,f.options=typeof o.room.options=="string"?JSON.parse(o.room.options):o.room.options,f.options=ci(f.options),A&&(f.options=lE(f.options,A.accommodations)),f.players=Nt(oe,gp),h.responses=H,h.remainingQuestionsOrder=z,h.doneOrder=Q,h.skippedQuestions=w,h.extraLife=I,h.score=o.player.score||0,h.marks=o.player.marks,h.longestStreak=o.player.maximumStreak||0,h.answerLaterQuestions=M,h.shouldShowReviewScreen=J,h.incorrectQuestionAttempts=fe,h.correctQuestionAttempts=K,h.powerups=Nt(h.powerups,$=>({id:$._id,name:$.name,status:$.status,meta:$.meta})),h.powerupEffects=Nt(h.powerupEffects,$=>({id:$._id,name:$.name,status:$.status,meta:$.meta,powerupId:$.powerupId})),ut(o.player.totalCorrect)?h.totalCorrect=o.player.totalCorrect:i===Je.SOLO?h.totalCorrect=ut(o.room.totalCorrect)?o.room.totalCorrect:0:h.totalCorrect=0,(!h.responses||h.responses.length<=0)&&(h.marks=0),h.marks||(h.marks=0,Nt(h.responses,$=>{Nt($,ne=>{h.marks+=ne.isCorrect&&ut(ne.marks)?ne.marks:0})}));let ie=0,ge=0,Ce=0;const Fe=gg(Object.values(h.responses));for(let $=0;$<Fe.length;$+=1)Fe[$].attempt===0&&(ie+=1,Fe[$].isCorrect&&(ge+=1),Fe[$].marks>0&&(Ce+=Fe[$].marks));h.firstAttempts=ie,h.firstCorrectAttempts=ge,h.firstAttemptMarks=Ce;const ve=P?h.totalPossibleMarks:f.totalPossibleMarks,ot=P?f.options.questionsPerAttempt:y;if(ve>0?(h.accuracy=Math.round(h.marks*100/ve),h.firstAttemptAccuracy=Math.round(h.firstAttemptMarks*100/ve)):ve===0?(h.accuracy=Math.round(h.totalAttempt*100/ot),h.firstAttemptAccuracy=Math.round(h.firstAttempts*100/ot)):(h.accuracy=Math.round(h.totalCorrect*100/ot),h.firstAttemptAccuracy=Math.round(h.firstCorrectAttempts*100/ot)),Al(f.quizId)&&(f.quizId=""),Al(f.quizName)&&(f.quizName=""),h.teamId){const $=Su(E),ne=Ut($,Ie=>Ie.teamId===h.teamId);ne&&(h.currentTeamName=ne.teamName,h.currentTeamRank=ne.rank,h.currentTeamTotalPlayers=ne.totalPlayers,h.currentTeamScore=ne.score)}if(r===re.PRESENTATION&&!S(h.remainingQuestionsOrder)){const ne=Ms(f.questionIds,Ie=>Ie===h.remainingQuestionsOrder[0])-1;ne>=0&&(h.doneOrder=Hc(f.questionIds,0,ne+1))}j.ids.length>0&&(j.type=j.createToken?Ks.GROUP_CREATION:Ks.ONLY_ASSIGNED,j.sourceRequest=e),f.groupData=j,f.teams=E,a.room=f,a.player=h,a.questionStates=o.questionStates,a.question=o.question,a.isAChallengeGame=f.type===re.CHALLENGE,a.leaderboard=[],a.isAChallengeGame&&(X=qs(k(o,"room.players",[]),["score"],["desc"]),X=Nt(X,($,ne)=>({...ka($,["playerId","monsterId","score","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]),rank:ne+1,isProfane:pi($.playerId)})),a.leaderboard=X)}return a.room.type=i,a.room.mode=r,a.room.slidesFlowControlType=u,o.forcedRedirect&&(a.forcedRedirect=o.forcedRedirect),Ts(a)}const OS=[Y.MCQ,Y.MSQ,Y.BLANK,Y.EQUATION,Y.FLASHCARD];function PS(e,t=""){const{room:s={},player:n={}}=e,a=So(s.type),o=fi(s.type),i=s.state,r=k(s,"metadata.lesson.gameMode",""),c=Cm(a,o,r),l=!(c===es.PARTIAL),p=typeof s.options=="string"?JSON.parse(s.options):s.options,d=ci(p),g=ut(d.questionsPerAttempt)&&d.questionsPerAttempt>=1,f=Ru(s.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:c}),h=t_(s,n),E=Rm(s,n),A=s_(s,n),_=d.masteryMode&&!S(d.masteryMode),v=Gn.MASTERY_MODE_REATTEMPTS;let y=Gn.MASTERY_MODE_REATTEMPTS.unlimited;_&&(y=v[d.masteryMode.reattempts]);let N=[],G=[],z=[],Q=n.responses,w=k_(s.questionIds,f);const I=d.reviewAndSubmit&&g_(Q,s.totalAnswerableQuestions),M=p_(Q,I),J=v_(Q),K=__(Q,J);if(o===re.FLASHCARD&&(w=Zt(w,oe=>{const X=f[oe];return!!(nc(X)&&OS.includes(X.type))})),g){const oe=n.questions,X=[];It(w,ie=>{Jt(oe,ie)&&X.push(ie)}),w=X}const fe=ii({gameMode:o,gameType:a,isMasteryMode:_});_&&re.MASTERY_MODE;const P=lh(n.responses,w,n.scoreTrail,c);z=P.answeredQuestions,G=ys(w),N=w,S(P.questionResponses)||(Q=P.questionResponses),h.length&&(z=z.concat(h));const j=z.reduce((oe,X)=>(oe[X]>=0?oe[X]+=1:oe[X]=0,oe),{});if(l){const oe=k(s,"metadata.qId",null),X=k(n,"playerMetadata.qId",null),ie=oe||X;let ge;if(c===es.NONE)ge=ie||w[0];else if(ie)if(h.includes(ie)){const Fe=h[h.length-1],ve=Ms(N,ot=>ot===Fe)+1;ge=w[ve]}else ge=ie;else for(let Fe=0;Fe<w.length;Fe++)if(!Jt(P.answeredQuestions,w[Fe])){ge=w[Fe];break}const Ce=Ms(N,Fe=>Fe===ge);z=w.slice(0,Ce),G=w.slice(Math.max(Ce,0)),(i===Ct.COMPLETED||i===Ct.STOPPED)&&(ge=null,G=[])}else if(z.length===0)s.options.jumble&&(G=Bl({remainingQuestionIds:w,unAttemptedQuestionIds:w,lastVisibleQuestionId:t,questions:f}));else{const oe=[...z].reverse(),X=oa(oe).reverse(),ie=X.filter(Ce=>w.includes(Ce));ie.push(...Lr(w,ie));let ge=ie.filter(Ce=>!X.includes(Ce));if(fe){const Ce=X.filter(Fe=>K.has(Fe)&&!J.has(Fe)&&(y===Gn.MASTERY_MODE_REATTEMPTS.unlimited||j[Fe]<Number.parseInt(y)));if(Ia(o,a)){t&&(ge=Xo(ge,t),ge.unshift(t));const Fe=X.filter(ve=>Ce.includes(ve));ge=A_({mysticPeakLevelMap:s.mysticPeakLevelMap,totalQuestionsInQuiz:s.totalAnswerableQuestions,totalCorrect:n.totalCorrect,remainingOrder:ge,incorrectQuestionIds:Fe})}else ge=[...ge,...Ce]}if(s.options.jumble){const Ce=Lr(w,X);ge=Bl({remainingQuestionIds:ge,unAttemptedQuestionIds:Ce,lastVisibleQuestionId:t,questions:f})}t&&Jt(ge,t)&&(ge=Xo(ge,t),ge.unshift(t)),A!=null&&A.questionId&&(ge=Xo(ge,A.questionId),ge.unshift(A.questionId)),G=ys(ge)}return N=oa(_a(z,G)),{questionIds:N,questions:f,remainingQuestionsOrder:G,doneOrder:z,questionResponses:Q,skippedQuestions:h,extraLifeQuestions:E,answerLaterQuestions:M,correctQuestionAttempts:J,incorrectQuestionAttempts:K,isAdaptiveLearningGame:g,shouldShowReviewScreen:I,doneQuestionsFrequency:j}}function kS(e){return an(e.player)&&(Array.isArray(e.player.responses)||(e.player.responses=[])),e}function fp({playerId:e,actualNameToBeUsed:t,startSource:s,callType:n,avatarId:a=-1,isLoggedIn:o,selectedAvatar:i,name:r,mongoId:c,lmsInfo:u,clientType:l,deviceInfo:p,classroomInfo:d,isClassroomGame:g}){const f=Sl(e);let h="";t&&(h=Sl(t));const E=Array.isArray(s)?fg(s,"|"):s;b.invariant(!S(E),`preparePlayerDataForJoin: 'startSource' is required for joining a game. Got '${E}' for callType '${n}'`);let A=null;i===-1||!i?a!==-1&&(A=a):A=i;const _={id:f,name:h,origin:l,isGoogleAuth:!1,avatarId:A,startSource:E||Ze.get(Ze.List.MISC)};if(o&&(_.isGoogleAuth=!0,_.name=r,_.mongoId=c),!S(d)&&d.lmsName&&g){const{lmsName:v}=d;let y="";u&&u[v]&&(y=u[v].studentId),_.assignment={studentId:y,courseId:d.courseId,assignmentId:d.assignmentId,lmsName:v}}return l===Yc.WEB?(_.userAgent=p.userAgent,_.uid=p.quizizzUID||"unknown",_.expName=p.experimentName||"null",_.expSlot=p.experimentSlot||"null"):(_.metadata=p,p.detailedAppVersion&&(_.appVersion=p.detailedAppVersion,_.uid=p.uniqueId||"unknown")),_}function bS(e){const t=e&&e.createGroup;return typeof t=="string"&&!S(t)}function NS(e,t="",s){const n=Array.isArray(e.groupIds)?e.groupIds:[];let a=Ks.NONE;const o=bS(e)?e.createGroup:null;return n.length>0&&(a=o?Ks.GROUP_CREATION:Ks.ONLY_ASSIGNED),{type:a,ids:n,createToken:o,sourceRequest:t,sourceRequestMeta:s}}function hp(e,t,s){return{...e,type:So(e.type),mode:fi(e.type),options:ci(e.options),groupData:NS(e,t,s)}}async function DS(e){const t=la();await t.retrieveRunningGame({roomHash:e});const{currentGameData:s}=t;return s.lmsInfo||{}}function ik(e,t,s){const n={roomCode:s},a=Kh(s);return e&&(n.mongoId=t),{payload:n,isAValidGameCode:a}}function rk(e,t){var d,g,f;const{room:s,player:n}=e;let a=!1,o=!1,i=!1,r=!1,c=!1,u=s,l=!1,p=null;if(s&&s.hash){if(a=!0,s.version&&Em(s.version)){let h=null;i=!0,s.type===Je.ASYNC&&s.createdAt&&s.expiry&&(h=(d=Hi(s).willExpireOn)==null?void 0:d.getTime()),o=!!h&&h-Date.now()<=0,o||(u=hp(s,"checkRoom",{roomCode:t}),r=((g=u.groupData)==null?void 0:g.type)!==Ks.NONE,c=((f=u.groupData)==null?void 0:f.type)===Ks.GROUP_CREATION)}s&&s.isLearningTrackGame&&(l=!0,p=s.learningTrackMetaData)}return{isRoomCodeValid:a,isRoomExpired:o,areQuestionVersionsSupported:i,room:u,player:n||null,isAGroupGame:r,isAGroupCreationGame:c,isLearningTrackGame:l,learningTrackMetaData:p}}async function ck(e,t,s,n,a){const o={startSource:a};let i={};return n&&!S(n)?i={...n}:!e.lmsName&&!e.courseId?i=await DS(e.roomHash):i={...e},t&&(i.mongoId=s),{actionData:o,payload:i}}function uk(e,t){const{room:s,player:n,lmsInfo:a}=e,o=s&&s.hash;let i=!1,r=!1,c=!1,u=s;return o&&s.version&&Em(s.version)&&(i=!0,u=hp(s,"checkAssignment",{roomCode:t.roomCode}),r=u.groupData.type!==Ks.NONE,c=u.groupData.type===Ks.GROUP_CREATION),{isValidGame:o,areQuestionVersionsSupported:i,room:u,player:n||null,lmsInfo:a||t||null,isAGroupGame:r,isAGroupCreationGame:c}}function lk(e,t="checkRoom"){if(t==="joinRoom"){const n=k(e,"room.options","{}");let a=n;return li(a)||(a=JSON.parse(n)),ut(a.limitAttempts)?a.limitAttempts:5}const s=k(e,"room.options.limitAttempts");return ut(s)?s:5}function dk({roomHash:e,playerId:t,actualNameToBeUsed:s,startSource:n,playerAvatarId:a=-1,isLoggedIn:o,selectedAvatar:i,name:r,mongoId:c,lmsInfo:u,currentStartSource:l,clientType:p,deviceInfo:d,classroomInfo:g,isClassroomGame:f}){const h=S(l)?n:ys(l),E=fp({playerId:t,actualNameToBeUsed:s,startSourceToSend:h,startSource:"joinRoom",callType:"joinRoom",avatarId:a,isLoggedIn:o,selectedAvatar:i,name:r,mongoId:c,lmsInfo:u,clientType:p,deviceInfo:d,classroomInfo:g,isClassroomGame:f});return{actionData:{roomHash:e,playerName:E.id,startSource:h},callPayload:{roomHash:e,player:E,powerupInternalVersion:rr($t.CURRENT_CONFIG_API_VERSION)}}}function mk(e,t=!1,s=!1){const n=e&&!S(e.player),a=k(e,"powerupConfigVersion","1");let o=null,i=!1,r="";if(n){o=Ju("join",Je.LIVEASYNC,e),o.powerupConfigVersion=a;const c=Hi(o.room).willExpireOn;o.room.type===Je.ASYNC&&(i=c.getTime()-Date.now()<=0),i&&(r+=mm(c)),e.isCertificationGame&&Object.assign(o,{isCertificationGame:e.isCertificationGame}),e.isCertificationGame&&e.certificationRegion&&Object.assign(o,{certificationRegion:e.certificationRegion}),e.forcedRedirect&&Object.assign(o,{forcedRedirect:e.forcedRedirect})}return{isValidGame:n,response:o,hasGameExpired:i,formattedExpiryDate:r,forcePageChange:t,preventPageChange:s}}function pk(e){const t="dialog";let s=!1,n=!1,a=!1;const o=pn(e),i=k(e,"response.room",{}),r=k(e,"response.player",{}),c=k(i,"options",null),u=k(e,"response.meta",{}),l={isAllowed:k(e,"response.player.isAllowed",!0),isOver:k(e,"response.player.isOver",!0),isForbidden:k(e,"response.player.isForbidden"),room:i,player:r};if(l.room.options=ci(typeof c=="string"?JSON.parse(c):c),o==="player.DUPLICATE_NAME"&&!S(i)){const p=i.type===Je.LIVE,d=!l.isOver&&(p||r.isRejoinAllowed);l.isForbidden?a=!0:d?s=!0:p?a=!0:n=!0}return{errorType:o,errorMeta:u,response:l,nameAlreadyTakenError:a,canResumeGame:s,canPlayAgainWithDifferentName:n,handlePreGameErrorAs:t}}function gk(e,t,s,n={},a,o,i="",r,c,u,l,p,d,g,f,h,E,A,_,v,y,N){var M;const G=ys(s),z=S(G)?s:G,Q=fp({playerId:t,avatarId:-1,startSource:z,callType:"joinSolo",mongoId:N,lmsInfo:h,selectedAvatar:g,isLoggedIn:d,name:f,clientType:E,deviceInfo:A,classroomInfo:_,isClassroomGame:v}),H={quizId:e,playerName:Q.id,startSource:z,gameOptions:n,gameMode:a},w=p||1,I={quizId:e,player:Q,userId:N,gameOptions:qu(cE(n)),gameType:su(Je.SOLO,a),powerupInternalVersion:rr($t.CURRENT_CONFIG_API_VERSION),slot:Number.parseInt(r,10),experiment:c,locale:u,roomVersion:w};return l!==((M=I.gameOptions)==null?void 0:M.memes)&&(I.gameOptions.memes=l),S(i)||(I.referralId=i),S(o)||(I.roomHash=o),S(y)||(I.contestId=y),{actionData:H,callPayload:I}}function fk(e,t,s){const n=!S(k(e,"player"))||!1,a=k(e,"powerupConfigVersion","1");let o=null,i=[];if(n){o=Ju("join",Je.SOLO,e);const{room:r,player:c}=o;i=Yu(r.hash,c.id,c.score||0,c.monsterId||0,"waiting")}return{isValidGame:n,response:{...o,generatedPlayers:i,powerupConfigVersion:a},forcePageChange:t,canChangeRoute:s}}function hk(e,t,s,n){const{roomHash:a,playerId:o,gameType:i,gameState:r}=s,c=So(i),u=c&&gi(c),l=rr($t.CURRENT_CONFIG_API_VERSION),p={roomHash:a,playerId:o,startSource:n,powerupInternalVersion:l};return i&&(p.type=i),r&&(p.state=r),e&&(p.mongoId=t),p.soloApis=Jd.PLAY_APIS,{isAssignedGame:u,actionData:{roomHash:a,playerName:o,startSource:n,gameType:i||"",gameState:r||"",classroomInfo:s.classroomInfo||null},callPayload:p}}function LS(e,t){var g,f;const s=!S(k(e,"player"))||!1,n=k(e,"powerupConfigVersion","1");let a=null,o=[],i=!1,r="other",c=!1,u=null;const l=e.forcedRedirect||null,p=(f=(g=e.player)==null?void 0:g.playerMetadata)==null?void 0:f.mysticPeakData,d=e.player.tieredRank;if(s){let h="";!S(t)&&t.roomHash===e.room.hash&&t.lastVisibleQuestionId&&(h=t.lastVisibleQuestionId),a=Ju("rejoin","",e,h);const{room:E,player:A}=a;if(E.type===Je.SOLO){const _=li(A.responses)?Object.keys(A.responses).length:1;o=Yu(E.hash,A.id,A.score||0,A.monsterId||0,"leaderboard",E.options,_,.6)}e.isCertificationGame&&(i=!0),e.isCertificationGame&&e.certificationRegion&&(r=e.certificationRegion),E&&E.isLearningTrackGame&&(c=!0,u=E.learningTrackMetaData)}return{isValidGame:s,response:{...a,generatedPlayers:o,powerupConfigVersion:n,forcedRedirect:l,isCertificationGame:i,certificationRegion:r,mysticPeakData:p,mysticPeakTieredRank:d,isLearningTrackGame:c,learningTrackMetaData:u}}}function _k(e,t){let s={...t};if(t&&!S(t.questions))s={questions:Ru(t.questions,{dataIsStrigified:!1,forGameBeingPlayed:!0,slidesFlowControlType:e.questions.slidesFlowControlType}),traits:t.traits||null,canvas:t.canvas};else return!1;return s}function vk(e,t,s,n,a,o,i,r,c,u,l){let d=!1,g=!1,f=!1,h=!1;const E=s===re.TEAM,A=l.allAnsweredQuestionsOrder.length,_={hasSeenSummaryAtleastOnce:!1},v=t===Je.LIVE&&e===Ct.WAITING,y=e===Ct.RUNNING,N=s===re.CHALLENGE,{isPlayerTheGameHost:G}=l,z={roomHash:a,gameType:t,gameState:e,playerId:r,gameId:a},Q=er({gameMode:s}),H=s===re.TEACHER_PACED,w=c===!0,{isMasteryMode:I}=l,{hasReachedMastery:M}=l,J=S_({remainingOrder:i,hasReachedMastery:M});let K=!l.areQuestionAttemptsLeft&&!Q;const fe=l.totalAnswerLaterQuestions,{isUserOnReviewScreen:P}=l;I&&(K=J),w||K&&!P?(d=!0,_.hasSeenSummaryAtleastOnce=!0):A>0||Q||H||fe>0?g=!0:t===Je.ASYNC?f=!0:h=!0;let j=!1;return(v||y)&&(S(u)||!(u.roomHash===a&&u.playerId===r))&&(j=!0),{shouldDoExit:!1,shouldSetIncompleteGame:j,isGameInWaitingState:v,isGameInRunningState:y,hasPlayerGameEnded:d,isPlayerInBetweenGame:g,isUserOnReviewScreen:P,goToWaitingWhenNoQuesAnswered:f,goToCountdownWhenNoQuesAnswered:h,quizId:n,showTeamAssignedSplash:E,playerHasJoinedTheGamePayload:_,isAChallengeGame:N,isPlayerTheGameHost:G,gameData:z,isPlayerMarkedOver:w,isMasteryMode:I,hasReachedMastery:M,isLearningTrackGame:o}}function Ek(e){let t=!0;const s=k(e,"room.type"),n=k(e,"room.quizId"),a=k(e,"room.state"),o=k(e,"room.code"),i=s===Je.SOLO,r=a===Ct.STOPPED||a===Ct.COMPLETED;return(!s||!n)&&(t=!1),{isValidResponse:t,isSoloGame:i,quizId:n,isGameExpired:r,roomCode:o}}function Ak(e,t,s,n,a,o,i){const r=e,c=t,u=s,l={quizId:n,type:a,expiry:o,locale:c,gameOptions:qu(i),memeSet:i.memeset};return S(r)?S(u)||(l.hostSessionId=u):l.hostId=r,{callPayload:l}}function Tk(e,t,s){const n=e||"";let a="";return n||(a=t||""),{hostId:n,hostSessionId:a,...s.data}}function yk(e,t,s){let n=!1;return!e&&t===s&&(n=!0),{shouldResetIncompleteGame:n}}const Me="https://cf.quizizz.com/",zi={FADE:"fade",FADE_ALL:"fadeAll",FADE_ALL_BUT:"fadeAllBut",FADE_ALL_BUT_CURRENT:"fadeAllButCurrent"},Gi={PRE_PLAY:"prePlay",PRE_PAUSE:"prePause",ON_END:"onEnd",ON_STOP:"onStop"},zS={DEFAULT_VOLUME:"1",BACKGROUND_VOLUME:"0.03",BACKGROUND_FADE_DURATION:200},Ik={BACKGROUND_FADE_DURATION:1e3},L={WAITING:"waiting",QUIZ:"question",SUMMARY:"waiting",JUDGEMENT_CORRECT:"judgementCorrect",JUDGEMENT_INCORRECT:"judgementIncorrect",COUNTDOWN_START:"countdownStart",COUNTDOWN_END:"countdownEnd",ACHIEVEMENT:"achievement",LEADERBOARD_MOVE_UP:"leaderboardMoveUp",LEADERBOARD_MOVE_DOWN:"leaderboardMoveDown",WHOOSH_SHORT:"whooshShort",AWARD_POWERUP_SPIN:"scroll",AWARD_POWERUP_PING:"ping",GLITCH_DISTORTION:"glitchDistortion",GAME_OVER:"gameOver",MYSTERY_BOX_OPEN_NEGATIVE:"negativeSurprise",MYSTERY_BOX_OPEN_POSITIVE:"positiveSurprise",GET_POINTS:"getPoints",LOSE_POINTS:"losePoints",STRICT_TIMER_15:"strictTimer15",STRICT_TIMER_5:"strictTimer5",STRICT_TIMER_BOOM:"strictTimerBoom",RECORD_START:"recordStart",RECORD_END:"recordEnd",CONFETTI_POP:"confettiPop",TRUMPET_LOOSER_SOUND:"trumpetLooserSound",EXCITING_GIFT:"excitingGift",PLOP:"plop",AVALANCHE:"avalanche",MYSTIC_PEAK_LANDSLIDE:"mysticPeakLandslide",MYSTIC_PEAK_QUIZ:"mysticPeakQuiz",MYSTIC_PEAK_OBSTACLE_SELECTED:"mysticPeakObstacleSelected",MYSTIC_PEAK_POWERUP_SELECTED:"mysticPeakPowerupSelected",MYSTIC_PEAK_LEVEL_UPGRADED:"mysticPeakLevelUpgraded",MYSTIC_PEAK_MATCHING_PAIR:"mysticPeakMatchingPair",MYSTIC_PEAK_CIRCLE_WARS_ERROR:"mysticPeakCircleWarsError",MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE:"mysticPeakCircleWarsScribble",QUESTION_START_BELL:"questionStartBell",AVATAR_MYSTERY_BOX_OPEN:"avatarMysteryBoxOpen",AVATAR_FINAL_COUNTER:"avatarFinalCounter",AVATAR_ITEM_TRY:"avatarItemTry",AVATAR_BUY_BUTTON_CLICK:"avatarBuyButtonClick",AVATAR_DAILY_REWARDS:"avatarDailyRewards",AVATAR_NEW_ITEM_UNLOCK:"avatarNewItemUnlock"},Sk=[L.WAITING,L.QUIZ,L.SUMMARY,L.JUDGEMENT_CORRECT,L.JUDGEMENT_INCORRECT,L.COUNTDOWN_START,L.COUNTDOWN_END,L.ACHIEVEMENT,L.LEADERBOARD_MOVE_UP,L.LEADERBOARD_MOVE_DOWN,L.WHOOSH_SHORT,L.AWARD_POWERUP_SPIN,L.AWARD_POWERUP_PING,L.GLITCH_DISTORTION,L.GAME_OVER,L.MYSTERY_BOX_OPEN_NEGATIVE,L.MYSTERY_BOX_OPEN_POSITIVE,L.GET_POINTS,L.LOSE_POINTS,L.QUESTION_START_BELL,L.STRICT_TIMER_15,L.STRICT_TIMER_5,L.STRICT_TIMER_BOOM,L.RECORD_START,L.RECORD_END,L.CONFETTI_POP,L.TRUMPET_LOOSER_SOUND,L.EXCITING_GIFT,L.PLOP,L.AVALANCHE,L.MYSTIC_PEAK_LANDSLIDE,L.MYSTIC_PEAK_MATCHING_PAIR,L.MYSTIC_PEAK_QUIZ,L.MYSTIC_PEAK_OBSTACLE_SELECTED,L.MYSTIC_PEAK_POWERUP_SELECTED,L.MYSTIC_PEAK_LEVEL_UPGRADED,L.MYSTIC_PEAK_CIRCLE_WARS_ERROR,L.MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE,L.AVATAR_MYSTERY_BOX_OPEN],oo={[L.COUNTDOWN_START]:{src:`${Me}join/sounds/countdown`,volume:1},[L.COUNTDOWN_END]:{src:`${Me}join/sounds/countdown_end`,volume:1}},Rk={[rt.CLASSIC]:{...oo,[L.WAITING]:{src:`${Me}join/sounds/waiting_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}join/sounds/quiz_bg2`,volume:.4,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}join/sounds/correct_answer`,volume:.2},[L.JUDGEMENT_INCORRECT]:{src:`${Me}join/sounds/wrong_answer`,volume:.14},[L.GAME_OVER]:{src:`${Me}join/sounds/correct_answer`,volume:0}},[rt.SYNTHWAVE]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/synthwave/music_bg`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}themes/v2/synthwave/sfx_correct`,volume:1},[L.JUDGEMENT_INCORRECT]:{src:`${Me}themes/v2/synthwave/sfx_incorrect`,volume:1},[L.GAME_OVER]:{src:`${Me}themes/v2/synthwave/sfx_gameOver`,volume:1}},[rt.DOGSVILLE]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/dogsville/music_bg`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}themes/v2/dogsville/sfx_correct`,volume:1},[L.JUDGEMENT_INCORRECT]:{src:`${Me}themes/v2/dogsville/sfx_incorrect`,volume:1},[L.GAME_OVER]:{src:`${Me}themes/v2/dogsville/sfx_gameOver`,volume:1}},[rt.THE_8_BIT]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/the8Bit/music_bg`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}themes/v2/the8Bit/sfx_correct`,volume:1},[L.JUDGEMENT_INCORRECT]:{src:`${Me}themes/v2/the8Bit/sfx_incorrect`,volume:1},[L.GAME_OVER]:{src:`${Me}themes/v2/the8Bit/sfx_gameOver`,volume:1}},[rt.ANIME]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/anime/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/anime/music_bg`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}themes/v2/anime/sfx_correct`,volume:1},[L.JUDGEMENT_INCORRECT]:{src:`${Me}themes/v2/anime/sfx_incorrect`,volume:1},[L.GAME_OVER]:{src:`${Me}themes/v2/anime/sfx_gameOver`,volume:1}},[rt.FOOTBALL]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/football/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/football/music_bg`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}themes/v2/football/sfx_correct`,volume:1},[L.JUDGEMENT_INCORRECT]:{src:`${Me}themes/v2/football/sfx_incorrect`,volume:1},[L.GAME_OVER]:{src:`${Me}themes/v2/football/sfx_gameOver`,volume:1}},[rt.MYSTIC_PEAK]:{[L.COUNTDOWN_START]:{src:`${Me}join/sounds/mp_COUNTDOWN_START`,volume:1},[L.COUNTDOWN_END]:{src:`${Me}join/sounds/mp_COUNTDOWN_END`,volume:1},[L.WAITING]:{src:`${Me}themes/v1/mystic_peak/bg_waiting`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}join/sounds/mp_MOUNTAIN`,volume:1,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}join/sounds/mp_CORRECT`,volume:.2},[L.JUDGEMENT_INCORRECT]:{src:`${Me}join/sounds/mp_Wrong_Answer`,volume:.14},[L.GAME_OVER]:{src:`${Me}themes/v1/mystic_peak/sfx_gameOver`,volume:1}},[rt.COSMIC_PICNIC]:{...oo,[L.WAITING]:{src:`${Me}themes/v2/cosmic-picnic/music_bg`,volume:1,loop:!0},[L.QUIZ]:{src:`${Me}themes/v2/cosmic-picnic/music_bg`,volume:.4,loop:!0},[L.JUDGEMENT_CORRECT]:{src:`${Me}join/sounds/correct_answer`,volume:.2},[L.JUDGEMENT_INCORRECT]:{src:`${Me}join/sounds/wrong_answer`,volume:.14},[L.GAME_OVER]:{src:`${Me}join/sounds/correct_answer`,volume:0}}},Ck={[L.ACHIEVEMENT]:{src:`${Me}join/sounds/achievement1`,volume:.1},[L.LEADERBOARD_MOVE_UP]:{src:`${Me}join/sounds/leaderboard_up`,volume:.35},[L.LEADERBOARD_MOVE_DOWN]:{src:`${Me}join/sounds/leaderboard_down`,volume:.1},[L.WHOOSH_SHORT]:{src:`${Me}join/sounds/whoosh_short`,volume:.4},[L.AWARD_POWERUP_SPIN]:{src:`${Me}join/sounds/Scroll-test`,volume:.4},[L.AWARD_POWERUP_PING]:{src:`${Me}join/sounds/Ping-test`,volume:.4},[L.GLITCH_DISTORTION]:{src:`${Me}join/sounds/glitch_distortion`,volume:.4,loop:!0},[L.MYSTERY_BOX_OPEN_POSITIVE]:{src:`${Me}join/sounds/mystery_cube_open_pos`,volume:1},[L.MYSTERY_BOX_OPEN_NEGATIVE]:{src:`${Me}join/sounds/mystery_cube_open_neg`,volume:1},[L.GET_POINTS]:{src:`${Me}game/audio/sfx/get_points`,volume:1.2},[L.LOSE_POINTS]:{src:`${Me}game/audio/sfx/lose_points`,volume:1},[L.QUESTION_START_BELL]:{src:`${Me}sounds/presentation-dashboard/look`,volume:1},[L.STRICT_TIMER_15]:{src:`${Me}sounds/presentation-dashboard/timer_15_sec`,volume:1},[L.STRICT_TIMER_5]:{src:`${Me}sounds/presentation-dashboard/timer_5_sec`,volume:1},[L.STRICT_TIMER_BOOM]:{src:`${Me}sounds/presentation-dashboard/timer_boom`,volume:1},[L.RECORD_START]:{src:`${Me}game/audio/sfx/startRecording`,volume:.4},[L.RECORD_END]:{src:`${Me}game/audio/sfx/endRecording`,volume:.4},[L.CONFETTI_POP]:{src:`${Me}game/audio/sfx/powerup-extra-points`,volume:.8},[L.TRUMPET_LOOSER_SOUND]:{src:`${Me}game/audio/sfx/trombone_looser_sound`,volume:1},[L.EXCITING_GIFT]:{src:`${Me}game/audio/sfx/exciting_gift`,volume:1},[L.PLOP]:{src:`${Me}sounds/live-dashboard/themes/default/plop`,volume:.8},[L.AVATAR_MYSTERY_BOX_OPEN]:{src:`${Me}join/sounds/avatar_open_mystery_box`,volume:.5},[L.AVATAR_FINAL_COUNTER]:{src:`${Me}join/sounds/avatar_final_counter`,volume:.5},[L.AVATAR_ITEM_TRY]:{src:`${Me}join/sounds/avatar-every-try-item`,volume:.5},[L.AVATAR_BUY_BUTTON_CLICK]:{src:`${Me}join/sounds/avatar-buy-button-click`,volume:.5},[L.AVATAR_DAILY_REWARDS]:{src:`${Me}join/sounds/avatar-daily-rewards`,volume:.15},[L.AVATAR_NEW_ITEM_UNLOCK]:{src:`${Me}join/sounds/avatar-new-item-unlock`,volume:.5}},wk={[L.WAITING]:{[Gi.ON_STOP]:{name:zi.FADE,from:"initial",to:0,duration:400}},[L.QUIZ]:Pn(L.WAITING),[L.SUMMARY]:Pn(L.WAITING),[L.JUDGEMENT_CORRECT]:{[Gi.PRE_PLAY]:{name:zi.FADE_ALL_BUT_CURRENT,from:"initial",to:.3,duration:250},[Gi.ON_END]:{name:zi.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[L.JUDGEMENT_INCORRECT]:Pn(L.JUDGEMENT_CORRECT),[L.GAME_OVER]:Pn(L.JUDGEMENT_CORRECT),[L.MYSTERY_BOX_OPEN_NEGATIVE]:Pn(L.JUDGEMENT_CORRECT),[L.MYSTERY_BOX_OPEN_POSITIVE]:Pn(L.JUDGEMENT_CORRECT),[L.QUESTION_START_BELL]:Pn(L.JUDGEMENT_CORRECT),[L.STRICT_TIMER_15]:Pn(L.JUDGEMENT_CORRECT),[L.STRICT_TIMER_5]:Pn(L.JUDGEMENT_CORRECT),[L.STRICT_TIMER_BOOM]:Pn(L.JUDGEMENT_CORRECT),[L.CONFETTI_POP]:{[Gi.PRE_PLAY]:{name:zi.FADE_ALL_BUT_CURRENT,from:"initial",to:.1,duration:100},[Gi.ON_END]:{name:zi.FADE_ALL_BUT_CURRENT,from:"current",to:"initial",duration:250}},[L.TRUMPET_LOOSER_SOUND]:Pn(L.CONFETTI_POP),[L.EXCITING_GIFT]:Pn(L.CONFETTI_POP)},Ok={[rt.MYSTIC_PEAK]:{[L.AVALANCHE]:{src:`${Me}join/sounds/mp_AVALANCHE`,volume:1},[L.MYSTIC_PEAK_LANDSLIDE]:{src:`${Me}join/sounds/mp_LANDSLIDE`,volume:1},[L.MYSTIC_PEAK_OBSTACLE_SELECTED]:{src:`${Me}join/sounds/mp_OBSTACLE_OPENING_BREAKROOM`,volume:1},[L.MYSTIC_PEAK_POWERUP_SELECTED]:{src:`${Me}join/sounds/mp_POWERUP`,volume:1},[L.MYSTIC_PEAK_LEVEL_UPGRADED]:{src:`${Me}join/sounds/mp_NEXT_LEVEL`,volume:1},[L.MYSTIC_PEAK_MATCHING_PAIR]:{src:`${Me}join/sounds/match-pair`,volume:1},[L.MYSTIC_PEAK_CIRCLE_WARS_ERROR]:{src:`${Me}join/sounds/circle-wars-error`,volume:1},[L.MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE]:{src:`${Me}join/sounds/circle-wars-scribble`,volume:1}},[rt.CLASSIC]:{[L.MYSTIC_PEAK_MATCHING_PAIR]:{src:`${Me}join/sounds/match-pair`,volume:1}}},Jo={MUSIC:"music",SFX:"sfx"},Pk={[Jo.MUSIC]:[L.WAITING,L.QUIZ,L.SUMMARY],[Jo.SFX]:[L.JUDGEMENT_CORRECT,L.JUDGEMENT_INCORRECT,L.COUNTDOWN_START,L.COUNTDOWN_END,L.ACHIEVEMENT,L.LEADERBOARD_MOVE_UP,L.LEADERBOARD_MOVE_DOWN,L.WHOOSH_SHORT,L.AWARD_POWERUP_SPIN,L.AWARD_POWERUP_PING,L.GLITCH_DISTORTION,L.GAME_OVER,L.MYSTERY_BOX_OPEN_NEGATIVE,L.MYSTERY_BOX_OPEN_POSITIVE,L.GET_POINTS,L.LOSE_POINTS,L.QUESTION_START_BELL,L.STRICT_TIMER_15,L.STRICT_TIMER_5,L.STRICT_TIMER_BOOM,L.RECORD_START,L.RECORD_END,L.CONFETTI_POP,L.TRUMPET_LOOSER_SOUND,L.EXCITING_GIFT,L.PLOP,L.AVALANCHE,L.MYSTIC_PEAK_LANDSLIDE,L.MYSTIC_PEAK_MATCHING_PAIR,L.MYSTIC_PEAK_QUIZ,L.MYSTIC_PEAK_OBSTACLE_SELECTED,L.MYSTIC_PEAK_POWERUP_SELECTED,L.MYSTIC_PEAK_LEVEL_UPGRADED,L.MYSTIC_PEAK_CIRCLE_WARS_ERROR,L.MYSTIC_PEAK_CIRCLE_WARS_SCRIBBLE,L.AVATAR_MYSTERY_BOX_OPEN,L.AVATAR_FINAL_COUNTER,L.AVATAR_ITEM_TRY,L.AVATAR_BUY_BUTTON_CLICK,L.AVATAR_DAILY_REWARDS,L.AVATAR_NEW_ITEM_UNLOCK]};function Pn(e){return`-DO-*${e}`}const GS={attachDimensionParam:!1,containerWidth:window.innerWidth,containerHeight:window.innerHeight,uniqueId:""};async function MS(e){try{const t=await fetch(e);return{resource:await jS(t)}}catch(t){return b.error("Error at fetchSingleVideo",t),{error:t}}}async function _p(e,t,s){const n=new Date,a=[];if(s=$n(s,GS),It(e,(o,i)=>{const r=HS(o,t,s),c=VS(o,t,s,i);a.push(qS(t,[r,c]))}),S(a))return{timeTakenForAll:Date.now()-n.getTime()};try{const o=await Promise.all(a);return{timeTakenForAll:Date.now()-n.getTime(),result:o}}catch(o){return b.error(`Error at cacheMediaAndExecute when mediaType(${t}) for items - `,e,o),{timeTakenForAll:Date.now()-n.getTime(),error:o}}}function gd(e,t,s,n=(c,u)=>{},a,o=0,i={},r="image"){let c=0;const u=t.length-s-o,l=s+o;for(let p=0;p<Math.min(a,u);p++){const d=t[l+p];let g=[],f=!0,h=d;const E=!1;switch(r){case"image":g=US(e[d],i.type,i.width),f=e[d]&&e[d].imagesPrefetchDone===!0;break;case"audio":g=BS(e[d]),f=e[d]&&e[d].audioPrefetchDone===!0,h=o_(e[d]);break}if(!f&&g.length>0){const A={attachDimensionParam:E,uniqueId:h};setTimeout(async()=>{try{const _=await _p(g,r,A);n(d,_)}catch(_){b.error("Error at prefetchQuestionMedia",_)}},c*4e3)}else n(d,{result:"no_images"});c+=1}}function xS(e,t){const s=new Date;return new Promise((n,a)=>{const o=new Image;o.onload=()=>{const i=Date.now()-s.getTime();n({resource:"",timeTaken:i})},o.onerror=()=>{const i=Date.now()-s.getTime();a({error:"unknown",timeTaken:i})},o.src=e})}async function FS(e,t){const s=new Date,n=(await xe(()=>import("./Sound.s4y1RpvF.js").then(a=>a.b),__vite__mapDeps([10,1,2]))).default;if(n.hasSound(t))return{resource:"",timeTaken:Date.now()-s.getTime()};try{return await n.addSoundAtRuntime(t,{src:e,volume:zS.DEFAULT_VOLUME,requiresExtension:!1,format:["mp3"]}),{resource:"",timeTaken:Date.now()-s.getTime()}}catch(a){const o=Date.now()-s.getTime();throw{error:a,timeTaken:o}}}async function QS(e,t){const s=new Date;try{const n=await MS(e),a=Date.now()-s.getTime();return{resource:n.resource,timeTaken:a}}catch(n){const a=Date.now()-s.getTime();throw{error:n,timeTaken:a}}}function qS(e,t){switch(e){case"image":return xS(...t);case"audio":return FS(...t);case"video":return QS(...t)}}function US(e,t="",s){const n=[];return e&&(e.media&&It(e.media,a=>{a.type==="image"&&a.url&&n.push(Bi(a.url,{deviceType:t,dimToCheckAgainst:s},"question"))}),It(e.options,a=>{a.type==="image"&&a.media&&It(a.media,o=>{o.url&&n.push(Bi(o.url,{deviceType:t,dimToCheckAgainst:s},"option"))})}),e.explain&&e.explain.media&&e.explain.media.forEach(a=>{a.type==="image"&&a.url&&n.push(Bi(a.url,{deviceType:t,dimToCheckAgainst:s}))})),n}function BS(e){const t=k(e,"media[0]"),s=[];return!S(t)&&t.type==="audio"&&t.url&&s.push(t.url),e.explain&&(S(e.explain.media)||It(e.explain.media,n=>{n.type==="audio"&&n.url&&s.push(n.url)})),s}function HS(e,t,s,n){return t==="image"&&s.attachDimensionParam?Bi(e,{dimToCheckAgainst:s.containerWidth},"misc"):e}function VS(e,t,s,n){if(typeof s.uniqueId=="string")return s.uniqueId;if(Array.isArray(s.uniqueId)&&s.uniqueId[n])return s.uniqueId[n];if(Gs(s.uniqueId)){const a=s.uniqueId(e,n);if(a)return a}return b.invariant(t==="audio",`Caching audio requires a unique id. For item(${e}) none provided`),""}async function jS(e){try{return await e.blob()}catch{return null}}const ua=Ot("generalGameActions",()=>{const e=qt(),t=yt(),s=Js(),n=Dt(),a=Is(),o=ps(),i=oc(),r=Yt(),c=hs(),u=Fn(),l=Pa(),p=gn(),d=Ba(),g=pr(),f=la(),h=Oo(),E=dr(),A=Uu(),_=Hm(),v=Ra();function y($={}){const{preserveClassroomInfo:ne,redirectTo:Ie=O.get(O.List.LANDING.HOME)}=$;S(n.lastGamePlayed)||n.updateIncompleteGame(a.questionTimer,e.currentId,e.orderedOriginalResponses,r.isLoggedIn);const qe=t.gameType!==Je.SOLO;o.exitGame(),e.exitGame(),t.exitGame({preserveClassroomInfo:ne,preservePlayerId:qe,redirectTo:Ie}),n.exitGame({preserveClassroomInfo:ne,preservePlayerId:qe,redirectTo:Ie}),c.resetGame(),a.exitGame(),d.exitGame(),g.$reset(),_.flushStore(),v.exitGame()}function N({classroomInfo:$={},preserveRoomCode:ne=!1}={}){e.resetGame(),t.resetGame({classroomInfo:$,preserveRoomCode:ne}),n.resetGame(),a.resetGame(),d.resetGame(),g.$reset(),c.resetGame(),p.$reset(),_.flushStore()}function G(){A.$reset()}function z($={}){t.gameStarted($),e.gameStarted($),i.gameStarted($);const ne=t.isMasteryMode;if(er({gameMode:t.gameMode})){u.startQuestions({isAtGamePlayStart:!0});return}const Ie=a.isMysticPeak,qe=t.isAvatarCustomizerVisible;Ie&&qe||(ne?s.requestToChangePage({to:O.get(O.List.IN_GAME.ACCURACY_COUNTDOWN)}):s.requestToChangePage({to:O.get(O.List.IN_GAME.COUNTDOWN)}))}function Q({gameOptions:$}){const{showMemes:ne,playMusic:Ie,playSFX:qe,readAloud:at,selectedTheme:$e}=p,tt={gameMode:t.gameMode,themesAllowedToUser:r.themesAllowedToUser,appSettings:{showMemes:ne,playMusic:Ie,playSFX:qe,readAloud:at,selectedTheme:$e},slidesFlowControlType:e.slidesFlowControlType},vt=Xv(tt,$);if(S(vt.changedSettings)||p.setAppSettings(vt.changedSettings),!S(vt.appSettingsToRevert)){const{appSettingsToRevert:Pt}=vt;a.setAppSettingToRevertAtGameEnd({appSettingsToRevert:Pt})}}async function H(){try{const $={memeSetId:a.meme.setId||"",language:p.selectedLanguage||"",theme:p.selectedTheme||""},{response:ne}=await pC($),Ie={allOrderedResponses:e.allOrderedResponses,totalQuestionsInGame:e.totalQuestionsInGame},qe=Zv(Ie,ne);qe.isFromFeaturedList=!0;let at=f.featuredMemesets;if(S(at)){const{response:$e}=await yp();at=$e}return at=at.filter($e=>$e.featured===!0).map($e=>$e._id),qe.isFromFeaturedList=at.includes(a.meme.setId),a.setMemeSet(qe),qe}catch($){b.error("Error at action fetchMemeSetForGame",$)}}async function w({quizId:$="",gameId:ne,gameState:Ie,gameType:qe,fetchQuizName:at=!1}){let $e=null;const{isFeatureFlagEnabled:tt}=wo(),vt=tt("game-api-migration");try{S($)?$e=(await av(ne,Ie,qe,at,vt)).response:$e=(await nv($)).response;const Pt=eE($e,Ie,qe);return t.setQuizInfo(Pt),!0}catch(Pt){return b.error("Error at getQuizInfoFromServer:",Pt),!1}}async function I({gameData:$}){if($)try{if($.isReplayLiveGameModal){const ne=$.gameTypeOfNextGame,Ie=$.gameModeOfNextGame;return await h.replayLiveGameNotificationAcceptancePipeline({roomCode:$.gameCode,lmsInfo:$.lmsInfo,gameType:ne,gameMode:Ie,requestToChangePage:s.requestToChangePage,toggleOverlay:l.toggleOverlay,playerId:n.playerId})}if($.isReplayAsyncModal){const ne=$.gameTypeOfNextGame,Ie=$.gameModeOfNextGame;return await h.replayLiveGameAsyncNotificationAcceptancePipeline({roomCode:$.gameCode,lmsInfo:$.lmsInfo,gameType:ne,gameMode:Ie,requestToChangePage:s.requestToChangePage,toggleOverlay:l.toggleOverlay,playerId:n.playerId})}return await h.classGameAssignedNotificationAcceptancePipeline({roomCode:$.gameCode,lmsInfo:$.lmsInfo,toggleModal:c.toggleModal})}catch(ne){c.toggleModal(),b.error("error at action handleAssignedGameNotifAcceptance",ne)}}function M({totalQuesToPrefetchFor:$=1,quesSkipCount:ne=1,media:Ie={type:"",width:""}}){const qe=e.allAnsweredQuestionsOrder.length,at={type:Ie.type,width:Ie.width};gd(e.list,e.initSequence,qe,ve.bind(void 0),$,ne,at,"image")}function J({totalQuesToPrefetchFor:$=1,quesSkipCount:ne=1,mediaObj:Ie={type:"",width:""}}){const qe=e.allAnsweredQuestionsOrder.length,at={type:Ie.type,width:Ie.width};gd(e.list,e.initSequence,qe,ot.bind(void 0),$,ne,at,"audio")}function K(){u.gameCompleted();const $=()=>{c.toggleDialog(),s.requestToChangePage({to:O.get(O.List.IN_GAME.SUMMARY)})};c.toggleDialog({name:"game.expired|confirm",actionCallback:$})}function fe(){n.clearIncompleteGame(),l.toggleOverlay({type:"rejoinError|PLAYER_DELETED"})}async function P({lmsInfo:$=null,startSource:ne="",handlePreGameErrorAs:Ie="dialog"}){const qe=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,at=qe();return t.LMSLinkDecoded($),await ac(o),at.checkAssignment({lmsInfo:$,startSource:ne,handlePreGameErrorAs:Ie})}function j({gameCode:$}){const ne=window.location.href.includes("/pro")?"/pro/join":"/join",Ie=new URL(`${window.location.href.split(ne)[0]}/signup`);Ie.searchParams.append("redirectUrl",ne),Ie.searchParams.append("gameCode",$),Ie.searchParams.append("isGameJoinFlow","true"),Ie.searchParams.append("ctaSource","handleLoginRequirementForGame"),Ie.searchParams.append("fromPage",window.location.pathname),ne==="/pro/join"&&Ie.searchParams.append("qfwUser","true"),window.location.href=Ie.toString()}function oe({response:$}){if($&&$.isGroupGCL===!0&&$.throughGCL===!1){const ne=()=>{c.toggleDialog(),N({preserveRoomCode:!0})};c.toggleDialog({name:"groupGame.shouldJoinViaLink|confirm",actionCallback:ne});return}c.toggleDialog({name:"groupGame.notAMemberOfGamesGroup|confirm",options:{...$}})}function X({groupData:$={},gameCode:ne="",hostOccupation:Ie=""}){if(!r.isLoggedIn){j({gameCode:ne,hostOccupation:Ie});return}S($)||S($.createToken)||E.handleGroupInvite({token:$.createToken,type:vo.FROM_GAME_CODE,modalOptions:{sourceRequest:$.sourceRequest,sourceRequestMeta:$.sourceRequestMeta}})}function ie({errorName:$,handlePreGameErrorAs:ne,options:Ie={},errorCode:qe="",actionCallback:at=null}){let $e;const tt=qe?`#${qe}`:"",vt={name:$,options:{...Ie,errorCode:tt}};switch(b.invariant(!S($),"handlePreGameErrorMessages: Unable to resolve as no `errorName` provided"),ne){case"inLineMessage":$e=c.togglePreGameErrorMessage;break;case"dialog":$e=c.toggleDialog,at?vt.actionCallback=at:vt.actionCallback=()=>{c.toggleDialog(),f.clearPreGameQuizInfo()};break}b.invariant(!S($e),`handlePreGameErrorMessages: Unable to decide how to resolve errorName(${$}) when handlePreGameErrorAs(${ne})`),$e(vt)}function ge($){const ne=qe=>{qe===0&&window.location.reload()},Ie=$&&$.name?$.name:"network.genericRefreshRequired|confirm";c.toggleDialog({name:Ie,actionCallback:ne})}function Ce({questionId:$,attempt:ne}){const{questionResponses:Ie}=e,qe=!S(Ie[$])&&!S(Ie[$][ne]);b.invariant(qe,`Cannot clear question response that does not exist for question(${$}) and attempt(${ne})`,{logOnSentry:!0});const at=Ie[$][ne];at.isEvaluated&&b.warn("Warning at clearQuestionResponse: An evaluated response is being cleared",at),e.clearQuestionResponse({questionId:$,attempt:ne})}async function Fe({source:$=""}){var $e,tt,vt,Pt;const ne=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,Ie=ne(),qe=Ma(t.isMasteryMode),at={roomHash:t.roomHash,playerId:n.playerId,type:qe(t.gameType,t.gameMode),state:t.gameState,startSource:Ze.get(Ze.List.REJOIN.GAME_OVER),powerupInternalVersion:rr($t.CURRENT_CONFIG_API_VERSION),soloApis:Jd.PLAY_APIS};r.isLoggedIn&&(at.mongoId=r.mongoId);try{const{response:Te}=await _C(at),Ne=LS(Te,n.lastGamePlayed),me={};if(Te!=null&&Te.bookmarkedFlashcards&&Ra().setBookmarkedFlashcardIds(Te.bookmarkedFlashcards),Ra().setCorrectIncorrectFlashcardIdsFromAPI((($e=Te.player)==null?void 0:$e.responses)||[]),!bm(t.gameMode)&&!(Te.player.isOver||Ul(Te.room.state))&&await Nn().setUserGameConfig(void 0,!0,(tt=Te==null?void 0:Te.player)==null?void 0:tt.id),(vt=Te==null?void 0:Te.player)!=null&&vt.coin){const{gameCoinsCollected:Se,coinBalance:Qe}=Nn();Nn().setGameCoinsCollected({...Te.player.coin,questions:Se.questions+Te.player.coin.questions}),Nn().setCoinBalance(Qe+Te.player.coin.questions)}if(!Ne.isValidGame)return{updated:!1};if(Ne.response.room.quizId&&(me.quizId=Ne.response.room.quizId,me.quizName=Ne.response.room.quizName),e.rejoinGameResponded(Ne.response),Ie.setGameQuestions(Ne.response.room),e.updateQuestionResponses({updatedResponses:hg(Ne.response.player.responses)}),n.updatePlayerStats(Ne.response.player),S(me)||t.setQuizInfo(me),Te.player.isOver||Ul(Te.room.state)){const{aggregations:Se,totalCoins:Qe,coinDistribution:He}=await EC({playerId:at.playerId,gameId:at.roomHash});yt().setCoinDistribution(He),Nn().setCoinBalance(Qe),t.setAggregations({aggregations:Se,total:((Pt=Te.player.questions)==null?void 0:Pt.length)||Te.room.totalAnswerableQuestions})}return{updated:!0}}catch(Te){return b.error("Error at updateCurrentGameDataInBackground: ",Te),$==="onGameOverPipeline"&&a.setActionErrorTrace({nameList:["onGameOverPipeline","updateCurrentGameDataInBackground"]}),{updated:!1}}}function ve($,ne){if(ne.result!=="no_images"){let Ie=-1,qe=-1;Array.isArray(ne)?(qe=ne.length,Ie=mu(ne,$e=>$e.timeTakenPerImage||0)/ne.length):(qe=1,Ie=ne.timeTakenPerImage);const at={forQuestionId:$,noOfImages:qe};qe>1?(at.timeTakenPerImage=Ie,at.timeTakenForAll=ne.timeTakenForAll):qe===1&&(at.timeTakenForAll=ne.timeTakenPerImage),e.completedQuestionImagesPrefetch(at)}}function ot($){const ne={forQuestionId:$};e.completedQuesAudioPrefetch(ne)}return{exitGame:y,resetGame:N,resetCourse:G,startGame:z,handleGameExpiry:K,handleGameLockFails:ge,handleCurrentPlayerDeleted:fe,decodeLMSInfoAndCheckAssignment:P,updateCurrentGameDataInBackground:Fe,handleGroupInviteForCreationGame:X,handlePreGameErrorMessages:ie,clearQuestionResponse:Ce,handleLoginRequirementForGame:j,handlePlayerNotInGroup:oe,getQuizInfoFromServer:w,modifySettingsFromGameOptions:Q,fetchMemeSetForGame:H,handleAssignedGameNotifAcceptance:I,prefetchUpcomingQuesImages:M,prefetchUpcomingQuesAudio:J}});function $S(e,t){const{quiz:s}=e.data,n=t.query&&t.query.from,a=t.query&&t.query.startSource,o=t.query&&t.query.referrer||"",i=t.query&&t.query.studentShare==="true";let r="",c="",u="",l=1;S(s.info)?e.data.draft&&(c=e.data.draft.name,u=e.data.draft.image,l=e.data.draft.questions&&e.data.draft.questions.length||1):(c=s.info.name,u=s.info.image,l=s.info.questions&&s.info.questions.length||1);const p={quizId:s._id,quizName:c,quizImage:u,quizNumQuestions:l};switch(i&&(r=Ze.get(Ze.List.FROM_SHARE.VIA_JOIN)),n){case"admin":r=Ze.get(Ze.List.FROM_ADMIN.PARAM.DIRECT);break;case"join_admin_share":r=Ze.get(Ze.List.FROM_SHARE.VIA_ADMIN);break;case"soloLinkShare":r=Ze.get(Ze.List.FROM_ADMIN.PARAM.SOLO_LINK_SHARE),a&&(r+=`|${a}`);break;case"parentEmail":r=Ze.get(Ze.List.FROM_ADMIN.PARAM.PARENT_EMAIL);break;case"parentEmailLink":r=Ze.get(Ze.List.FROM_ADMIN.PARAM.PARENT_EMAIL_LINK);break}return{quizDetails:p,startSource:r,soloLinkReferrerId:o}}const la=Ot("preGameDetail",()=>{const e=m(""),t=m(""),s=m([]),n=m(""),a=m({roomHash:""}),o=m({}),i=m([]),r=m(null),c=m(!1),u=m({}),l=m({}),p=ua(),d=Is(),g=Dt(),f=Js(),h=hs();function E(){e.value="",t.value="",s.value=[],n.value="",a.value={},o.value={},i.value=[],r.value=null,c.value=!1,u.value={},l.value={}}function A(P){u.value={...P.routeCompositeBreakdown}}const _=fe,v=E;function y(P){l.value=P.gameOptions||{}}function N(P){s.value=P.memesets}const G=T(()=>{const P=i.value;if(P.length===0)return!1;let j=!0;return It(P,oe=>{if(oe.gameMode!==re.TEST)return j=!1,!1}),j}),z=T(()=>!G.value&&a.value.didLatestGameHaveLimitedAttempts!==!0),Q=T(()=>!!r.value);async function H({roomHash:P="",updatePreGameInfo:j=!0}){try{const{response:oe}=await gC(P),X=Lu(oe.data),ie=sE(oe.data),ge=nE(X,ie);return j&&_(ge),{success:!0,cookedData:ge}}catch(oe){b.error("Error at action retrieveRunningGame ",oe);const X=pn(oe),ie="dialog",ge=`rrg-${X}`;switch(X){case"game.NOT_FOUND":p.handlePreGameErrorMessages({errorName:"game.notRunning|confirm",handlePreGameErrorAs:ie});break;default:p.handlePreGameErrorMessages({errorName:"game.retrieveRunningGameDefaultError|confirm",options:{errorType:X},handlePreGameErrorAs:ie,errorCode:ge});break}return{success:!1,error:{type:X}}}}async function w({quizId:P,toRoute:j,embedMode:oe=!1}){var X,ie;if(P)try{const ge=!Array.isArray((X=j.params)==null?void 0:X.contestId)&&((ie=j.params)==null?void 0:ie.contestId)||null,{response:Ce}=await ku({quizId:P,bypassProfanityCheck:!0,requestPrivileges:!1}),Fe=$S(Ce,j),ve=k(Ce.data,"creatorPrivileges"),ot=Js().$state,$=ap({pageMetadats:ot.pageMetaData},Fe,{data:Ce.data,creatorPrivileges:ve,contestId:ge,embedMode:oe});return d.setGameStartSource({startSource:$.screenOpenSource}),_($),{success:!0}}catch(ge){const Ce=pn(ge),Fe=`rcg-${Ce}`;switch(b.error("Error at action retrieveCompletedGame - ",Ce,ge),Ce){case"user.ACCESS_NOT_ALLOWED":p.handlePreGameErrorMessages({errorName:"game.notAllowedToContinue|confirm",handlePreGameErrorAs:"dialog",errorCode:Fe});break;case"quiz.NOT_FOUND":p.handlePreGameErrorMessages({errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog"});break;case"user.NOT_ALLOWED":p.handlePreGameErrorMessages({errorName:"quiz.notFound|confirm",handlePreGameErrorAs:"dialog",errorCode:Fe});break;case"user.VALIDATION":p.handlePreGameErrorMessages({errorName:"game.cannotStartGameOnPrivateQuiz|confirm",handlePreGameErrorAs:"dialog"});break;default:p.handlePreGameErrorMessages({errorName:"misc.errorAndTryAgain|confirm",handlePreGameErrorAs:"dialog",errorCode:Fe});break}return{success:!1}}}async function I({quizId:P,updatePreGameInfo:j=!0}){var oe;if(b.invariant(!!P,"Cannot fetch attempts for empty quizId"),!P)return{success:!1};try{const{response:X}=await J_(P);if((oe=X==null?void 0:X.data)!=null&&oe.bookmarkedFlashcards&&Ra().setBookmarkedFlashcardIds(X.data.bookmarkedFlashcards),S(X)||S(X.data)||typeof X.data=="string")return;const ie=gv({completedGames:[{quizInfo:X.data.quizInfo}]},X.data),ge=_v(ie.updatedCompletedGames[0].gamesAttempted);if(j){const{didLatestGameHaveLimitedAttempts:Ce}=ie;_({currentAttempts:ge,currentGameData:{...a.value,didLatestGameHaveLimitedAttempts:Ce}})}return{success:!1,attemptedGames:ge}}catch(X){return b.error("error at action retrieveSoloGameAttempts",X),{success:!1,error:X}}}async function M({roomHash:P,playerId:j,gameType:oe,gameMode:X,gameState:ie,isLoggedIn:ge}){try{ct.logEvent(as.KICKED_OUT_ISSUE,{source:"discardAttempt",roomHash:P,pId:j,gd:`${oe}-${X}-${ie}`}),await tC({roomHash:P,playerId:j,endedAt:Date.now(),shouldDiscard:!0});const Ce={currentAttempts:i.value,currentGameData:a.value},Fe=vv({roomHash:P,playerId:j},Ce);_({currentAttempts:Fe})}catch(Ce){switch(pn(Ce)){case"player.ALREADY_OVER":ge||g.clearIncompleteGame();break}b.error("Error at action discardAttempt",Ce)}}async function J(){if(!(s.value.length>0))try{const{response:P}=await yp();S(P)||N({memesets:P})}catch(P){b.error("Error at action fetchFeaturedMemesets",P)}}function K(){const P=()=>{f.requestToChangePage({to:O.get(O.List.LANDING.HOME)}),h.toggleDialog()};h.toggleDialog({name:"flashcard.cannotStart|confirm",actionCallback:P})}function fe(P){la().$patch(P)}return{source:e,soloLinkReferrer:t,featuredMemesets:s,screenOpenSource:n,currentGameData:a,currentQuizData:o,currentAttempts:i,contestId:r,embedMode:c,areAllAttemptsDoneInTestMode:G,isUserAllowedToReattemptQuiz:z,isContestMode:Q,setState:fe,retrieveRunningGame:H,retrieveCompletedGame:w,retrieveSoloGameAttempts:I,discardAttempt:M,fetchFeaturedMemesets:J,handleUnableToStartFlashcards:K,updatePreGameCompositeBreakdown:A,clearPreGameQuizInfo:v,setPreGameInfo:_,setPreGameOptions:y}}),Yt=Ot("profile",()=>{const e=gn(),t=ps(),s=m(""),n=m(""),a=m(""),o=m(""),i=m(""),r=m(""),c=m([]),u=m(""),l=m([]),p=m([]),d=m(""),g=m(""),f=m(-1),h=m(!1),E=m(""),A=m([]),_=m({}),v=m(null),y=m({}),N=m(""),G=m(""),z=m({}),Q=m(""),H=m(""),w=m(""),I=m(""),M=m({}),J=m({}),K=m({gcl:{},edmodo:{},canvas:{},schoology:{}}),fe=m(!1),P=m({isValidatingEmail:!1,isValidatedEmail:!1,error:""}),j=m({isValidatingPhoneNumber:!1,isValidatedPhoneNumber:!1,error:""}),oe=m(!0),X=m({isAuthenticatingUser:!1,isAuthenticatedUser:!1,error:""}),ie=m(!1),ge=m({}),Ce=T(()=>g.value.includes("corporate")),Fe=T(()=>!(!fe.value||Ce.value)),ve=T(()=>t.requestCountry==="AU"),ot=T(()=>{const ce=la(),{currentQuizData:he}=ce;return he.quizType===$a.PRESENTATION?[rt.CLASSIC]:Mv(fe.value)}),$=T(()=>{const ce=yt();return Is().isValidRoom===!0||!S(ce.roomHash)});function ne(ce){const{user:he={},updatedGroupIds:ue}=ce;A.value=ue,n.value=he.firstName||n.value,a.value=he.lastName||a.value,o.value=he.name||o.value,E.value=he.parentEmail||E.value}function Ie(ce){const he=K.value[ce];return!S(he)}function qe(ce){fe.value=ce.userProfile.isLoggedIn}function at(ce){const{isUnderAge:he,selectedAvatar:ue,totalStats:Ve}=ce.userData,et={isUnderAge:!!he,selectedAvatar:ue>=0?ue:-1,totalStats:Ve||{},isLoggedIn:!0},st=Yt(),Tt={...st.$state,...ce.userData,...et};st.$patch(Tt),ct.setProfileState(Tt.isLoggedIn,Tt.mongoId,Tt.occupation,{})}async function $e(){var st,kt;const ce=hs(),he=zm();let ue={},Ve={};if(!he)Ve=rv({rootReducer:ce,appSettings:e});else try{const{response:Tt}=await kv();Tt&&((st=Tt.data)!=null&&st.user)&&(ue=(kt=Tt.data)==null?void 0:kt.user,Ve=cv(ue))}catch(Tt){b.log("Error while fetching user data in loadUser",Tt)}Ve.shouldSignOutFirst&&de();const et=[];if(S(Ve.userData)){await Promise.all([...et,Nn().getUserAvatar()]);return}Ve.shouldSetAppLanguage&&et.push(e.setCurrentLanguage(Ve.userData.language)),at(Ve),Ve.shouldSaveUserAvatar&&Se({selectedAvatar:Ve.userData.selectedAvatar}),et.push(t.connectSocketForNotification()),await Promise.all([...et,Nn().getUserAvatar()])}async function tt(){if(fe.value&&S(y.value))try{const ce=await zv(),he=k(ce,"response.data",{});y.value=he}catch(ce){b.error("Error at action loadUser",ce)}}function vt(){const ce=Dt(),he=yt(),ue=Is(),Ve=Ya(),et=Kl();pe(),ce.resetGame(),Ve.$reset(),et.$reset(),ce.clearIncompleteGame(),ue.isValidRoom&&he.isClassroomGame&&t.handleExitGame({redirectTo:{name:O.get(O.List.LANDING.HOME)}})}function Pt({windowAction:ce}){vt(),setTimeout(()=>{switch(ce){case"redirect":window.location.href=`/auth/logout?q=${Wa.getAppBaseUrl()}`;break;case"reload":default:window.location.reload();break}},300)}function Te(){window.location.href="/delete-account"}async function Ne({itemsBeingUpdated:ce=[]}={}){const he=ov(ce),ue=Z(),Ve=Dt();try{const{response:et}=await Jl(he.requestData),st=iv(ue,$.value,et,he.propsBeingUpdated);return st.status!=="success"?void 0:(i.value=st.updatedProps.userName,n.value=st.updatedProps.firstName,a.value=st.updatedProps.lastName,r.value=st.updatedProps.photoUrl||r.value,l.value=st.updatedProps.gradeList,p.value=st.updatedProps.favSubjects,d.value=st.updatedProps.language,f.value=st.updatedProps.selectedAvatar>=0?st.updatedProps.selectedAvatar:D().selectedAvatar,o.value=st.updatedProps.name,st.shouldUpdatePlayerId&&Ve.updatePlayerName(st.playerIdUpdateMutationPayload),st)}catch(et){return b.error("Error at action updateUserProfileInfo",et),{updatedProps:{},status:"failed",message:U("An error has occurred, please try again.")}}}async function me(){var ce,he;try{const ue={deviceType:(he=(ce=window==null?void 0:window.navigator)==null?void 0:ce.userAgentData)!=null&&he.mobile?"mobile":"desktop",OS:Y_().browser,medium:"join-modal",ctaSource:"covert-to-teacher-join"};return await Jl({occupation:"teacher",isTeacherOnJoin:!1,platformSource:ue}),ct.logEvent(as.TEACHER_ONBOARDING_MODAL_CONVERTED),{updatedProps:{},status:"success",message:U("User successfully converted to teacher.")}}catch(ue){return ct.logEvent(as.TEACHER_ONBOARDING_MODAL_FAILED),b.error("Error at action convertUserToTeacher",ue),{updatedProps:{},status:"failed",message:U("An error has occurred, please try again.")}}}async function Se({selectedAvatar:ce=""}){try{f.value=+ce,await Sv(ce)}catch(he){b.error("Error at action saveAvatar",he)}}async function Qe({newPassword:ce="",oldPassword:he=""}){let ue={};const Ve=hs();try{const st={newPassword:ce};he&&(st.oldPassword=he);const{response:kt}=await Rv(st);ue=$l("success",kt)}catch(st){b.error("Error at action changePasswordForUser",st),ue=$l("failed",st)}if(!ue.changeSuccessful){const st=U("There was an error in updating password. Please try again!");return Ve.toggleSnackBar({isVisible:!0,options:{message:st}}),ue}const et=U("Password updated successfully!");return Ve.toggleModal(),Ve.toggleSnackBar({isVisible:!0,options:{message:et}}),ue}async function He({email:ce}){var Ve;P.value={isValidatingEmail:!0,isValidatedEmail:!1,error:""};let he=!1,ue="";try{const{response:et}=await Cv(ce);if((Ve=et==null?void 0:et.data)!=null&&Ve.isCorporateSSOLinked){window.location.href="/signup/sso?error=useSSO";return}et.data.avail===!0?he=!0:ue=U("Account already exists, please login")}catch(et){pn(et)==="user.VALIDATION"&&(ue=U("Please enter a valid email"))}P.value={isValidatingEmail:!1,isValidatedEmail:he,error:ue}}async function Xe({phoneNumber:ce}){j.value={isValidatingPhoneNumber:!0,isValidatedPhoneNumber:!1,error:""};let he=!1,ue="";try{const{response:Ve}=await Ov(ce);Ve.data.avail===!0?he=!0:ue=U("Account already exists, please login")}catch{ue=U("Please enter a valid phone number"),ct.logEvent(as.INVALID_PHONENUMBER,{phoneNumber:I})}j.value={isValidatingPhoneNumber:!1,isValidatedPhoneNumber:he,error:ue}}function Rt(ce){X.value={...X.value,...ce}}async function gt({username:ce="",password:he="",shouldAppendRoomCodeToQueryParam:ue=!1,redirectToUrl:Ve=""}={}){var st;X.value={isAuthenticatingUser:!0,isAuthenticatedUser:!1,error:""};const et=yt();try{const{response:kt}=await Pv(ce,he);if((st=kt==null?void 0:kt.data)!=null&&st.isCorporateSSOLinked){window.location.href="/signup/sso?error=useSSO";return}const Tt=uv(et.roomCode,kt,ue,Ve);Tt.redirectToHREF&&setTimeout(()=>{window.location.href=decodeURIComponent(Tt.redirectToHREF)},500),Tt.shouldReload&&setTimeout(()=>{window.location.reload()},500),Rt({...Tt.mutationPayload})}catch(kt){const{errorText:Tt}=Ue(kt);Rt({isAuthenticatedUser:!1,error:Tt})}finally{Rt({isAuthenticatingUser:!1})}}function Ue(ce){b.error("Error at action onAuthentication",ce);const he=pn(ce);let ue="";switch(he){case"user.NO_AUTH":ue=U("Invalid password");break;case"user.NOT_FOUND":ue=U("User not found");break;default:ue=k(ce,"response.message","User not found")}return{errorText:ue}}async function se({usernameToBe:ce}){if(i.value===ce)return{status:co.FAILED,message:U("The username provided is same as your current.")};try{const{response:he}=await wv(ce);return he.data.avail?await Ne({itemsBeingUpdated:[{prop:"userName",data:ce}]}):{status:co.FAILED,message:k(he,"data.err",U("An Error has occurred, please try again."))}}catch(he){return b.error("Error at action ifCanThenUpdateUsername",he),{status:co.FAILED,message:k(he,"response.message",U("An Error has occurred, please try again."))}}}async function Ee({firstName:ce,lastName:he}){if(n.value===ce&&a.value===he)return{status:co.FAILED,message:U("The name provided is same as your current.")};try{return await Ne({itemsBeingUpdated:[{prop:"firstName",data:ce},{prop:"lastName",data:he}]})}catch(ue){return b.error("Error at action ifCanThenUpdateName",ue),{status:co.FAILED,message:U("An error has occurred, please try again.")}}}async function ke(){try{await bv()}catch(ce){b.error("Error at action refreshAuthToken",ce),window.location.reload()}}function D(){return{email:"",firstName:"",lastName:"",name:"",userName:"",photoUrl:"",courses:[],mongoId:"",gradeList:[],favSubjects:[],language:"",occupation:"",selectedAvatar:-1,isUnderAge:!1,parentEmail:"",groupIds:[],totalStats:{},dob:null,groupsData:{},country:"",createdAt:"",currentPlanStatus:{},organization:"",paidOrganization:"",organizationRole:"",phoneNumber:"",google:{},microsoft:{},lmsInfo:{gcl:{},edmodo:{},canvas:{},schoology:{}},isLoggedIn:!1,emailValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},phoneNumberValidationStatus:{isValidatingEmail:!1,isValidatedEmail:!1,error:""},hasPassword:!0,isAuthenticated:{isAuthenticatingUser:!1,isAuthenticatedUser:!1,error:""},isTeacherOnJoin:!1}}function Z(){return Yt().$state}function pe(){Yt().$patch({...D()}),ct.setProfileState(!1,"","")}function de(){const ce=Dt(),he=Ya(),ue=Kl();pe(),ce.userSignedOut(),he.$reset(),ue.$reset()}return{email:s,firstName:n,lastName:a,name:o,userName:i,photoUrl:r,courses:c,mongoId:u,gradeList:l,favSubjects:p,language:d,occupation:g,selectedAvatar:f,isUnderAge:h,parentEmail:E,groupIds:A,totalStats:_,dob:v,groupsData:y,country:N,createdAt:G,currentPlanStatus:z,organization:Q,paidOrganization:H,organizationRole:w,phoneNumber:I,google:M,microsoft:J,lmsInfo:K,isLoggedIn:fe,emailValidationStatus:P,phoneNumberValidationStatus:j,hasPassword:oe,isAuthenticated:X,isTeacherOnJoin:ie,userData:ge,isCorporateUser:Ce,isSuperUser:Fe,themesAllowedToUser:ot,isUserFromAustralia:ve,loadPreviousContext:qe,hasUserIntegratedLMS:Ie,handleAuthTokenRefresh:ke,ifCanThenUpdateName:Ee,ifCanThenUpdateUsername:se,handleOnAuthenticationErrors:Ue,onAuthentication:gt,onPhoneNumberValidation:Xe,onEmailValidation:He,changePasswordForUser:Qe,saveAvatar:Se,convertUserToTeacher:me,updateUserProfileInfo:Ne,logoutUser:Pt,deleteUser:Te,logoutCurrentUser:vt,loadUser:$e,groupInfoResponded:ne,loadGroups:tt,$reset:pe,getState:Z}}),WS=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"}));function YS(e){return e<=5||(e-5)%10===0}function fd(e,t=-1){return e<=1?!0:t>=0&&YS(t)?e<=2:!1}const Rr={AlwayShowGestures:!1,RegdUser:{showForNthGame:()=>!0,showForNthQuestion:fd},UnRegdUser:{showForNthGame:()=>!0,showForNthQuestion:e=>fd(e,0)},CanShowEducatorsFor:{OPTIONS_KEYBOARD:!0,POST_ANSWER_KEYBOARD:!1,POST_ANSWER_MOUSE:!0,POST_ANSWER_TOUCH:!1,POST_ANSWER_PAUSE_INDICATOR:!0,POST_ANSWER_UNPAUSE_INDICATOR:!0,SHOW_PAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!1,SHOW_UNPAUSE_INDICATOR_WHEN_GESTURE_HIDDEN:!0}};class KS{canShowEducatorsForCurrentGame(t=!0){const s=Yt(),n=Ya();return s.isLoggedIn&&n.totalRunningGames>=0&&n.totalCompletedGames>=0?Rr.RegdUser.showForNthGame():Rr.UnRegdUser.showForNthGame()}canShowEducatorsForCurrentQuestion(t){const s=Yt(),n=Ya();if(!s.isLoggedIn)return Rr.UnRegdUser.showForNthQuestion(t);const a=n.totalRunningGames+n.totalCompletedGames;return Rr.RegdUser.showForNthQuestion(t,a)}}const hd=new KS,Gc={isDragging:!1,selectedOptionId:"",focusedBlankId:"",usedOptionIds:new Set,optionBlankMapping:{},isDragAndDropKeyboardInteractionActive:!1,shuffledOptions:[],blankDropzoneRefs:[]},JS={currentLevel:"",isPathFinder:!1,selectedPathFinderType:""},XS=10*1e3,Is=Ot("gameFlow",()=>{const e=qt(),t=yt(),s=m(!1),n=m(!1),a=m({list:[],totalPlayers:0,forQues:{id:"",attemptIndex:-1}}),o=m({list:[],totalTeams:0,forQues:{id:"",attemptIndex:-1}}),i=m([]),r=m({setId:Qi,list:sr(),nextPossible:{},createdBy:"",isFromFeaturedList:!0}),c=m([]),u=m({matchAndReorder:!1,dragAndDrop:!1,hotspot:!1,classification:!1,graphing:{points:!1,dragging:!1}}),l=m({forGame:!1,forQuestion:!1}),p=m({...Ts(Gc)}),d=m({shuffledOptions:[]}),g=m(!1),f=m([]),h=m({isGlitching:!1,isEffectGlowOn:!1}),E=m(!1),A=m({}),_=m(""),v=m({forQuestion:{id:"",attempt:-1},events:[]}),y=m({host:{isVisible:!1},player:{isVisible:!1,canDraw:!1},isAnnotationsEnabled:!1}),N=m({disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1,gameSoundSpeed:1}),G=m({enabled:!0,inProgress:!1}),z=m(0),Q=m(!1),H=m(!1),w=m(0),I=m(null),M=m(""),J=m(),K=m([]),fe=m(""),P=m(""),j=m([]),oe=m([]),X=m(-1),ie=m(JS),ge=m(!1),Ce=m(null),Fe=m(!1),ve=m(["64301eef9a5549001d54ca16"]),ot=m([]),$=T(()=>!1),ne=T(()=>{const B=yt();return n.value===!0||!S(B.roomHash)}),Ie=T(()=>oe.value.length>0?oe.value:t.mysticPeakLevelMap);function qe(B){let Be=Qi;const bt=B.room.options.memeset||B.room.memeSet;return bt&&(Be=bt),Be}function at(B,Be){if(!S(Be)){if(Array.isArray(Be))return[...Be];if(typeof Be=="string")return Be.split("|")}return B}function $e(B){c.value[0]==="gameCode"&&c.value[1]==="pseudoLms"||(c.value=at(c.value,B.startSource))}function tt(B,Be=!0){return{...l.value,forQuestion:hd.canShowEducatorsForCurrentQuestion(B),forGame:hd.canShowEducatorsForCurrentGame(Be)}}function vt(B){if(an(B.room.canvas)){const Be=B.room.canvas.host===!0,bt=B.room.canvas.annotations===!0;y.value={host:{...y.value.host,isVisible:Be},player:{...y.value.player,isVisible:Be,canDraw:!bt&&B.room.canvas.player===!0},isAnnotationsEnabled:bt}}}const Pt=T(()=>G.value.inProgress),Te=T(()=>{const{currentId:B,currentQuestionCurrentAttemptIndex:Be,doneOrderForEvaluatedQuestions:bt,remainingOrder:Fs}=e,rn={id:B,attemptIndex:Be},fn=a.value.forQues,Un=[bt,Fs,B],Bn=Gl(...Un,rn),Kn=Gl(...Un,fn);return Bn<Kn}),Ne=T(()=>S(e.currentQuestion)||S(e.currentQuestion.metadata)?!1:e.currentQuestion.metadata.isTimerPaused),me=T(()=>!u.value.matchAndReorder),Se=T(()=>!u.value.dragAndDrop),Qe=T(()=>!u.value.hotspot),He=T(()=>!u.value.classification),Xe=T(()=>!u.value.graphing.points),Rt=T(()=>!u.value.graphing.dragging),gt=T(()=>{if(!S(_.value))return{shouldRedirect:!0,to:_.value};let B;const bt=Yt().occupation;typeof c.value=="string"&&(B=Ze.matches(c.value,Ze.get(Ze.List.FROM_ADMIN),1));const Fs=!S(bt)&&bt!==ho.STUDENT&&B;return{shouldRedirect:Fs,to:Fs?Wa.getAdminHomeUrl():""}}),Ue=T(()=>{if(!(e.isInComprehensionView&&v.value.forQuestion.id===e.comprehensionQuestionId)&&(v.value.forQuestion.id!==e.currentQuestion.id||v.value.forQuestion.attempt!==e.currentQuestionCurrentAttemptIndex))return!1;const B=Ut(v.value.events,{type:aa.START});return!S(B)}),se=T(()=>{if(!Ue.value)return!1;const B=xr(v.value.events)||{type:""};return!S(B)&&B.type===aa.PAUSE}),Ee=T(()=>{if(!Ue.value)return!1;const B=Ut(v.value.events,{type:aa.FREEZE});return!S(B)}),ke=T(()=>{if(!Ue.value)return new Date;const B=v.value.events[0];return B?B==null?void 0:B.on:new Date}),D=T(()=>{if(!Ue.value||!t.isQuestionTimerOn)return k(e,"currentQuestion.time",-1);const B=1e3,Be=Math.ceil(e.list[v.value.forQuestion.id].time/B);let bt=null,Fs=null,rn=!1,fn=!1;if(!t.isQuestionTimerOn||!S(bt))return Be;const Un=v.value.events[0],Bn=(Un.for??0)/B,Kn=new Date;let Jn=0,hn=1;for(;hn<v.value.events.length;){const da=v.value.events[hn];if(da.type===aa.RESET&&(fn=!0,bt=v.value.events[hn]),da.type===aa.FREEZE&&(rn=!0,Fs=v.value.events[hn]),!rn&&da.type===aa.PAUSE){const no=Ms(v.value.events,{type:aa.RESTART},hn+1);if(no>=0){const Si=v.value.events[no];Jn+=Si.on-da.on,hn=no}else se.value&&(Jn+=Date.now()-da.on)}hn+=1}const so=fn&&bt?bt.on:Un.on,Na=(rn&&Fs?Fs.on:Kn.getTime())-so-Jn,No=Na>0?Na/B:0,Do=Bn-Math.floor(No),Lo=ps();return Do>=0&&!se.value&&(!e.hasCurrentQuestionBeenAnswered||e.isInComprehensionView)&&Lo.ticker.count,Math.ceil(Math.max(Do,0))}),Z=T(()=>t.gameMode===re.MYSTIC_PEAK),pe=T(()=>{const B=Dt(),{mysticPeakLevelMap:Be}=t;return B.totalCorrect>=Be[Be.length-1]});function de(){n.value=!1,a.value={list:[],totalPlayers:0,forQues:{id:"",attemptIndex:-1}},o.value={list:[],totalTeams:0,forQues:{id:"",attemptIndex:-1}},i.value=[],r.value={setId:Qi,list:sr(),nextPossible:{},createdBy:"",isFromFeaturedList:!0},c.value=[],u.value={matchAndReorder:!1,dragAndDrop:!1,hotspot:!1,classification:!1,graphing:{points:!1,dragging:!1}},l.value={forGame:!1,forQuestion:!1},p.value={...Ts(Gc)},d.value={shuffledOptions:[]},g.value=!1,f.value=[],h.value={isGlitching:!1,isEffectGlowOn:!1},E.value=!1,A.value={},_.value="",v.value={forQuestion:{id:"",attempt:-1},events:[]},y.value={host:{isVisible:!1},player:{isVisible:!1,canDraw:!0},isAnnotationsEnabled:!1},N.value={disableMeme:!1,disableLeaderboard:!1,gamePlaySpeed:1,gameSoundSpeed:1},G.value={enabled:!0,inProgress:!1},z.value=0,I.value=null,M.value="",J.value=void 0,K.value=[],fe.value="",P.value="",j.value=[],oe.value=[],ie.value={currentLevel:"",isPathFinder:!1,selectedPathFinderType:""},ge.value=!1,Ce.value=null,X.value=-1,Fe.value=!1,ve.value=["64301eef9a5549001d54ca16"],ot.value=[],s.value=!1,H.value=!1,Q.value=!1,w.value=0}function ce(){de()}function he(){de()}function ue(B){const Be=k(B,"game.questionTimer",{});S(Be)||(v.value={forQuestion:Be.forQuestion,events:Nt(Be.events,bt=>({...bt,on:new Date(bt.on).getTime()}))})}const Ve=$e,et=$e;function st(){n.value=!0}const kt=$e;function Tt(){n.value=!0}const _s=$e;function Bt(B){n.value=!0,r.value.setId=qe(B),r.value.nextPossible=Ec(),l.value=tt(0)}function ks(B){const{challengeLeaderboardNewPlayer:Be}=B;Be&&(i.value=[...i.value,Be])}function ds(B){const{challengeLiveLeaderboard:Be}=B;Be&&(i.value=[...i.value,Be])}const ls=$e;function ye(B){const{generatedPlayers:Be}=B;n.value=!0,r.value.setId=qe(B),r.value.nextPossible=Ec(),l.value=tt(0),a.value={...a.value,list:[...Be],totalPlayers:Be.length,forQues:{id:"",attemptIndex:0}}}const At=$e;function Et(B){const{generatedPlayers:Be,player:bt}=B;S(Be)||(a.value={...a.value,list:[...Be],totalPlayers:Be.length,forQues:{id:bt.remainingQuestionsOrder[0],attemptIndex:0}}),n.value=!0,r.value.setId=qe(B),r.value.nextPossible=Ec(),l.value=tt(bt.doneOrder.length,!1),vt(B)}function Mt(B){a.value={list:[...(B==null?void 0:B.leaderboard)||[]],totalPlayers:B.totalPlayers,forQues:B.forQues},o.value={list:[...B.teamLeaderboard],totalTeams:B.totalTeams,forQues:B.forQues},I.value=B.breakRoomArr||[],K.value=B.mysticPeakLevelBoard||[],j.value=B.mysticPeakLeaderboard||j.value||[],Ce.value=B.mysticPeakTieredRank||null,oe.value=B.mysticPeakLevelArray||[],B.mysticPeakLevel!==-1&&(X.value=B.mysticPeakLevel||0),t.isQuizForCoins&&e.currentQuestionCurrentAttemptResponse.isCorrect&&(w.value=w.value+Vf)}function ms(B){Ce.value=B||null}function Vs({isPathFinder:B,selectedPathFinderType:Be}){ie.value.isPathFinder=B,ie.value.selectedPathFinderType=Be}function xs(B){const{memeSet:Be,createdBy:bt,responses:Fs,questionsCount:rn,isFromFeaturedList:fn}=B;r.value.list=Be,r.value.createdBy=bt,r.value.nextPossible=_m(Fs,Be,rn),r.value.isFromFeaturedList=fn}function Zs(B){r.value.nextPossible=B.next}function q(B){g.value=B.hasSeenSummaryAtleastOnce}function dt(){g.value=!0}function zt(B){const{currentOptionsAppearance:Be}=B;f.value=Array.isArray(Be)?Be:f.value,l.value=tt(B.doneOrder.length)}function os(B){f.value=Array.isArray(B.currentOptionsAppearance)?B.currentOptionsAppearance:f.value}function ns({currentOptionsAppearance:B=[]}){f.value=Array.isArray(B)?B:f.value}function rs(){n.value=!0}function C(B){const{leaderboard:Be}=B;Be&&(i.value=Be)}function x(B){A.value=B.appSettingsToRevert}function ee(B){_.value=B.redirectOnGameExit||_.value}function te(B){S(B.forQuestion)||(v.value.forQuestion=B.forQuestion),S(B.events)||(v.value.events=B.events)}function le(B){const Be=B.host||{},bt=B.player||{};y.value={host:{...y.value.host,...Be},player:{...y.value.player,...bt},isAnnotationsEnabled:B.isAnnotationsEnabled===!0}}function De(B){G.value.inProgress=B.inProgress}function we(B){I.value&&I.value.length&&(I.value[B.powerupIndex].visible=!0)}function be(B){M.value=B.breakoutRoomType,J.value=B.powerupIndex,P.value=B.powerupName,fe.value=B.type,I.value=B.breakRoomArr}function Ge(B){ie.value.selectedPathFinderType=B,B&&(ie.value.isPathFinder=!0)}function nt({reached:B}){ge.value=B}function St({count:B}){z.value=B}function mt({hasReachedMasteryAtLeastOnce:B}){Fe.value=B}function xt({mysticPeakBoard:B}){j.value=[...B]}function Lt({nameList:B}){B.length&&B.forEach(Be=>{ot.value.push(Be)})}function cs(){ot.value=[]}function ws(){E.value=!0}function Pe({optionIndex:B,appearanceChanges:Be}){const bt=Ts(f.value);bt[B]={...bt[B],...Be},ns({currentOptionsAppearance:bt})}function Le(B){const Be=Ts(h.value);Be[B.name]=B.value,h.value=Be}function Ye(B){const Be={...Ts(p.value),...B};p.value=Be}function ft(B){const Be={...Ts(d.value),...B};d.value=Be}function Kt(){p.value=Ts(Gc)}function js(){u.value.matchAndReorder=!0}function ts(){u.value.dragAndDrop=!0}function bs(){u.value.hotspot=!0}function is(){u.value.classification=!0}function vs(){u.value.graphing.points=!0}function Cn(){u.value.graphing.dragging=!0}function Yn(B){const Be={...N.value,...B};N.value=Be}function Qn({questionId:B,attempt:Be,startTime:bt=Date.now()}){const Fs=Dt(),rn=ui(),fn=v.value.forQuestion.id===B&&v.value.forQuestion.attempt===Be,Bn=Yt().isLoggedIn;if(fn)return;const Kn=e.list[B];b.invariant(!S(Kn),`startTimerForQuestion: cannot find question for questionId - ${B}`);const Jn=Kn.time;let hn=Jn;if(e.isAnswerLaterQuestion){const so=e.questionResponses[e.currentQuestion.id],bo=mu(so,"timeTaken"),Na=Jn-bo;hn=[Gt.Timer.STRICT,Gt.Timer.CLASSIC].includes(t.gameOptions.timer)?Math.max(Na,XS):0}te({forQuestion:{id:B,attempt:Be},events:[{type:aa.START,on:bt,for:hn}]}),Fs.updateIncompleteGame(v.value,e.currentId,e.orderedOriginalResponses,Bn),rn.saveCurrentContext()}function $s({eventType:B,questionId:Be,attempt:bt,on:Fs=Date.now()}){const rn=Dt(),fn=ui(),Bn=Yt().isLoggedIn;v.value.forQuestion.id!==Be||v.value.forQuestion.attempt!==bt||(te({forQuestion:v.value.forQuestion,events:[...v.value.events,{type:B,on:Fs,for:null}]}),rn.updateIncompleteGame(v.value,e.currentId,e.orderedOriginalResponses,Bn),fn.saveCurrentContext())}function qn(B){const Be=Math.floor(B/6e4),bt=Be>1?"minutes":"minute";g.value||_o.add({type:En.ALERT,icon:"icon-fas-alarm-clock",title:U("Yay! Your teacher added {$1} {$2} to the timer.",[Be.toString(),bt])})}function to(B){a.value=B}function Ai(){s.value=!s.value}function Ti(B){H.value=B}function yi(B){Q.value=B}function Ii(B){w.value=B}const ko=T(()=>new Date(ke.value).getTime());return{isValidRoom:n,leaderboard:a,teamLeaderboard:o,challengeLiveLeaderboard:i,meme:r,startSource:c,isPlayerEducated:u,showGestureEducators:l,dragAndDropUpdates:p,classification:d,hasSeenSummaryAtleastOnce:g,currentOptionsAppearance:f,gameAppearance:h,nicknameDuplicateError:E,appSettingsToRevertAtGameEnd:A,redirectOnGameExit:_,questionTimer:v,liveWhiteboardState:y,powerupGameFlow:N,answerLaterFlow:G,redemptionCurrentQuestionNumber:z,breakRoomArr:I,breakoutRoomType:M,selectedPowerupIndex:J,mysticPeakLevelBoard:K,breakRoomItemType:fe,mysticPeakLevelArray:Ie,mysticPeakLevel:X,selectedPowerupName:P,mysticPeakLeaderboard:j,mysticPeak:ie,hasReachedMasteryInMysticPeakAtleastOnce:ge,mysticPeakTieredRank:Ce,hasReachedMasteryAtLeastOnce:Fe,rejoinCallNetworkErrorredOutGames:ve,actionErrorTrace:ot,isQuestionVideoPlaying:H,isQuestionAudioPlaying:Q,coinsEarnedWithPractice:w,isSkipQueueInProgess:Pt,questionStartTime:ko,isLeaderboardStale:Te,isMysticPeak:Z,hasReachedMasteryForMysticPeak:pe,currentQuestionTimeLeftInSeconds:D,currentQuestionStartTime:ke,didCurrentQuestionTimerStart:Ue,isQuestionTimerFreezed:Ee,isTimerPaused:se,gameExitRedirectionDetails:gt,isCurrentSlidePausedByHost:Ne,shouldShowPlayerEducationForMatchAndReorder:me,shouldShowPlayerEducationForHotspot:Qe,shouldShowPlayerEducationForClassification:He,shouldShowPlayerEducationForDragAndDrop:Se,shouldShowPlayerEducationForGraphingPoints:Xe,shouldShowPlayerEducationForGraphingDragging:Rt,canShowMysteryBoxWaiting:$,isPlayerInGame:ne,showAvatarCustomizationFeedback:s,setGameStartSource:Ve,startSourceHandler:$e,setChallengeLiveLeaderboard:C,setActionErrorTrace:Lt,reachedSummaryForTheFirstTimeInGame:dt,resetGame:he,$reset:de,exitGame:ce,showTestTimeAddedAlert:qn,pushTimerEventForQuestion:$s,startTimerForQuestion:Qn,showingAnswerLaterQuestions:De,showPowerupOnBreakroom:we,updateBreakRoomType:be,updateQuestionTimer:te,setNextPossibleMeme:Zs,hasReachedMasteryOnce:mt,setCurrentQuestion:zt,setLiveWhiteboardState:le,joinSoloGameInProgress:ls,updateWaitingMysticLeaderboard:xt,checkRoomInProgress:et,newPlayerJoined:ks,playerDeleted:ds,changeCurrentOptionsAppearance:ns,changeOptionAppearance:Pe,changeGameAppearance:Le,changeDragAndDropUpdates:Ye,updateClassificationState:ft,changeDragAndDropUpdatesReset:Kt,hidePlayerEducationForClassification:is,hidePlayerEducationForMatchAndReorder:js,hidePlayerEducationForDragAndDrop:ts,hidePlayerEducationForHotspot:bs,hidePlayerEducationForGraphingPoints:vs,hidePlayerEducationForGraphingDragging:Cn,updatePowerupGameFlow:Yn,emptyActionErrorTrace:cs,setNicknameDuplicateError:ws,setRedemptionCurrentQuestionNumber:St,updateHasReachedMasteryInMysticPeakAtleastOnce:nt,setPathFinderType:Ge,setInitialGameMetadata:ee,setAppSettingToRevertAtGameEnd:x,hostGameResponded:rs,setCurrentOptionsVisibility:os,playerJoinedTheGame:q,setMemeSet:xs,setPathFinderOnRejoin:Vs,setTieredLeaderboard:ms,proceedGameResponded:Mt,rejoinGameResponded:Et,rejoinGameInProgress:At,joinSoloGameResponded:ye,joinRoomResponded:Bt,joinRoomInProgress:_s,checkAssignmentInProgress:kt,checkAssignmentResponded:Tt,checkRoomResponded:st,loadPreviousContext:ue,updategameFlowLeaderboard:to,toggleShowAvatarCustomizationFeedback:Ai,onVideoTogglePlayState:Ti,onAudioTogglePlayState:yi,setCoinsEarnedWithPractice:Ii}}),qt=Ot("gameQuestions",()=>{const e=m([]),t=m(!1),s=m({}),n=m([]),a=m([]),o=m([]),i=m(""),r=m([]),c=m({}),u=m({}),l=m(es.PARTIAL),p=m(!1),d=m([]),g=m([]),f=m(!1),h=m(new Set),E=m(new Set),A=m({}),_=m([]),v=m({}),y=m([]),N=m({}),G=m(!0),z=m("");function Q(R=[],V={}){const{gameMode:_e}=yt(),{isMobileWidth:Oe}=Co();return R.reduce((lt,Vt)=>{const ss=V[Vt];return!ss||!ss.comprehensionQuestionId&&![Y.COMPREHENSION_VIDEO,Y.COMPREHENSION].includes(ss.type)||(ss.type===Y.COMPREHENSION_VIDEO||ss.comprehensionTimestamp>=0?_e===re.TEACHER_PACED||y.value.includes(ss.id)?(lt[Vt]=Sn.VISIBLE,ss.comprehensionQuestionId&&(lt[ss.comprehensionQuestionId]=Sn.VISIBLE)):(lt[Vt]=Sn.COLLAPSED,ss.comprehensionQuestionId&&(lt[ss.comprehensionQuestionId]=Sn.COLLAPSED)):(lt[Vt]=Sn.VISIBLE,ss.comprehensionQuestionId&&(lt[ss.comprehensionQuestionId]=Oe.value?Sn.COLLAPSED:Sn.VISIBLE))),lt},{})}function H(R){var cn;const V=R.room.questionIds;n.value=V,a.value=R.player.doneOrder||[],o.value=[...V],i.value="",l.value=R.room.slidesFlowControlType,r.value=Object.keys(k(R,"player.playerMetadata.skipped",[]));const _e=k(R,"player.answerLaterQuestions",[]);d.value=V.filter(Ns=>_e.includes(Ns)),g.value=_e,f.value=k(R,"player.shouldShowReviewScreen",!1),E.value=R.player&&R.player.correctQuestionAttempts||new Set,h.value=R.player&&R.player.incorrectQuestionAttempts||new Set;const Oe=k(R,"player.remainingQuestionsOrder",null);Dr(Oe)?Dr(d)||(o.value=d.value):o.value=Oe;const lt=oa(a.value.concat(g.value));oa(lt.filter(Ns=>{var tn;return(tn=R.room.questions[Ns])==null?void 0:tn.comprehensionQuestionId}).map(Ns=>{var tn;return(tn=R.room.questions[Ns])==null?void 0:tn.comprehensionQuestionId})).filter(Ns=>(R.room.questions[Ns].comprehensionQuestionIds||[]).every(fr=>lt.includes(fr))).forEach(Ns=>{ko({comprehensionQuestionId:Ns})}),o.value=o.value.filter(Ns=>V.includes(Ns)),v.value=Q(R.room.questionIds,R.room.questions);const yn=(cn=R.player)==null?void 0:cn.doneOrder.reduce((Ns,tn)=>{const ma=Ns;return Ns[tn]>=0?ma[tn]+=1:ma[tn]=0,ma},{});A.value=yn||{}}function w(R){if(!S(R)){const V=R,_e=ut(V.attempt)?V.attempt:0,Oe=ys(c.value[V.questionId]);S(Oe[_e])?Oe[_e]=V:Oe[_e]={...Oe[_e],...V},k(V,"metadata.extraLifeStatus","")===po.UTILISED&&Oe.forEach(lt=>{S(lt.metadata.extraLifeStatus)||(lt.metadata.extraLifeStatus=po.UTILISED)}),c.value[V.questionId]=Oe}}function I(R){return!!(c.value[R]||[]).length}function M(R){return(c.value[R]||[]).find(_e=>_e.state!==mn.DRAFT)}function J(R){const V=c.value[R]||[],_e=V[(V==null?void 0:V.length)-1];return S(_e.result)?_e.isCorrect:[Ua.PARTIALLY_CORRECT,Ua.CORRECT].includes(_e.result)}function K(R){const V=R.filter(Oe=>Oe!==i.value);return V.length?s.value[V[0]]:void 0}const fe=T(()=>n.value.findIndex(V=>V===i.value)+1),P=T(()=>{const R=i.value;return R?(b.invariant(R in s.value,`At state module 'game.questions': the current question Id(${i.value}) set does not exist in the questions list`),s.value[R]||{}):{}}),j=T(()=>P.value.comprehensionQuestionId),oe=T(()=>v.value[j.value]),X=T(()=>!!j.value),ie=T(()=>y.value.includes(j.value)),ge=T(()=>{const{isMysticPeak:R,answerLaterFlow:V}=Is(),{gameType:_e,gameMode:Oe,isLessonRunningInStudentPacedMode:lt}=yt(),Vt=Oe===re.PRESENTATION&&!lt()&&_e===Je.LIVE;return!V.inProgress&&Oe!==re.TEACHER_PACED&&!Vt&&!R&&X.value&&!ie.value}),Ce=m(0),Fe=T(()=>s.value[j.value]),ve=T(()=>(Fe.value||{}).comprehensionQuestionIds||[]),ot=T(()=>n.value.findIndex(V=>V===ve.value[0])+1),$=T(()=>ot.value+ve.value.length-1),ne=T(()=>ve.value.map(R=>s.value[R])),Ie=T(()=>ve.value.findIndex(R=>R===i.value)),qe=T(()=>ve.value[Ie.value+1]),at=T(()=>ve.value[Ie.value-1]),$e=T(()=>ge.value&&ve.value.every(I)),tt=T(()=>ve.value.filter(R=>!I(R))),vt=T(()=>ve.value.filter(R=>!M(R))),Pt=T(()=>tt.value.length),Te=T(()=>{var V;if(((V=Fe.value)==null?void 0:V.type)===Y.COMPREHENSION_VIDEO){const _e=uu(),Oe=Fe.value.comprehensionTimestamps[Math.round(_e.maxPlayedTime)];return Oe==null?void 0:Oe.find(lt=>!I(lt))}return ve.value.find((_e,Oe)=>Oe>Ie.value?!I(_e):!1)||tt.value[0]}),Ne=T(()=>N.value[i.value]||{}),me=T(()=>ve.value.length),Se=T(()=>ve.value.filter(I).length),Qe=T(()=>me.value-(Ie.value+1)),He=T(()=>{const R=P.value,V=!S(k(R,"explain.text","")),_e=!S(k(R,"explain.media",[]));return!S(R.explain)&&(V||_e)}),Xe=T(()=>Ou(P.value)),Rt=T(()=>Bs(P.value)),gt=T(()=>l.value===es.PARTIAL),Ue=T(()=>{const R=yt();if(S(P.value))return dn.INACTIVE;if(R.isLessonRunningInStudentPacedMode()||ii({gameType:R.gameType,gameMode:R.gameMode,isMasteryMode:R.isMasteryMode})&&i.value&&h.value.has(i.value))return dn.ACTIVE;const V=P.value.state,_e=Object.values(dn),Oe=Jt(_e,V);return gt.value?Oe?V:dn.ACTIVE:(b.invariant(Oe,`Getters.currentSlideState: Invalid question state found for question ${i.value}.
      Expected state to be one of [${_e}] but found '${P.value.state}'`),V)}),se=T(()=>c.value[i.value]||[]),Ee=T(()=>l.value===es.FULL),ke=T(()=>l.value===es.NONE),D=T(()=>{const R=yt(),{gameOptions:V,gameType:_e,gameMode:Oe}=R,lt=[Je.ASYNC,Je.LIVE,Je.SOLO],Vt=[re.NORMAL];return(!!V.isAnswerExplanationEnabled||He.value)&&Jt(lt,_e)&&Jt(Vt,Oe)}),Z=T(()=>{const R=yt(),{gameOptions:V}=R,_e=a.value,Oe=c.value,lt=d.value,Vt=[..._e];if(ii({gameType:R.gameType,gameMode:R.gameMode,isMasteryMode:R.isMasteryMode}))return Vt;if(D.value&&V.hasRedemptionPass!==Gt.hasRedemptionPass.YES)return oa(Vt);const ss=[],yn={};return lt.length?(Vt.forEach(cn=>{var ma;yn[cn]=(yn[cn]||0)+1;const Ns=yn[cn]-1,tn=Oe[cn];tn?tn[Ns]&&!Gn.ANSWER_LATER_RESPONSE_STATES.includes((ma=tn[Ns])==null?void 0:ma.state)&&ss.push(cn):r.value.includes(cn)&&ss.push(cn)}),ss):Vt}),pe=T(()=>{const{answerLaterFlow:R}=Is();if(S(i.value))return-1;if(Xe.value||Ee.value||ke.value||ge.value||R.inProgress)return 0;let V=0;const _e=Z.value;for(let Oe=0;Oe<_e.length;Oe++)_e[Oe]===i.value&&(V+=1);return V}),de=T(()=>!S(se.value)&&pe.value>=0?se.value[pe.value]||{}:{}),ce=T(()=>{const R=se.value.length;return R===1?se.value[0]||{}:R>1?se.value[R-1][R-1]?se.value[R-1][R-1]:se.value[R-1]:{}}),he=T(()=>{var R,V,_e;return S((R=de.value)==null?void 0:R.answer)?{}:((_e=(V=de.value)==null?void 0:V.answer)==null?void 0:_e.find(Oe=>Oe.descriptor===Qf.Answer))||{}}),ue=T(()=>S(de.value.result)?de.value.isCorrect:[Ua.PARTIALLY_CORRECT,Ua.CORRECT].includes(de.value.result)),Ve=T(()=>S(de.value.result)?de.value.isCorrect:de.value.result===Ua.PARTIALLY_CORRECT),et=T(()=>r.value.includes(i.value)&&!f.value),st=T(()=>{var R;if(l_(P.value)){const V=Gh(P.value.text);return(R=Object.keys(V))==null?void 0:R.length}return k(P.value,"options.length",-1)}),kt=T(()=>!1),Tt=T(()=>d.value.includes(i.value)),_s=T(()=>!S(i.value)&&!S(de.value)&&!kt.value&&!Tt.value||et.value),Bt=T(()=>{const V=Dt().extraLife||[];return Ut(V,Oe=>Oe.questionId===i.value)}),ks=T(()=>{var R;return S(Bt.value)?!1:((R=Bt.value)==null?void 0:R.status)===po.UTILISED}),ds=T(()=>S(Bt.value)?!1:Bt.value.status===po.IN_PROGRESS),ls=T(()=>ds.value?Ut(se.value,R=>R.attempt===0)||{}:{}),ye=T(()=>{let R=k(de.value,"metadata.wrongIndices",[]);return S(R)&&(R=k(ls.value,"metadata.wrongIndices",[])),R}),At=T(()=>{let R=k(de.value,"metadata.wrongTargetOptions",[]);return S(R)&&(R=k(ls.value,"metadata.wrongTargetOptions",[])),R}),Et=T(()=>u_(P.value)?ye.value:At.value),Mt=T(()=>{var V,_e;if(!_s.value||st.value===-1)return-1;const R=he.value;return(V=R.value)!=null&&V.length&&((_e=R==null?void 0:R.value[0])!=null&&_e.targetId)?R.value.reduce((Oe,{optionId:lt})=>Oe+lt.length,0)-Et.value.reduce((Oe,{optionId:lt})=>Oe+lt.length,0):st.value-Et.value.length}),ms=T(()=>ks.value?Ut(se.value,R=>R.attempt===1)||{}:{}),Vs=T(()=>{const R=ps();return ln(`proceedGame.${i.value}`,R.callsInProgress).isIt||ln(`proceedSoloGame.${i.value}`,R.callsInProgress).isIt}),xs=T(()=>!Tt.value&&!S(de.value)?de.value.isEvaluated===!0:!1),Zs=m({}),q=m(!1),dt=m(!1),zt=m(!1);function os(R){dt.value=R}function ns(){q.value=!0}const rs=T(()=>{var Vt;const R=yt(),{gameOptions:V}=R,_e=V.redemption===Gt.Redemption.YES||V.hasRedemptionPass===Gt.hasRedemptionPass.YES;if(pe.value===1&&!V.isAnswerExplanationEnabled&&_e)return!1;if(He.value)return D.value;const Oe=Tm(P.value)||ym(P.value),lt=P.value.options&&P.value.options.some(ss=>e_(ss));return D.value&&!Oe&&!lt&&!Om(P.value)&&jf.includes((Vt=P.value)==null?void 0:Vt.type)}),C=T(()=>{const R=rs.value&&xs.value&&!q.value&&!dt.value&&pe.value===0;return He.value?R:R&&!ue.value&&zt.value}),x=T(()=>se.value.length>=1&&ds.value&&!C.value),ee=T(()=>n.value.length),te=T(()=>{const{answerLaterFlow:R}=Is(),V=pe.value===0,_e=R.inProgress,Oe=ue.value;return!(rs.value&&V&&!Oe&&!_e)}),le=T(()=>Zt(n.value,R=>s.value[R]&&s.value[R].type!==Y.CONTENT_SLIDE&&s.value[R].type!==Y.CONTENT_SLIDE_V2)),De=T(()=>le.value.length),we=T(()=>o.value.length),be=T(()=>Z.value.length+(i.value?1:0)),Ge=T(()=>ra(Z.value,(V,_e)=>Jt(le.value,_e)?V+1:V,0)+(i.value?1:0)),nt=T(()=>{if(Ee.value||ke.value){const V=Qs(c.value),_e=Zt(Z.value,lt=>V.includes(lt)),Oe=jc(oa(jc(_e)));return ra(Oe,(lt,Vt)=>(V.includes(Vt)&&lt.push(Vt),lt),[])}const R=[...Z.value];return _s.value&&R.push(i.value),R}),St=T(()=>{const R=nt.value,V=[],_e={};for(let Oe=0;Oe<R.length;Oe++){const lt=R[Oe];if(!S(c.value[lt])){_e[lt]=ut(_e[lt])?_e[lt]+1:0;const ss=c.value[lt][_e[lt]];ss&&V.push(ss)}}return V}),mt=T(()=>Zt(St.value,R=>R.questionType!==Y.CONTENT_SLIDE&&R.questionType!==Y.CONTENT_SLIDE_V2)),xt=T(()=>Zt(St.value,R=>R.attempt===0&&Bs(R))),Lt=T(()=>Zt(St.value,{attempt:1})),cs=T(()=>Nt(xt.value,R=>{const{questionId:V}=R,_e=c.value[V];return _e[_e.length-1]})),ws=T(()=>Zt(cs.value,R=>R.isCorrect===!0)),Pe=T(()=>{const R=yt(),{answerLaterFlow:V}=Is();if(R.isMasteryMode||R.gameMode===re.MYSTIC_PEAK||ge.value||V.inProgress||rs.value)return!1;const _e=kt.value||!S(ms.value);return pe.value>=1&&!_e&&!f.value}),Le=T(()=>kt.value||x.value?qi.EXTRA_LIFE:Pe.value?qi.REDEMPTION:qi.ORIGINAL),Ye=T(()=>pe.value===0),ft=T(()=>{const R=yt(),{gameType:V,gameMode:_e,gameOptions:Oe}=R;if(_e===re.FLASHCARD&&ee.value>0){const yn=Ra(),{flashcardMode:cn}=yn;if(cn===nr.Study)return!(Ge.value>1&&fe.value===ee.value)}const lt=d.value.length;let Vt;Oe.hasRedemptionPass===Gt.hasRedemptionPass.YES?Vt=ti.noOfRedemptionAttemptsRequiredSoFar(V,_e,Oe,xt.value):Vt=Gm.noOfRedemptionAttemptsRequiredSoFar(V,_e,Oe,xt.value.length,ee.value,xt.value);const ss=De.value+Vt+lt;return Ge.value<ss}),Kt=T(()=>{let R=xt.value.length;return Ye.value&&!_s.value&&(R+=1),R}),js=T(()=>{const R=o.value;return _g(R,V=>s.value[V]&&s.value[V].type==="MSQ")}),ts=T(()=>{const R=o.value;return Wi(R,V=>s.value[V]&&s.value[V].options.length)}),bs=T(()=>Dn(ts.value,"2")?ts.value[2]===o.value.length:!1),is=T(()=>!!nc(P.value)),vs=T(()=>{const R=a.value,V=d.value;return V.length>0&&R.length>0&&V.includes(R[R.length-1])}),Cn=T(()=>g.value.length),Yn=T(()=>o.value.every(V=>s.value[V]&&s.value[V].type===Y.BLANK)),Qn=T(()=>h.value.has(i.value)),$s=T(()=>{var _e;const R=Dt(),V=yt();return R.accuracy>=((_e=V.gameOptions.masteryMode)==null?void 0:_e.goal)}),qn=T(()=>!d.value.length&&g.value.length>0);function to(){s.value={},n.value=[],a.value=[],o.value=[],i.value="",r.value=[],c.value={},u.value={},l.value=es.PARTIAL,p.value=!1,e.value=[],d.value=[],g.value=[],f.value=!1,h.value=new Set,E.value=new Set,A.value={},v.value={},y.value=[],N.value={},G.value=!0,_.value=[]}function Ai(){to()}function Ti(){to()}function yi(R){G.value=R.value}function Ii(R){v.value={...v.value,[R.key]:R.value}}function ko(R){y.value=oa([...y.value,R.comprehensionQuestionId])}function B(R){N.value={...N.value,[R.questionId]:R.attempt}}function Be(){N.value={}}function bt(R){s.value=R.questions}function Fs(R){t.value=R}function rn(){f.value=!0}const fn=H,Un=H;function Bn(R){const{player:V}=R;H(R),c.value=V.responses,a.value=V.doneOrder}function Kn(R){const{questionId:V,doneOrder:_e,remainingOrder:Oe}=R;i.value=V,z.value||(z.value=V),a.value=_e,o.value=Oe,p.value=!1,q.value=!1,dt.value=!1}function Jn(){a.value.push(i.value),i.value=""}function hn(R){const{forQuestionId:V}=R;V&&s.value[V]&&(s.value[V].imagesPrefetchDone=!0)}function so(R){const{forQuestionId:V}=R;V&&s.value[V]&&(s.value[V].audioPrefetchDone=!0)}function bo(R){const V={...c.value},{questionId:_e}=R.response,Oe=nn(R.shouldStoreResponseStatus)?R.shouldStoreResponseStatus:!0;if(V[_e]=V[_e]?V[_e]:[],V[_e][R.response.attempt]=R.response,c.value=V,p.value=!1,Oe){const lt={...u.value};lt[_e]=lt[_e]?lt[_e]:[],lt[_e][R.response.attempt]=Us.NOT_SENT,u.value=lt}}function Na(R){const V={...c.value},{questionId:_e,attempt:Oe,score:lt,scoreBreakup:Vt}=R;V[_e][Oe].scoreBreakup=Vt,V[_e][Oe].score=lt,c.value=V}function No(R){const{allResponseStatuses:V}=R;u.value=V}function Do(R){const V={...u.value},{response:_e}=R,{questionId:Oe,attempt:lt,requestSucceeded:Vt}=_e;V[Oe]||(V[Oe]=[]),Vt?V[Oe][lt]=Us.SENT:V[Oe][lt]=Us.NOT_SENT,u.value=V}function Lo(R){Zs.value=R,zt.value=!0}function da(R){const{allResponseStatuses:V}=R,{answerExplanation:_e={}}=R;_e&&_e.answerExplanation?Lo(_e):zt.value=!1,u.value=V,w(R.updatedResponse)}function no(R){o.value=R.remainingOrder}function Si(R){a.value.push(R.questionId)}function F(R){r.value.push(R)}function pt(R){var Vt,ss,yn;const V=R.slide.id,_e=R.slide,Oe=s.value[V]||{},lt={...Oe,state:k(_e,"state",Oe.state),answer:k(_e,"answer",Oe.answer),options:k(_e,"options",Oe.options),metadata:{...Oe.metadata||{},currentBulletIndex:k(_e,"metadata.currentBulletIndex",(Vt=Oe.metadata)==null?void 0:Vt.currentBulletIndex),isTimerPaused:k(_e,"metadata.isTimerPaused",(ss=Oe.metadata)==null?void 0:ss.isTimerPaused),isVideoPlaying:k(_e,"metadata.isVideoPlaying",(yn=Oe.metadata)==null?void 0:yn.isVideoPlaying)}};_e!=null&&_e.answerGraph&&(lt.answerGraph=_e.answerGraph),s.value[V]=lt}function Qt(R){const{nextQuestion:V}=R;if(V){const{questionId:_e,state:Oe=""}=V;s.value[_e]&&(s.value[_e].state=Oe)}}function Ht(R){p.value=R.isInResponseReEditMode}function Tn(R){const{updatedResponses:V}=R;It(V,_e=>w(_e))}function _n(R){const{questionId:V}=R,_e=R.attempt,Oe=ys(c.value[V]);Oe.splice(_e,1),c.value[V]=Oe}function en(){const R=yt(),V=Dt();o.value=Ia(R.gameMode,R.gameType)?T_({mysticPeakLevelMap:R.mysticPeakLevelMap,totalQuestionsInQuiz:R.totalQuestionsInQuiz,totalCorrect:V.totalCorrect,remainingOrder:o.value,currentId:i.value}):I_({remainingOrder:o.value,currentId:i.value,visitedComprehensionQuestion:y.value,allQuestions:s.value})}function Xn(R){const{id:V}=R,_e=oa([...d.value,V]),Oe=oa([...g.value,V]);d.value=_e,g.value=Oe}function Zn(){d.value=[...d.value.filter(R=>R!==i.value)]}function Ri(){i.value&&h.value.add(i.value)}function zo(){i.value&&h.value.has(i.value)&&h.value.delete(i.value)}function Ci(){i.value&&E.value.add(i.value)}function Go(R){const{doneQuestionsFrequency:V}=R;A.value=V}function wi(R){var V;return!!((V=s.value[R])!=null&&V.comprehensionQuestionId)}function Oi(){const R=i.value,V=_.value.indexOf(R);V>=0?_.value.splice(V,1):_.value.push(R)}function Mo(R){n.value=R.initSequence}function xo(R){e.value=R.questionIds}const gr=T(()=>{const R=Object.keys(c.value),V=new Set;return R.forEach(_e=>{c.value[_e].forEach(lt=>{lt.result==="CORRECT"&&V.add(_e)})}),V.size}),rc=T(()=>{const{isSkipQueueInProgess:R}=Is();return R?g.value.length:ee.value}),cc=T(()=>{const{isSkipQueueInProgess:R}=Is(),{isMasteryMode:V}=yt();return V?gr.value:R?g.value.indexOf(i.value)+1:fe.value});function uc(R){z.value=R}return{list:s,initSequence:n,doneOrder:a,remainingOrder:o,currentId:i,currentQuestionId:i,skippedQuestions:r,questionResponses:c,questionResponseStatuses:u,slidesFlowControlType:l,isInResponseReEditMode:p,answerLaterQuestions:d,totalAnswerLaterQuestions:g,isUserOnReviewScreen:f,incorrectQuestionAttempts:h,correctQuestionAttempts:E,doneQuestionsFrequency:A,comprehensionQuestionListDisplayState:v,visitedComprehensionQuestion:y,comprehensionQuestionAttempts:N,totalQuestions:rc,currentQuestionNumberNew:cc,hasReachedMastery:$s,doesCurrentQuestionHaveAnswerExplanation:He,currentQuestionNumber:fe,currentQuestion:P,isCurrentSlideForContent:Xe,isCurrentSlideInteractable:Rt,currentSlideState:Ue,currentQuestionAttempts:se,currentQuestionCurrentAttemptIndex:pe,currentQuestionCurrentAttemptResponse:de,currentQuestionLatestReviewResponse:ce,currentQuestionCurrentAttemptAnswer:he,isCurrentQuestionCurrentAttemptResponseCorrect:ue,isCurrentQuestionCurrentAttemptResponsePartiallyCorrect:Ve,isCurrentQuestionSkipped:et,numberOfCorrectOptions:Mt,totalNumberOfOptions:st,incorrectOptionsForCurrentQuestion:Et,incorrectIndicesForCurrentQuestion:ye,wrongTargetOptionsForCurrentQuestion:At,currentQuestionExtraLifeStatus:Bt,doesCurrentQuestionHaveExtraLifeUtilisedStatus:ks,doesCurrentQuestionHaveExtraLifeInProgressStatus:ds,currentQuestionExtraLifeInprogressAttemptResponse:ls,isCurrentQuestionForExtraLifeAttempt:kt,currentQuestionExtraLifeUtilisedAttemptResponse:ms,isCurrentAttemptBeingEvaluated:Vs,isCurrentQuestionCurrentAttemptEvaluated:xs,hasCurrentQuestionBeenAnswered:_s,totalQuestionsInGame:ee,allInteractionSlideIds:le,totalInteractiveSlidesInGame:De,totalQuestionsRemaining:we,totalQuestionAttempted:be,totalInteractiveSlidesAttempted:Ge,allOrderedResponses:St,allInteractiveSlidesOrderedResponses:mt,allAnsweredQuestionsOrder:nt,allAttemptsCorrectResponses:ws,currentQuestionResponseType:Le,isCurrentQuestionForRedemptionAttempt:Pe,isCurrentQuestionForOriginalAttempt:Ye,orderedOriginalResponses:xt,orderedRedemptionResponses:Lt,replacedByRedemptionOrderedResponses:cs,areQuestionAttemptsLeft:ft,progressOfOriginalQuestions:Kt,areAllRemainingQuestionsMSQ:js,remainingQuestionsOptionsCount:ts,doesRemainingQuestionsOptionsCountEqualsTwo:bs,doesCurrentQuestionHaveCorrectAnswers:is,isSlideFlowControlTypeNone:ke,isSlideFlowControlTypePartial:gt,isSlideFlowControlTypeFull:Ee,isAnswerLaterQuestion:Tt,doneOrderForEvaluatedQuestions:Z,previousQuestionAddedToAnswerLater:vs,totalNumberOfAnswerLaterQuestions:Cn,areAllRemainingQuestionsFIB:Yn,hasIncorrectAttemptForQuestion:Qn,isLastAnswerLaterQuestion:qn,correctQuestionsCount:gr,rawQuestion:P,isRedemptionAttempt:Pe,isReviewScreenGame:f,cachedCurrentQuestionId:z,$reset:to,exitGame:Ai,resetGame:Ti,setQuestions:bt,showingReviewScreen:rn,rejoinGameResponded:Bn,setCurrentQuestion:Kn,playerQuestionsOver:Jn,completedQuestionImagesPrefetch:hn,completedQuesAudioPrefetch:so,answeredCurrentQuestion:bo,powerupActivatedFromMysteryBox:Na,proceedGameInProgress:No,proceedGameRespondedWithError:Do,proceedGameResponded:da,changeRemainingQuestionsOrder:no,addQuestionToDoneOrder:Si,updateSkippedQuestions:F,updateQuestionSlide:pt,gameStarted:Qt,toggleResponseReEditMode:Ht,updateQuestionResponses:Tn,clearQuestionResponse:_n,updateIncorrectAttempt:en,updateAnswetLaterQuestions:Xn,attemptedAnswerLaterQuestion:Zn,addQuestionToIncorrectAttempt:Ri,removeQuestionFromIncorrectAttempt:zo,addQuestionToCorrectAttempt:Ci,updateDoneQuestionsFrequency:Go,gameJoinResponseHandler:H,updateQuestionResponse:w,joinSoloGameResponded:fn,joinRoomResponded:Un,getNextQuestion:K,setInitSequence:Mo,setReshowQuestionIds:xo,comprehensionQuestionId:j,comprehensionQuestionListDisplay:oe,hasComprehensionQuestion:X,isComprehensionQuestionVisited:ie,isComprehensionQuestionNavigationEnabled:G,isInComprehensionView:ge,comprehensionQuestion:Fe,comprehensionQuestionIds:ve,comprehensionQuestionIndexStart:ot,comprehensionQuestionIndexEnd:$,comprehensionQuestions:ne,currentQuestionIndexInComprehension:Ie,nextComprehensionQuestionId:qe,nextUnAttemptedComprehensionQuestionId:Te,previousComprehensionQuestionId:at,areAllComprehensionQuestionsAttempted:$e,comprehensionQuestionCurrentAttempt:Ne,numberOfComprehensionQuestions:me,numberOfComprehensionQuestionsAttempted:Se,numberOfComprehensionQuestionsRemaining:Qe,numberOfComprehensionQuestionsUnattempted:Pt,unattemptedComprehensionQuestionIds:tt,unAnsweredComprehensionQuestionIds:vt,isComprehensionChildQuestion:wi,isAnswerCorrect:J,isQuestionAttempted:I,isQuestionAnswered:M,setComprehensionQuestionListDisplay:Ii,setVisitedComprehensionQuestion:ko,updateComprehensionQuestionAttempts:B,resetComprehensionQuestionAttempts:Be,setIsComprehensionQuestionNavigationEnabled:yi,updateIsOptPrevAnimationOver:Fs,isOptPrevAnimationOver:t,selectedRCTabIndex:Ce,flaggedQuestions:_,updateflaggedQuestions:Oi,updateAnswerExpStatusForQuestion:ns,isAnswerExplanationCompleteForQuestion:q,reshowQuestionIds:e,isQuestionEligibleForAnswerExplanation:rs,isCurrentQuestionForAEAttempt:x,canShowCorrectAnswerForAE:te,updateUserDiscardedReattemptStatus:os,hasUserDiscardedReattempt:dt,setCachedCurrentQuestionId:uc,isAnswerExplanationPresentInProceedGame:zt,answerExplanationFromProceedGame:Zs,canShowAnswerExplanation:C}});var jn=(e=>(e.NOTICE_AND_WONDER="NOTICE_AND_WONDER",e.SUMMARISE_MY_GAME="SUMMARISE_MY_GAME",e.RAP_IT_UP="RAP_IT_UP",e.SEL="SEL",e))(jn||{}),xa=(e=>(e.PROMPT="PROMPT",e.STUDENT_RESPONSE="STUDENT_RESPONSE",e.SUB_PROMPT="SUB_PROMPT",e.FETCHING_AI_RESPONSE="FETCHING_AI_RESPONSE",e.AI_RESPONSE_STARTED="AI_RESPONSE_STARTED",e.AI_RESPONSE_COMPLETED="AI_RESPONSE_COMPLETED",e.AI_RESPONSE="AI_RESPONSE",e.ERROR="ERROR",e))(xa||{}),ro=(e=>(e.PROMPT="PROMPT",e.SUB_PROMPT="SUB_PROMPT",e.STUDENT_RESPONSE="STUDENT_RESPONSE",e.AI_RESPONSE="AI_RESPONSE",e.ERROR="ERROR",e))(ro||{});function ZS(){return Hf.sort(()=>.5-Math.random()).slice(0,3)}function eR(){return[{id:"happy",text:U("😀 Happy")},{id:"sad",text:U("🙁 Sad")},{id:"nervous",text:U("😰 Nervous")},{id:"angry",text:U("😡 Angry")},{id:"not_sure",text:U("🤔 Not sure")}]}function _d(e,t){const s=t.attempts.find(a=>a.attemptId===e),n=s&&s.responses[s.responses.length-1];if(n){const{distribution:a,timeTaken:o,responses:i}=n,{correct:r,incorrect:c,partial:u,timedout:l,ungraded:p,yetToBeGraded:d,total:g}=a,f=r+d+u+c+p+l,h=g-f>0?g-f:0,E=Math.round(o/((i||1)*1e3));return{accuracy:(r/g*100).toFixed(2),correct:r,incorrect:c,skippedQuestionsCount:h,totalQuestionsCount:g,avgTimePerQuestion:E}}else return{accuracy:"0",correct:0,incorrect:0,skippedQuestionsCount:0,totalQuestionsCount:0,avgTimePerQuestion:0}}function tR(e){return e.sort((t,s)=>t.chunkIndex-s.chunkIndex)}function sR(e){switch(e){case jn.RAP_IT_UP:return U("Choose an artist");case jn.SEL:return U("How are you feeling?");default:return""}}function Ho(){return new Gd().toHexString()}function nR(e){const t=[{id:jn.SUMMARISE_MY_GAME,text:U("Stats please!"),subtext:U("Identify your toughest questions, snap decisions, confident areas and more."),icon:"https://cf.quizizz.com/img/StudentAI/chart.svg",subPrompts:[]},{id:jn.RAP_IT_UP,text:U("Lyric lab"),subtext:U("Turn your performance into a rap or verse in the style of your favorite artist."),icon:"https://cf.quizizz.com/img/StudentAI/music.svg",subPrompts:ZS()},{id:jn.SEL,text:U("Feeling Meter"),subtext:U("Take a moment to assess and manage how you're feeling."),icon:"https://cf.quizizz.com/img/StudentAI/heart.svg",subPrompts:eR()}];return e&&t.push({id:jn.NOTICE_AND_WONDER,text:U("Wonder Why"),subtext:U("Reflect on what you got right and question what you didn’t."),icon:"https://cf.quizizz.com/img/StudentAI/cloud.svg",subPrompts:[]}),t}function aR(e=[],t=[]){const s=new Map;return t.forEach(n=>{const a=Ms(e,o=>o===n.questionId)+1;s.set(n.questionId,a)}),Object.fromEntries(s)}const oR=Ot("studentAI",()=>{const e=yt(),t=Dt(),s=qt(),n=m(!1);let a=null;const o=m([c()]),i=12e3;function r(){const v=o.value[0];v.state=xa.ERROR;const N=v.chatHistory[0].element===ro.AI_RESPONSE,G=N&&v.chatHistory[0].options.aiResponse.length>0;N&&!G&&v.chatHistory.shift(),v.chatHistory.unshift({messageId:Ho(),element:ro.ERROR})}function c(){return a!==null&&clearTimeout(a),{convoId:Ho(),genKey:null,state:xa.PROMPT,prompt:null,subPrompt:null,chatHistory:[{messageId:Ho(),element:ro.PROMPT,options:{prompts:nR(n.value)}}]}}function u(v){const y=o.value[0];y.state=xa.STUDENT_RESPONSE,y.chatHistory.unshift({messageId:Ho(),element:ro.STUDENT_RESPONSE,options:{text:v.text,icon:v.icon}})}async function l(v){const y=o.value[0];switch(y.state=xa.FETCHING_AI_RESPONSE,a=setTimeout(()=>{r()},i),y.prompt.id){case jn.SUMMARISE_MY_GAME:try{const{response:{data:{quizGenKey:N}}}=await bT({playerId:t.playerId,gameId:e.roomHash,quizDetails:{grades:e.grade,subjects:e.subjects},questionsSequence:aR(s.initSequence,s.replacedByRedemptionOrderedResponses)});y.genKey=N}catch{r();return}break;case jn.NOTICE_AND_WONDER:try{const{response:{data:{quizGenKey:N}}}=await NT({playerId:t.playerId,gameId:e.roomHash});y.genKey=N}catch{r();return}break;case jn.RAP_IT_UP:try{const{response:{data:{quizGenKey:N}}}=await DT({artistName:v.id,summary:{..._d(t.playerId,e.aggregations)},quizDetails:{grades:e.grade,subjects:e.subjects}});y.genKey=N}catch{r();return}break;case jn.SEL:try{const{response:{data:{quizGenKey:N}}}=await LT({emotion:v.id,summary:{..._d(t.playerId,e.aggregations)},quizDetails:{grades:e.grade,subjects:e.subjects}});y.genKey=N}catch{r();return}break}y.state=xa.AI_RESPONSE_STARTED,y.chatHistory.unshift({messageId:Ho(),element:ro.AI_RESPONSE,options:{responseTokens:[],aiResponse:""}})}function p(){const v=o.value[0],y=v.prompt;v.state=xa.SUB_PROMPT,v.chatHistory.unshift({messageId:Ho(),element:ro.SUB_PROMPT,options:{title:sR(y.id),prompts:(y==null?void 0:y.subPrompts)||[]}})}async function d(v){const y=o.value[0];y.subPrompt=v,u(v),await l(v)}async function g(v){const y=o.value[0];y.prompt=v,u(v),v.subPrompts&&v.subPrompts.length>0?setTimeout(()=>{p()},750):await l()}function f(v){var G,z;const y=o.value[0],N=((G=y.chatHistory[0].options)==null?void 0:G.responseTokens)||[];(z=y.chatHistory[0].options)!=null&&z.responseTokens&&y.genKey===v.quizGenKey&&(y.chatHistory[0].options.responseTokens=[...N,v],y.chatHistory[0].options.aiResponse=tR(y.chatHistory[0].options.responseTokens).map(Q=>Q.text).join(""))}function h(v,y){var G;const N=o.value[0];(G=N.chatHistory[0].options)!=null&&G.aiResponse&&N.genKey===y&&(N.chatHistory[0].options.aiResponse=v,N.state=xa.AI_RESPONSE_COMPLETED,setTimeout(()=>{o.value.unshift(c())},3e3))}function E(){o.value=[c()]}async function A(){try{const{response:{data:{response:{eligible:v}}}}=await kT({playerId:t.playerId,gameId:e.roomHash});n.value=v,E()}catch{}}function _(){o.value.unshift(c())}return{conversation:o,triggerPromptGeneration:g,triggerSubPromptGeneration:d,triggerError:r,setChatResponseToken:f,overrideAIResponse:h,checkNWEligibility:A,startNewChat:_}});function iR(e){const t=qt(),s=[...t.initSequence];s.splice(t.currentQuestionNumber,0,e._id),t.initSequence=s;const n=Ru({[e._id]:e},{forGameBeingPlayed:!0,dataIsStrigified:!1});t.setQuestions({questions:{...t.list,...n}})}async function rR(e){const{syncGameQuestions:t}=Fn(),s=yt(),{roomHash:n,gameType:a}=s;e&&s.setQuizVersionId(e),await t({roomHash:n,gameType:a})}function cR(){const e=qt();e.slidesFlowControlType=es.NONE}function uR(){const e=qt();e.slidesFlowControlType=es.FULL}function lR(e){switch(e){case oi.TEACHER_PACED:cR(),mR();break;case oi.STUDENT_PACED:uR(),dR();break}}function dR(){const{currentId:e,initSequence:t}=qt(),s=Fn(),n=Js();if(n.currentPage===O.List.LANDING.NOTES)return;const a=t.indexOf(e),o=t.slice(0,a);let i=t.slice(a+1);e&&(i=[e,...i]);const r={questionId:"",doneOrder:o,remainingOrder:i,powerupScopes:[]};s.setCurrentQuestion(r),n.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:ic.STUDENT_PACED}})}function mR(){const e=Js();e.currentPage!==O.List.LANDING.NOTES&&e.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ.STUDENT_TEACHER_PACED),metaData:{currentState:ic.TEACHER_PACED}})}function kk(){Fn().startQuestions()}async function bk(){const{syncGameQuestions:e}=Fn(),t=yt(),{roomHash:s,gameType:n}=t;await e({roomHash:s,gameType:n})}function pR(e,t,s,n,a,o){const i=t!==o.playerId,r={players:e.players,teams:e.teams,isOldPlayerFromCurrentTeam:!1};i&&(r.players=Zt(e.players,d=>d.playerId!==o.playerId).sort((d,g)=>d.score>g.score?-1:1).map((d,g)=>({...d,rank:g+1})),e.gameMode===re.TEAM&&(Array.isArray(o.teams)&&o.teams.length===e.teams.length&&(r.teams=o.teams),o&&o.teamId===n&&(r.isOldPlayerFromCurrentTeam=!0)));const c=e.gameMode===re.CHALLENGE,u=O.isExactly(s,O.List.IN_GAME.CHALLENGE_PRE_SUMMARY),l=c&&u;let p=a||[];return l&&(p=Zt(p,d=>d.playerId===o.playerId)),{isAnotherPlayerDeleted:i,payload:r,shouldDeletePlayerFromChallengeLeaderboard:l,challengeLiveLeaderboard:p}}function vd(e,t,s,n,a){let o=t;const i=o;a&&a.leaderboard&&a.leaderboard.length>0&&(o=hm(a.leaderboard,s));let r=n.rank,c=n.previousRank,u=n.score;const l=a&&a.teams||[];if(l.length>0){c=r;const d=Su(l),g=Ut(d,f=>f.teamId===n.teamId);r=g.rank,u=g.score}const p={previousPlayerRank:i,currentPlayerRank:o,previousTeamRank:c,currentTeamRank:r,currentTeamScore:u};return l.length>0&&(p.teams=l),S(a.leaderboard)||(p.leaderboard=a.leaderboard,p.shouldUpdateLeaderboard=e===re.CHALLENGE),p}function gR(e,t,s,n,a,o){const i=e===re.CHALLENGE,r=t===Ct.RUNNING;let c=!1,u=a,l=s;if(!S(o.player)){const p=ka(o.player,["id","score","monsterId","origin","currentStreak","totalAttempt","totalCorrect","totalResponses","isOver"]);p.playerId=p.id,delete p.id,u=Nt(a,d=>d.playerId===o.player.id?{...d,...p}:d),u=Nt(qs(u,["score"],["desc"]),(d,g)=>({...d,rank:g+1})),c=i&&r,l=Ms(u,{playerId:n})+1}return{shouldUpdateLeaderboard:c,leaderboard:u,currentPlayerRank:l}}const Ed="previousContext",fR={JUMBLE:"jumble",JUMBLE_ANSWER:"jumbleAnswers"},ui=Ot("baseGameActions",()=>{const e=ua(),t=qt(),s=yt(),n=Js(),a=Dt(),o=Is(),i=ps(),r=oc(),c=Yt(),u=hs(),l=Fn(),p=cp(),d=Fu(),g=pr(),f=sp(),h=gn(),E=Oo(),A=$u(),_=la(),v=oR(),y=Xi();let N=null;const{theme:G}=pp();function z(){const D=Yv();Rs.setItem(Ed,D)}async function Q(){try{const D=Rs.getItem(Ed,{removeItemOnError:!0,parseFromJSON:!0}),Z=Kv(h,D);if(i.loadPreviousContext(),h.loadPreviousContext(Z.prevContext),u.loadPreviousContext(Z.prevContext),a.loadPreviousContext(Z.prevContext),o.loadPreviousContext(Z.prevContext),d.loadPreviousContext(Z.prevContext),f.loadPreviousContext(Z.prevContext),Z.shouldSetAppLanguage&&await h.setCurrentLanguage(Z.selectedLanguage),Z.shouldSetAppTheme&&h.setCurrentTheme(Z.setThemeMutationPayload.selectedTheme),Ps){const pe=localStorage.getItem("gameSetting"),de=pe?JSON.parse(pe):{};h.setAppSettingsFromLocalStorage({showMemes:de.memes,playMusic:de.music,playSFX:de.sfx}),y.updateReadAloudV2({isDisabled:!de.readAloud||!1,willAutoReadAloudQuestion:de.readAloud||!1}),await h.setCurrentLanguage(de.language||"en")}}catch(D){b.logForSession(["Error at loadPreviousContext",D],"error"),i.loadPreviousContext(),h.loadPreviousContext({}),u.loadPreviousContext({}),a.loadPreviousContext({}),o.loadPreviousContext({}),d.loadPreviousContext({}),f.loadPreviousContext({})}}function H({response:D}){const Z=D==="io client disconnect";i.socketDisconnected({disconnectedManually:Z})}function w(){if(a.hasJoinedTheGame&&gi(s.gameType)){l.reconnectToGame();return}i.socketConnectedSuccess()}function I({response:D}){const Z=[...s.players],pe={...gp(D),rank:Z.length+1};Z.push(pe);const de={teams:s.teams,isNewPlayerFromCurrentTeam:!1,players:Z};if(s.gameMode===re.TEAM){const ue=Ms(s.teams,{teamId:pe.teamId});if(ue>=0){const Ve=[...s.teams],et=Ve[ue].totalPlayers+1;Ve[ue]={...Ve[ue],totalPlayers:et},de.teams=Ve}pe&&pe.teamId===r.teamId&&(de.isNewPlayerFromCurrentTeam=!0)}const ce=s.gameMode===re.CHALLENGE,he=O.isExactly(n.currentPage,O.List.IN_GAME.CHALLENGE_PRE_SUMMARY);ce&&he&&(de.challengeLeaderboardNewPlayer={playerId:pe.id,monster:pe.monsterId,monsterId:pe.monsterId,origin:pe.origin,score:0,rank:de.players.length,currentStreak:0,totalAttempts:0,totalCorrect:0,isProfane:!!pi(pe.id)}),s.newPlayerJoined(de),r.newPlayerJoined(de),o.newPlayerJoined(de)}function M({response:D}){const Z=pR({players:s.players,teams:s.teams,gameMode:s.gameMode},a.playerId,n.currentPage,r.teamId,o.challengeLiveLeaderboard,D);if(Z.isAnotherPlayerDeleted){const{payload:pe}=Z;Z.shouldDeletePlayerFromChallengeLeaderboard&&(pe.challengeLiveLeaderboard=Z.challengeLiveLeaderboard),s.playerDeleted(pe),r.playerDeleted(pe),o.playerDeleted(pe);return}e.handleCurrentPlayerDeleted()}function J({response:D}){if(s.gameMode===re.TEAM&&D.mapping&&D.teams){const Z=D.mapping[a.playerId],{teams:pe}=D,de=Nt(s.players,Ve=>({...Ve,teamId:D.mapping[Ve.playerId]||""}));let ce=r.name,he=r.totalPlayers;const ue=Ut(pe,Ve=>Ve.teamId===Z);ue&&(ce=ue.teamName,he=ue.totalPlayers),r.teamPlayerShuffled({teamId:Z,currentTeamName:ce,currentTeamTotalPlayers:he}),s.teamPlayerShuffled({teams:pe,players:de})}}function K({response:D}){const Z=So(D.gameType),pe=fi(D.gameType),de=k(D,"host.occupation",s.hostOccupation);if(!i_(n.currentPage))return;if(pe===re.CHALLENGE){const he=c.mongoId,ue=i.deviceInfo.quizizzUID,Ve=k(D,"replayMeta.hostId",""),et=k(D,"replayMeta.hostSessionId","");if(Ve&&Ve===he||et&&et===ue)return;u.toggleModal({type:un.CHALLENGE_REPLAY_NOTIF,options:{...D}}),setTimeout(()=>{_.clearPreGameQuizInfo(),E.challengeReplayNotifAcceptedPipeline({roomHash:D.roomHash,roomCode:D.roomCode,togglePageLoader:u.togglePageLoader,requestToChangePage:n.requestToChangePage,playerId:a.playerId})},3e3);return}return{isReplayLiveGameModal:!0,gameTypeOfNextGame:Z,gameModeOfNextGame:pe,gameInfo:{gameCode:D.roomCode,roomHash:D.roomHash,hostOccupation:de},replayMeta:D.replayMeta}}async function fe({response:D}){ct.logEvent(as.TRIGGER_REPLAY_ASYNC,{expiry:s.expiry,isLoggedIn:c.isLoggedIn,roomHash:D.roomHash,oldRoomHash:s.roomHash});const Z=(await xe(()=>import("./preGameActions.DvpMr9vF.js"),__vite__mapDeps([0,1,2,3,4]))).default,pe=Z(),de=a.playerId,ce=K({response:D});if(!ce)return;if(!!S(D.replayMeta.followupActivity)){const ue={roomHash:ys(D.roomHash),playerId:ys(de.trim()),startSource:ys(Ze.get(Ze.List.REPLAY.REPLAY_LIVE_GAME_ASYNC)),handlePreGameErrorAs:"dialog",forcePageChange:!1,preventPageChange:!0};await pe.joinRoom(ue)}ce.isReplayLiveGameModal=!1,ce.isReplayAsync=!0,s.setReplayAsyncModalOptions(ce),u.toggleModal({type:un.GAME_ASSIGNED_NOTIF,options:ce})}function P({response:D}){ct.logEvent(as.TRIGGER_REPLAY,{expiry:s.expiry,isLoggedIn:c.isLoggedIn,roomHash:D.roomHash,oldRoomHash:s.roomHash});const Z=K({response:D});Z&&u.toggleModal({type:un.GAME_ASSIGNED_NOTIF,options:Z})}function j({response:D}){const Z=gR(s.gameMode,s.gameState,a.rank,a.playerId,o.challengeLiveLeaderboard,D);Z.shouldUpdateLeaderboard&&(o.setChallengeLiveLeaderboard(Z),a.setCurrentPlayerRank(Z))}function oe({response:D}){let Z=r.teamId,pe=s.teams,de=s.players,ce=r.totalPlayers,he=null;if(D.mapping&&D.teams){Z=D.mapping[a.playerId],pe=D.teams,de=Nt(de,et=>({...et,teamId:D.mapping[et.playerId]||""}));const Ve=Ut(pe,et=>et.teamId===r.teamId);ce=k(Ve,"totalPlayers",ce)}!S(D.nextQuestion)&&!S(D.nextQuestion.questionId)&&(he={...D.nextQuestion,questionId:D.nextQuestion.questionId,state:D.nextQuestion.state||""});const ue={teams:pe,teamId:Z,players:de,currentTeamTotalPlayers:ce,nextQuestion:he,areHintsEnabled:D.areHintsEnabled||!1};e.startGame(ue),$e({response:D})}function X({response:D}){const Z=vd(s.gameMode,a.rank,a.playerId,{rank:r.rank,previousRank:r.previousRank,score:r.score,teamId:r.teamId},D);l.gameCompleted(Z)}function ie({response:D}){var de,ce;const Z=vd(s.gameMode,a.rank,a.playerId,{rank:r.rank,previousRank:r.previousRank,score:r.score,teamId:r.teamId},D),pe=(ce=(de=Z.leaderboard)==null?void 0:de.find(he=>he.playerId===a.playerId))==null?void 0:ce.unlockedExclusiveItemId;p.setSelectedExclusiveItemId(pe??""),Nn().setAvatarTeacherEndedGame(),Z.shouldUpdateLeaderboard&&o.setChallengeLiveLeaderboard(Z),t.slidesFlowControlType===es.NONE&&t.playerQuestionsOver(),l.gameStopped(Z)}function ge(D,Z=!0){if(!Z)return{time:0,shouldShowTimerBeforeQuestion:!1};const ce=s.gameMode===re.TEACHER_PACED&&D==="active",he=ce?5e3:0;return ce&&n.changeToInGamePage({to:O.get(O.List.IN_GAME.COUNTDOWN),canChangeRoute:!0}),N&&clearTimeout(N),{time:he,shouldShowTimerBeforeQuestion:ce}}function Ce({response:D}){var Tt;const{quizType:Z}=s,{question:pe}=D;if(!S(t.initSequence)&&S(t.list)||t.isCurrentQuestionSkipped)return;const ce=(((Tt=t.list[pe.questionId])==null?void 0:Tt.state)||"")!==pe.state,{time:he,shouldShowTimerBeforeQuestion:ue}=ge(pe.state,ce);if(N=setTimeout(()=>{l.updateSlide(pe),ue&&n.changeToInGamePage({to:O.get(O.List.IN_GAME.QUIZ),canChangeRoute:!0})},he),Z===$a.FLASHCARD){t.list[pe.questionId].structure={...t.list[pe.questionId].structure,...pe.structure},Ra().setFlashcardSide(pe.metadata.flashcardSide);return}if(!t.hasCurrentQuestionBeenAnswered||t.isCurrentQuestionCurrentAttemptEvaluated||S(pe.structure)||!t.isCurrentSlideInteractable)return;const et=c_(t.currentQuestionCurrentAttemptResponse,t.currentQuestion),st=t.currentQuestionCurrentAttemptResponse.provisional,kt={...t.currentQuestionCurrentAttemptResponse,isCorrect:et,score:ys(et?st.scores.correct:st.scores.incorrect),scoreBreakup:yu(ys(et?st.scoreBreakups.correct:st.scoreBreakups.incorrect)),teamAdjustment:ys(et?st.teamAdjustments.correct:st.teamAdjustments.incorrect),isEvaluated:!0};t.updateQuestionResponse(kt)}function Fe({response:D}){const{time:Z}=ge(D.nextQuestion.state);N=setTimeout(()=>{l.updateSlide(D.currentQuestion),l.updateSlide(D.nextQuestion),l.setNextQuestion(D),Ra().setFlashcardSide(Ko.Front)},Z)}function ve({response:D}){const Z=k(D,"notification.kind","");switch(Z){case"game-assigned":A.gameAssignedNotifHandler(D);break;default:b.logForSession(`Warning at addNotification SocketMessageHandler: no handler for the notification kind '${Z}'`,"warn")}}function ot({response:D}){f.toggleLiveReactions(D)}function $({response:D}){d.toggleRaiseHands(D)}function ne({response:D}){const Z=$t.getConfig(),{gameType:pe,gameMode:de}=s,{gameAppearance:ce}=o,{activatedPowerupEffects:he}=g;if((!s.isPowerupsOn||pe===Je.SOLO||de===re.TEST)&&de!==re.MYSTIC_PEAK)return;const{powerupEffect:ue}=D,Ve=ue._id;delete ue._id,ue.id=Ve;const et=ue.meta.source===Vi.teacher;g.addPowerupEffect({powerupEffect:ue});const st=mo.createAPI({gameAppearance:ce,activatedPowerupEffects:he}),{gameScopePowerupEffects:kt}=g,Tt=k(ue,"meta.player.playerId",""),_s=k(ue,"meta.player.monsterId",""),Bt=Z[ue.name];na.applyEffects(kt,st);let ks=Bt.notification.onActivateByOtherUser||`activated ${Bt.title}!`;de===re.MYSTIC_PEAK&&(ks=U("caused {$1} on your screen",[G.value.text.avalanche.title]));const ds={title:Bt.title,name:ue.name,playerId:Tt,message:ks,type:"external-powerup-effect",styles:Bt.styles,monsterId:_s};if(Bt.shouldPersistNotification){const ls=Bt.time/1e3,ye=(Date.now()-new Date(ue.meta.startTime).getTime())/1e3;let At=ls-ye;At>ls&&(At=ls),ds.destroyInTime=At}if(!Bt.shoudlDisableNotificationForReceiver){if(et){const ls="Your screen will glitch for next 10 seconds";ds.playerId="Teacher",ds.type="powerup-effect",ds.appliedByTeacher=!0,ds.message=U(ls)||ls}u.togglePowerupToast({isVisible:!0,options:ds})}}function Ie({response:D}){d.dropStudentHand(D)}async function qe(){try{await i.disconnectSocket(),await c.handleAuthTokenRefresh(),await i.connectSocket()}catch(D){b.error("Error at socket action authTokenExpired",D)}}async function at({response:D}){var Ve;const Z=k(D,"actions[0].type",!1),pe=k(D,"actions[0].data",!1),de=(et,st=!0)=>{l.handleSyncingLiveWhiteboardState({states:et,shouldUpdate:st,updateDelay:100})},ce=(Ve=pe.metadata)==null?void 0:Ve.clearHostCanvas,he=pe.annotations===!0;if(n.currentPage!==O.List.LANDING.NOTES)switch(Z){case uo.SHOW_CANVAS:de({host:{isVisible:!0},player:{isVisible:!0},isAnnotationsEnabled:he}),he&&de({player:{canDraw:!1}}),setTimeout(()=>{Ca.$emit("liveWhiteboard:action",{type:uo.UPDATE_CANVAS,data:pe})},100);break;case uo.HIDE_CANVAS:de({host:{isVisible:!1},player:{isVisible:!1},isAnnotationsEnabled:pe.annotations===!0});break;case uo.ENABLE_PLAYER_CANVAS:de({player:{canDraw:!0}},ce),u.toggleSnackBar({isVisible:!0,options:{message:U("Your whiteboard is enabled, try drawing!")}});break;case uo.DISABLE_PLAYER_CANVAS:de({player:{canDraw:!1}});break;default:Ca.$emit("liveWhiteboard:action",{type:Z,data:pe})}}async function $e({response:D}){const Z=(D==null?void 0:D.expiry)||void 0,pe=(D==null?void 0:D.totalTimeLeft)||void 0,de=(D==null?void 0:D.delta)||void 0,{isTestTimerEnabled:ce}=s;(Z||pe)&&(l.setTestTimerCounter(Z||pe),o.showTestTimeAddedAlert(Z||de),ce||l.updateIsTestTimerEnabled(!0))}function tt({response:D}){const Z=D==null?void 0:D.isMasteryPeakTimerEnabled;s.setIsTestTimerEnabled(Z),s.setStartMPTimer(Z)}function vt({response:D}){const{text:Z,chunkIndex:pe,completed:de,value:ce,quizGenKey:he,error:ue}=D;de?ue?v.triggerError():v.overrideAIResponse(ce.output,he):v.setChatResponseToken({text:Z,chunkIndex:pe,quizGenKey:he})}function Pt({response:D}){const Z=D==null?void 0:D.theme;s.setMasteryPeakTheme(Z)}function Te({response:D}){const Z=D==null?void 0:D.timeLeft;s.setStartMPTimer(!0),s.setTestTimerCounter(Z)}function Ne({response:D}){l.pauseGame(D.pauseFor)}function me({response:D}){const{updates:Z}=D;vg(Object.values(fR),Object.keys(Z)).length?e.handleGameLockFails({name:"game.settingsOutOfSync|confirm"}):l.updateGameOptions(D)}function Se(){e.handleGameLockFails({name:"game.quizModified|confirm"})}function Qe({response:D}){i.setSocketHandshakeInfo(D)}function He({response:D}){const{roomHash:Z,isTeacherPowerup:pe}=D,{playerId:de}=Dt(),{name:ce,playerIdToPowerupIdMap:he={}}=D.completePowerupData,ue=he[de];if(ue){const Ve={isTeacherPowerup:pe,roomHash:Z,powerup:{name:ce,id:ue,status:"AWARDED"}};Ba().processTeacherPowerup(Ve)}}function Xe({response:D}){b.info("socketAddDuelEffect",D),a.setUnderStrike(D),a.addP2PToast({...D,roomHash:s.roomHash})}function Rt({response:D}){s.refreshPlayerAvatar({playerId:D.playerId,userAvatar:D.avatar})}function gt(){s.pauseLesson()}function Ue(){window.location.reload()}function se(D){const{addedQuestionBody:Z,quizVersionId:pe}=D.response;iR(Z),rR(pe)}function Ee({response:D}){s.setEyesOnMe(D.eyesOnMe)}function ke({response:D}){const{gameMode:Z}=D;lR(Z),s.setLessonMetaData(D)}return{soc_quizUpdated:Se,soc_updateGameOptions:me,soc_pauseGame:Ne,soc_setGameTimer:$e,soc_hostCanvasActions:at,soc_authTokenExpired:qe,soc_dropHand:Ie,soc_addPowerupEffect:ne,soc_disconnect:H,soc_raiseHandToggled:$,loadPreviousContext:Q,saveCurrentContext:z,soc_reconnect:w,soc_addPlayer:I,soc_deletePlayer:M,soc_teamPlayerShuffled:J,soc_replayAsync:fe,soc_replayGame:P,soc_playerResponded:j,soc_gameStarted:oe,soc_gameOverAll:X,soc_gameEnded:ie,soc_updateQuestion:Ce,soc_proceedHostGame:Fe,soc_addNotification:ve,soc_reactionStopped:ot,soc_handshakeData:Qe,soc_updateMasteryPeakTimer:tt,soc_setMasteryPeakTheme:Pt,soc_pingTimeLeft:Te,soc_teacherPowerup:He,soc_addDuelEffect:Xe,soc_playerAvatarUpdated:Rt,soc_lessonPaused:gt,soc_lessonResumed:Ue,soc_chatResponseTokenGenerated:vt,soc_addAdhocQuestion:se,soc_eyesOnMe:Ee,soc_changeGameMode:ke}}),vp="__cid__";class hR{constructor(){We(this,"bus");We(this,"socketStreams");We(this,"requestModifiers");We(this,"responseModifiers");We(this,"callProgressUpdater");this.bus={},this.socketStreams={},this.requestModifiers=[],this.responseModifiers=[],this.callProgressUpdater=()=>{}}init(t,s={}){this.requestModifiers=s.request?_a([],s.request,this.requestModifiers):this.requestModifiers,this.responseModifiers=s.response?_a([],s.response,this.responseModifiers):this.responseModifiers,this.callProgressUpdater=t}connect(t){let s=null;const n={query:{},withCredentials:!1,path:"",timeout:0},{stream:a,promiseRefs:o}=t,i=Ni.endPoints[a];if(!a||!i){b.invariant(!1,"SocketEventBus: connect call needs to mention the `stream` by calling setStream and that stream must have a valid endpoint");return}const r=typeof i=="string"?i:i.baseURL,c=typeof i=="string"?"":i.path;n.withCredentials=!0,c&&(n.path=c),ut(t.timeout)&&(n.timeout=t.timeout+500,s=setTimeout(()=>{o!=null&&o.resolve&&(o==null||o.resolve({connected:!1}))},n.timeout)),n.query={experiment:"authRevamp"};const u=Xt.getCookie(xi.SESSION_COOKIE_NAME);u&&(n.query["x-quizizz-uid"]=u),this.socketStreams[a]=Eg(r,n);const l=Object.keys(Ni.events[a].ServerInitiatedBroadcastMessages),p=Ni.events[a].ClientInitiatedMessages;l.forEach(d=>{d.includes("quizizz-ai")?this.registerEvent("serverInitiatedbroadcast",a,d,!1):this.registerEvent("serverInitiatedbroadcast",a,d,!0)}),p.forEach(this.registerEvent.bind(this,"clientInitiated",a)),this.socketStreams[a].on("connect",d=>{s&&clearTimeout(s),o!=null&&o.resolve&&(o==null||o.resolve({connected:!0}))})}disconnect(t){const{promiseRefs:s}=t,{stream:n}=t;this.socketStreams[n]&&this.socketStreams[n].disconnect(),s!=null&&s.resolve&&s.resolve({connected:!1})}registerEvent(t,s,n,a=!0){this.socketStreams[s].on(n,o=>{let i={eventName:n,response:o};i=this._applyAllModifiers(this.responseModifiers,i);const r=an(i.response)&&i.response[vp]||"";let c=null,u=null;S(r)||(u=this._getIdentifierParts(r),c=this.search(u)[0],i.callIdentifier=r),a?this._isValidResponse(i.response)?this._handleEventResolution(!0,t,c,r,u,i,s):S(u)?this.search(n).forEach(p=>{this.rejectAllRetries(p.callIdentifier),this._handleTry("reject",p.callIdentifier,sa,i)}):this._handleEventResolution(!1,t,c,r,u,i,s):this._handleEventResolution(!0,t,c,r,u,i,s)})}resolveCall(t,s){this._handleTry("resolve",t,sa,s,!0)}rejectCall(t,s){this._handleTry("reject",t,sa,s,!0)}emitEvent(t,s,n){const a=this.getEventData(t,s),o=ka(a,["eventName","payload","callIdentifier","emitsSoFar"]),i=this._applyAllModifiers(this.requestModifiers,o),r=ps();s||r.updateCallInProgressStatus({callBeingUpdated:t,updationType:ai.IN_PROGRESS}),this.socketStreams[n].emit(i.eventName,i.payload,c=>{Gs(a==null?void 0:a.onAckCB)&&a.onAckCB(c)})}add(t){this.bus[t.callIdentifier]={...t,retries:[]}}addRetry(t,s){const n=this.getEventData(t);S(n)||n==null||n.retries.push(s)}remove(t){return delete this.bus[t]}getEventData(t,s=!1){if(!s)return this.bus[this.joinIdentifierParts(t)];const n=this._getIdentifierParts(t),a=n.currentTryNum-1-sa,o=this.joinIdentifierParts({...n,currentTryNum:sa}),i=this.bus[o].retries&&this.bus[o].retries[a];return S(i)?(b.logForSession([`SocketEventBus: unable to retrieve retry call data for ${t}`,i],"error",{numArgsToUseForSessionLog:1}),null):i}search(t){const s=[],n=this._getIdentifierParts(t),a=Object.keys(this.bus);for(let o=0;o<a.length;o++){const i=a[o],r=this._getIdentifierParts(i);if(n.eventName===r.eventName){const u=n.baseUniqueId?n.baseUniqueId===r.baseUniqueId:!0,l=n.time?n.time===r.time:!0;u&&l&&s.push(this.getEventData(i))}}return s}joinIdentifierParts(t){return Lm(t)}rejectAllRetries(t,s={},n=!1){const{retries:a}=this.getEventData(t);for(let o=0;o<a.length;o++)this._handleTry("reject",t,o+1+sa,s);if(n){const o=this.getEventData(t);o&&(o.retries=[])}}isValidStreamName(t){return!t||!Ni.endPoints[t]?(b.error("SocketCall: set a valid stream which should have a valid endPoint. Defaulting to stream `main`"),!1):!0}rejectRetry(t,s,n){this._handleTry("reject",t,s,n)}_isValidResponse(t){return t?!t.error:!0}_getIdentifierParts(t){return Vr(t)}_handleTry(t,s,n,a,o=!1){var c;const i=this.getEventData(s),r=ps();if(n===sa){if((i==null?void 0:i.retries.length)===0||o){i!=null&&i.promiseRefs&&i.promiseRefs[t](a),this.remove(s),r.updateCallInProgressStatus({callBeingUpdated:s,updationType:ai.DONE});return}b.warn(`SocketEventBus: Not taking any action for id ${s} for action ${t} as currently retrys are going on. Response - `,a)}else{const u=n-sa!==((c=i==null?void 0:i.retries)==null?void 0:c.length);if(t==="resolve"&&u&&!o){b.warn(`SocketEventBus: Not taking any action for id ${s} for action ${t} as this response is NOT for latest retry. Response - `,a);return}const l=i==null?void 0:i.retries[n-1-sa];if(!S(l)){l!=null&&l.promiseRefs&&l.promiseRefs[t](a);return}b.error(`SocketEventBus: Error at _handleTry for identifier(${s}) as no retryData available for action(${t})`,a)}}_applyAllModifiers(t=[],s){let n=s;for(let a=0;a<t.length;a++){const o=t[a](s);S(o)||(n=ys(o))}return n}_handleEventResolution(t,s,n,a,o,i,r){const c=t?"resolve":"reject",u=ui();if(n&&typeof n=="object"&&"callIdentifier"in n){const l=n;this._handleTry(c,l.callIdentifier,o.currentTryNum,i)}else if(s==="serverInitiatedbroadcast"){const l=this._getBroadCastHandlerFromList(i.eventName,r);if(!S(l)){u[l]({response:i.response});return}b.warn(`SocketEventBus: Broadcast event(${i.eventName}) [isValid-${t}] - recieved with no HANDLER Callback present`,i)}else b.error(`SocketEventBus: unable to resolve id(${a}) for event(${i.eventName}) [isValid-${t}] - as no data in bus and not a serverInitiatedbroadcast event. Most likely response recieved after call timeout`,i)}_getBroadCastHandlerFromList(t,s){const a=this._getAllServerInitiatedEventHandlers(s)[t];return b.invariant(typeof a=="string"&&a!=="",`SocketEventBus: The serverInitiated event ${t} for stream ${s} does not a handler`),a}_getAllServerInitiatedEventHandlers(t){return Ni.events[t].ServerInitiatedBroadcastMessages}}const In=new hR;class Ws{constructor(t,s={},n=""){We(this,"retryTimeouts");We(this,"retrier");We(this,"_hasRetryResolved");We(this,"_baseIdentifier");We(this,"_timeComponentForIdentifier");We(this,"callData");this.retryTimeouts={},this.retrier=void 0,this._hasRetryResolved=!1,this._baseIdentifier=n,this._timeComponentForIdentifier=void 0,this.callData={eventName:t,payload:s,emitsSoFar:0,callIdentifier:"",timeout:void 0,onAckCB:void 0,stream:"main"},b.invariant(!Jt(n,"."),'SocketCall: the call identifier cannot have character "." in it')}static addToBus(t,s,n){if(t.eventName==="connect"){In.connect(t);return}if(t.eventName==="disconnect"){In.disconnect(t);return}s?In.addRetry(n,t):In.add(t),In.emitEvent(t.callIdentifier,s,t.stream)}resolveCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,In.rejectAllRetries(this.callData.callIdentifier),In.resolveCall(this.callData.callIdentifier,t))}rejectCall(t){this._hasRetryResolved||(this._hasRetryResolved=!0,In.rejectAllRetries(this.callData.callIdentifier),In.rejectCall(this.callData.callIdentifier,t))}emit(){return this.callData.emitsSoFar+=1,this._timeComponentForIdentifier=Date.now(),this.callData.callIdentifier=Ws._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),this.callData.payload=Ws._getCookedPayload(this.callData.payload,this.callData.callIdentifier),this._emit(this.callData,!1)}clearAllTimeouts(){Ag(this.retryTimeouts,t=>{clearTimeout(t)}),this.retryTimeouts={}}addRetrier(t){this.retrier=t}timeoutAfter(t){this.callData.timeout=t}setStream(t){In.isValidStreamName(t)&&(this.callData.stream=t)}async _invokeRetrier(t){if(t!==this.callData.callIdentifier&&In.rejectRetry(this.callData.callIdentifier,this.callData.emitsSoFar,this._getRejectData(!0,{type:"timeout"},!0,t)),this.retrier&&Gs(this.retrier)){const s=this.retrier(this.callData);if(s!=null&&s.shouldRetry&&!this._hasRetryResolved){this.callData.emitsSoFar+=1;const n=Ws._generateIdentifier(this.callData.eventName,this._baseIdentifier,this.callData.emitsSoFar,this._timeComponentForIdentifier),a={...s.callData,payload:Ws._getCookedPayload(s.callData.payload,n),eventName:this.callData.eventName,callIdentifier:n};try{const o=await this._emit(a,!0);this.resolveCall(o)}catch(o){b.logForSession([`SocketCall: error at _invokeRetrier for ${t}`,a,o],"error",{numArgsToUseForSessionLog:1}),o&&o.cancelled&&o.error&&o.error.type!=="timeout"&&this.rejectCall({...o,callIdentifier:n})}}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!0,this.callData.callIdentifier))}else this.rejectCall(this._getRejectData(!1,{type:"timeout"},!1,this.callData.callIdentifier))}_emit(t,s){return new Promise((n,a)=>{const o=t.callIdentifier;if(t.promiseRefs={resolve:n,reject:a},ut(this.callData.timeout)&&t.eventName!=="connect"){const i=setTimeout(()=>{this._invokeRetrier(o),clearTimeout(i)},t.timeout);this.retryTimeouts[o]=i,t.promiseRefs={resolve:Ws._wrapPromiseRefs(n,this.retryTimeouts[o]),reject:Ws._wrapPromiseRefs(a,this.retryTimeouts[o])}}Ws.addToBus(t,s,this.callData.callIdentifier)})}static _getCookedPayload(t,s){return b.invariant(an(t),`SocketCall 'payload' needs to be an object for identifier ${s}`),t[vp]=s,t}static _generateIdentifier(t,s,n,a){let o=s||"";return s&&Gs(s)&&(o=s()),In.joinIdentifierParts({eventName:t,baseUniqueId:o,currentTryNum:n,time:a||Date.now()})}static _wrapPromiseRefs(t,s){return function(...a){s&&clearTimeout(s),t(...a)}}_getRejectData(t,s,n=!1,a){return{callIdentifier:a,cancelled:t,error:s||{type:"unknown"},didRetry:n,eventName:this.callData.eventName,response:null}}}function _R(){const e=new Ws("connect");return e.setStream("main"),e.timeoutAfter(12e3),e.emit()}function vR(){const e=new Ws("connect");return e.setStream("notification"),e.timeoutAfter(12e3),e.emit()}function ER(){return new Ws("disconnect").emit()}function AR(e,t=[]){const s=new Ws("reconnectRoom",{roomHash:e,entities:t});return s.timeoutAfter(5e3),s.addRetrier(n=>({shouldRetry:n.emitsSoFar<=1,callData:n})),s.emit()}function TR(e){const t=new Ws("subscribe",e);return t.setStream("notification"),t.timeoutAfter(6e3),t.addRetrier(s=>({shouldRetry:(s.emitsSoFar||0)<=1,callData:s})),t.emit()}function Nk(e){const t=new Ws("startGame",e);return t.timeoutAfter(1e4),t.emit()}function yR(e){const t=new Ws("getReport",e);return t.timeoutAfter(1e4),t.emit()}function Dk(e){return new Ws("v2/deletePlayer",e).emit()}function IR(){const e=new Ws("getHandshakeData");return e.timeoutAfter(1e4),e.emit()}const io={},Ad=[je.getRunningGame],SR=50,RR=[je.activatePowerup,je.join,je.rejoin,je.checkAssignment,je.playerGameOver],br="X-Amzn-Trace-Id";function CR(e){const{requestName:t,callId:s=""}=e,n=Lm({eventName:t,baseUniqueId:s,time:Date.now()});e.requestId=n}function wR(e){var s;const t=e.headers||{};(s=e==null?void 0:e.url)!=null&&s.includes("play-api")&&(t.Credentials="include")}async function OR(e){var a;const t=ps();let s=(t==null?void 0:t.socketHandshakeInfo)||{};const{requestName:n}=e;if((a=e==null?void 0:e.url)!=null&&a.includes("play-api")&&RR.includes(n)){if(!s.ip)try{const{response:o}=await IR();s=o,t.setSocketHandshakeInfo(o)}catch{s.ip="127.0.0.1"}e.data={...e.data,...s}}}function PR(e){const t=Xt.getCookie(xi.COOKIE_NAME),s=Rs.getItem(xi.LOCALSTORAGE_KEY)||"",n=t||s||"",a=e.headers||{};let o=Xt.getCookie(xi.SESSION_COOKIE_NAME);if(zm()){if(n&&(a["x-auth-sessionid"]=n),!o){const i=q_*365;o=Tg(),Xt.setCookie(i,{[xi.SESSION_COOKIE_NAME]:o})}a["X-Q-Sessionid"]=n||o}o&&(a["x-quizizz-uid"]=o)}function kR(e){const t=e.headers||{},s=Jg();t["x-q-traceid"]=s,t[br]=s}function bR(e){const t=Xt.getCookie("QUIZIZZ_EXP_NAME"),s=e.headers||{};t&&(s["experiment-name"]=t)}function NR(e){const t=Rs.getItem("x-q-request-context-token",{parseFromJSON:!1,removeItemOnError:!1});t&&(e.headers["x-q-request-context-token"]=t)}function DR(e){const t=ps(),{requestId:s}=e;t&&t.updateCallInProgressStatus({callBeingUpdated:s,updationType:ai.IN_PROGRESS})}function LR(e){const t=["get","head"],{method:s="get"}=e,n=!t.includes(s),a=Xt.getCookie("x-csrf-token");n&&e.headers&&a&&(e.headers["x-csrf-token"]=a)}function zR(e){const{requestName:t,url:s,headers:n,method:a,requestId:o,data:i={}}=e,r={url:s,headers:n,method:a,requestId:o};a!=="get"&&(r.payload=i),b.info(`
(HTTP)(REQUEST: - for '${t}' 
 Request - `,r,`

`)}function GR(e){const{requestName:t}=e;if(!(!Ad.includes(t)&&Ad.length!==0)){if(!io[t]){io[t]={firstCallTimestamp:Date.now(),frequency:1};return}if(j_.getDifferenceInSeconds(Date.now(),io[t].firstCallTimestamp)>10){io[t]={firstCallTimestamp:Date.now(),frequency:1};return}if(io[t].frequency>=SR){b.logOnSentry(["request.LOOP_DETECTED"],"exception","error"),delete io[t];return}io[t].frequency+=1}}function MR(e){const{requestName:t,data:s=null,APISchema:n=null,requestId:a}=e;if(s&&n)try{$_({schema:n,payload:s,apiName:t})}catch(o){throw new yg(o.message,"",{requestName:t,requestId:a,data:s,time:e.time,headers:e.headers,error:{type:o.message}})}}function xR(e){const t=e.headers["x-q-request-context-token"];t&&Rs.setItem("x-q-request-context-token",t,{storeAsJSON:!1})}function Mc(e){const t=ps(),{requestId:s}=e;t&&t.updateCallInProgressStatus({callBeingUpdated:s,updationType:ai.DONE})}function xc(e){const{config:{requestName:t,time:{end:s=Date.now(),start:n}},data:a,status:o,message:i}=e,r=s-n;b.info(`
(HTTP)(RESPONSE): - for '${t}' 
 Response - `,{data:a||i,status:o,timeTaken:r},`

`)}function FR(e){const{data:{api:t,emit:s}}=e,n=t==null?void 0:t.includes("play-api");Jc&&n&&(e.data=s)}const QR=30*Ro,Ep="Request timed out by client";function qR(e,t,s){if(s===0)return!1;const{status:n,comparator:a}=t;return s>0&&z_(e,n,a)}function UR(e){return new Promise(t=>{setTimeout(()=>t(!0),e)})}const Xu=Ig.create({withCredentials:!0,headers:{Credentials:"same-origin","Content-Type":"application/json",Accept:"application/json"},timeout:QR,timeoutErrorMessage:Ep});async function Fi(e){var r,c,u,l,p;const t=ps(),{retryCount:s=0,retryDelay:n=1*Ro,statusCodesToRetryOn:a={status:500,comparator:">="},...o}=e;let i=s;try{const{data:d,config:g,status:f}=await Xu(o)||{};return{response:d,traceId:((r=g.headers)==null?void 0:r[br])||"",url:g.url||"",statusCode:f}}catch(d){const g=+((c=d==null?void 0:d.response)==null?void 0:c.status);if(qR(g,a,i))return i-=1,await UR(n),Fi({...e,retryCount:i});const{response:f,config:h,message:E=""}=d;t&&t.handleCommonApplicationErrors(d);const A=E===Ep,_=((l=(u=f==null?void 0:f.config)==null?void 0:u.headers)==null?void 0:l[br])||((p=h==null?void 0:h.headers)==null?void 0:p[br])||"",v=(f==null?void 0:f.data)||(f==null?void 0:f.error)||h||{};throw{response:A?{error:{type:"timeout"}}:v,requestName:o.requestName,traceId:_,statusCode:g,url:(f==null?void 0:f.config.url)||(h==null?void 0:h.url)}}}Xu.interceptors.request.use(async e=>{const t={...e};return t.time={start:Date.now()},CR(t),kR(t),wR(t),NR(t),await OR(t),MR(t),GR(t),PR(t),LR(t),bR(t),DR(t),zR(t),nf(t),["e2e","jenkins"].includes("production")&&(e.headers["x-q-e2e"]="github"),t},e=>Promise.reject(e));Xu.interceptors.response.use(e=>{const{config:t,data:s}=e;t.time.end=Date.now(),xR(e);const n={...e};if(G_(s)){const a={response:e};throw Mc(t),xc(e),a}return Mc(t),FR(n),xc(e),n},e=>{const{response:t}=e;throw Mc((t==null?void 0:t.config)||e.config),xc(t||e),e});const Re={get(e,t){return Fi({method:"get",url:e,...t})},post(e,t){const{payload:s,...n}=t;return(!s||typeof s!="object")&&b.logForSession("Error at HTTP POST: payload must be an object","error"),Fi({method:"post",url:e,data:s,...n})},put(e,t){const{payload:s,...n}=t;return(!s||typeof s!="object")&&b.logForSession("Error at HTTP PUT: payload must be an object","error"),Fi({method:"put",url:e,data:s,...n})},delete(e,t){const{payload:s,...n}=t;return Fi({method:"delete",url:e,data:s,...n})}},BR={"v2/join":["roomHash"],"v3/join":["roomHash"],"v2/rejoin":["roomHash",3,5],"v3/rejoin":["roomHash",3,5],"v2/getQuestions":["roomHash",3,8],"v2/proceedGame":["questionId",3,6],"v2/playerGameOver":["roomHash",3,8],rejoinAnyGame:["roomHash",3,5],"v3/getQuestions":["roomHash",3,8],"v3/rejoin-game":["roomHash",3,5],"v4/join":["roomHash"],"v4/rejoin":["roomHash",3,5],"v4/proceedGame":["questionId",3,6],"v4/rejoinGame":["roomHash",3,5]};function HR(e,t){const s=BR[t];if(s){let n=Sg(e,s[0])[0];n=n||t;let a=n.length;return s[1]&&s[2]&&(a=cr(s[1],s[2])),n.slice(0,a)}}function VR(e){const{eventName:t,payload:s}=e,n={...e},a=HR(s,t);switch(t){case"v2/join":case"v2/rejoin":case"v2/getQuestions":case"v2/proceedGame":case"v2/playerGameOver":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":n.payload={odata:$m(JSON.stringify(n.payload),a,t)};break}return b.info(`
ASpashtor(SOCKET)(REQUEST): - for '${t}' 
  Actual Request - `,Ts.bind(null,e),`
  Final Request - `,Ts(n),`
`),n}function jR(e){const{eventName:t,response:s}=e,n={...e},a={};switch(t){case"v2/checkRoom":case"v2/checkAssignment":case"v2/join":case"v2/rejoin":case"v2/playerGameOver":case"v3/checkRoom":case"v3/checkAssignment":case"v3/join":case"v3/rejoin":case"v3/rejoin-game":case"v4/join":case"v5/join":typeof s=="string"&&(n.response=JSON.parse(jr(s,t)));break;case"v2/getQuestions":It(s.questions,(o,i)=>{const r=JSON.parse(o);r.structure.answer=JSON.parse(jr(r.structure.answer,t)),a[i]=JSON.stringify(r)}),n.response={...n.response,questions:a};break}return n.eventName=t.replace(/v3\/|v2\//g,""),b.info(`
Spashtor(SOCKET)(RESPONSE): - for '${t}' 
  Actual Response - `,Ts.bind(null,e),`
  Final Response - `,Ts(n),`
`),n}function $R(){return{request:[VR],response:[jR]}}const{baseServerUrl:Ap,gameServerUrl:Tp,requestServerUrl:Ei,gameApiUrl:ca}=ba,Wn=2e4;let wt=Ap;function WR(e,t){return e.headers=e.headers??{},e.headers["use-game-api"]=!0,t&&(e.headers["game-api-url"]=t),e}function eo(e){const s=wo().getFeatureValue("enable-game-service-migration")||{};return typeof s=="object"&&s[e]===!0}function Td(e){wt=Ap,e&&(wt=Tp)}function YR(){const e=`${Tp}play-api/check`;return Re.get(e,{timeout:5*Ro,requestName:je.checkGameDomain})}async function Lk(e){let t=`${wt}play-api/v5/checkRoom`;return eo("checkRoom")&&(t=`${ca}v1/room-codes/${e.roomCode}/check`),Re.post(t,{payload:e,timeout:6*Ro,requestName:je.checkRoom})}async function KR(e,t,s=""){const n={roomHash:e,playerId:t};s!==""&&(n.teamId=s);const a=`${wt}play-api/getRank`;return Re.post(a,{payload:n,requestName:je.getRank})}async function JR(e){let t=`${wt}play-api/reactionUpdate`;return eo("reactionUpdate")&&(t=`${ca}v1/games/${e.roomHash}/reaction-update`),Re.post(t,{payload:e,requestName:je.reactionUpdate})}async function XR(e){let t=`${wt}play-api/v4/proceedGame`;const{questionId:s}=e.response;return eo("proceedGame")&&(t=`${ca}v1/games/${e.roomHash}/proceed`),Re.post(t,{payload:e,timeout:Wn,callId:s,requestName:je.proceedGame})}async function ZR(e){const t=`${wt}play-api/skipManyQuestions`;return Re.post(t,{payload:e,retryCount:1,requestName:je.skipManyQuestions})}async function eC(e){const t=`${wt}play-api/skipQuestion`;return Re.post(t,{payload:e,retryCount:1,requestName:je.skipQuestion})}async function tC(e){const t=`${wt}play-api/playerGameOver`;return Re.post(t,{payload:e,requestName:je.playerGameOver})}async function sC(e,t,s,n,a){const o=`${wt}play-api/v2/update-player-metadata`,i={roomHash:e,playerId:t,metadata:n,type:s};return a&&(i.flashcardMode=a),Re.post(o,{payload:i,retryCount:1,requestName:je.updatePlayerMetadata})}async function zk(e){const t=`${wt}play-api/v5/checkAssignment`;return Re.post(t,{payload:e,timeout:Wn,requestName:je.checkAssignment})}async function nC(e){const t=`${wt}play-api/v4/activatePowerup`;return Re.post(t,{payload:e,timeout:Wn,requestName:je.activatePowerup})}async function Gk(e){let t=`${wt}play-api/v5/join`;return eo("joinGame")&&(t=`${ca}v1/games/${e.roomHash}/join`),Re.post(t,{payload:e,timeout:Wn,requestName:je.join})}async function aC(e){const t=`${wt}play-api/v2/update-response`;return Re.post(t,{payload:e,timeout:Wn,callId:e.response.id,requestName:je.updateResponse})}async function oC(e){const t=`${wt}play-api/raiseHand`;return Re.post(t,{payload:e,requestName:je.raiseHand})}async function Mk(e){const t=`${wt}play-api/createTestGameActivity`;return Re.post(t,{payload:e,requestName:je.createTestGameActivity})}async function xk(e){const t=!!e.contestId;if(S(e.quizId)||S(e.player))throw b.logOnSentry(["request.VALIDATION_ERROR",e]),new Error("request.VALIDATION_ERROR");const s=t?`${wt}play-api/v1/contestJoin`:`${wt}play-api/v4/soloJoin`;return Re.post(s,{payload:e,timeout:Wn,requestName:je.joinSoloGame})}async function iC(e){let t=`${wt}play-api/v4/soloProceed`;const{questionId:s}=e.response;return eo("soloProceed")&&(t=`${ca}v1/games/${e.roomHash}/solo-proceed`),Re.post(t,{payload:e,timeout:Wn,callId:s,requestName:je.proceedSoloGame})}async function rC(e){const t=`${wt}play-api/v2/soloEnd`;return Re.post(t,{payload:e,retryCount:1,requestName:je.endSoloGame})}async function Fk(e,t){const s={roomHash:e};t&&(s.type=t);const n=`${wt}play-api/v4/getQuestions`;return Re.post(n,{payload:s,retryCount:1,timeout:Wn,requestName:je.getQuestions})}async function Qk(e,t,s){const n={roomHash:e,playerId:t,mongoId:s},a=`${wt}play-api/v1/lessonSync`;return Re.post(a,{payload:n,retryCount:1,timeout:Wn,requestName:je.lessonSync})}async function qk(e){const t=`${wt}play-api/get-team-players`;return Re.post(t,{payload:e,requestName:je.getTeamPlayers})}async function cC(e){const t=`${wt}play-api/updateBreakRoom`;return Re.post(t,{payload:e,requestName:je.updateBreakRoom})}async function uC(e){const t=`${wt}play-api/updatePlayerObstacle`;return Re.post(t,{payload:e,requestName:je.updatePlayerObstacle})}async function lC(e){const t=`${wt}play-api/getMinimalMysticPeakLeaderBoard`;return Re.post(t,{payload:e,requestName:je.updateWaitingLeaderboard})}async function dC(e){const t=`${wt}play-api/updatePathFinder`;return Re.post(t,{payload:e,requestName:je.updatePathFinder})}async function yd(e){const t=`${wt}play-api/awardPowerups`;return Re.post(t,{payload:e,requestName:je.awardPowerups})}async function Id(e){let t=`${wt}play-api/replacePowerups`;return eo("replacePowerups")&&(t=`${ca}v1/games/${e.roomHash}/replace-powerups`),Re.post(t,{payload:e,requestName:je.replacePowerups})}async function mC(e,t=""){const s=`${wt}play-api/destroyPowerupEffect`;return Re.post(s,{payload:e,callId:t,requestName:je.destroyPowerupEffect})}async function pC({memeSetId:e,language:t,theme:s}){const n=e;b.invariant(n.length!==0,`At getMemeSet: expected a valid memeSet Id but got '${n}'. Falling back to default`);const a=n.length!==0?n:Qi,o=`${Ei}getMemeSetGame/${a}?lang=${t}&theme=${s}`;return Re.get(o,{retryCount:1,requestName:je.getMemeSetById})}function yp(){const e=`${Ei}memesets?featured=true`;return Re.get(e,{requestName:je.getFeaturedMemesets})}async function gC(e){let t={};const s=wo().getFeatureValue("enable-monolith-migration-apis"),n=typeof s=="object"&&s["student-game"]===!0,a=n?`${ca}v1/students/games/${e}`:`${Ei}v4/students/game/${e}`;return n&&(t=WR(t,`${ca}v1/students/games/${e}`)),Re.get(a,{timeout:60*Ro,retryCount:1,requestName:je.getRunningGame,...t})}async function Uk(e,t){const s=`${Ei}game/${e}/add-issue`;return Re.post(s,{payload:{issue:t},retryCount:1,requestName:je.addGameQuestionIssue})}async function Bk(e){const t=`${Ei}certifications/gameChanger`;return Re.post(t,{payload:e,requestName:je.generateGameChangerCertificate})}async function fC(e){const t=`${Ei}contests/${e}`;return Re.get(t,{requestName:je.getContestData})}async function hC(e){const t=`${wt}play-api/v2/playerGameOver`,s=await Re.post(t,{payload:e,timeout:Wn,requestName:je.playerGameOver});if(s.response&&s.response.odata){let n=s.response.odata;n=jr(n,"playerGameOver"),s.response=JSON.parse(n)}return s}async function _C(e){let t=`${wt}play-api/v6/rejoinGame`;return eo("rejoinGame")&&(t=`${ca}v1/games/${e.roomHash}/rejoin`),Re.post(t,{payload:e,timeout:Wn,requestName:je.rejoin})}async function vC(e){const t=`${wt}play-api/duelDecision`;return await Re.post(t,{payload:e})}async function EC(e){let t=`${wt}play-api/player-summary`;return eo("playerSummary")&&(t=`${ca}v1/games/${e.gameId}/player-summary`),(await Re.post(t,{payload:e,requestName:je.fetchPlayerSummaryAggregations})).response}async function Hk(e){const t=`${wt}play-api/getP2PGameLeaderboard`;return Re.post(t,{payload:e,requestName:je.getP2PGameLeaderboard})}async function Vk(e){const t=`${wt}play-api/setP2PPlayerScore`;return Re.post(t,{payload:e,requestName:je.setP2PPlayerScore})}async function jk(e){try{const t=`${wt}play-api/addLearnerFeedback`;return Re.post(t,{payload:e,requestName:je.addLearnerFeedback})}catch(t){b.log("Error at gameService.addLearnerFeedback",t)}}async function $k(e){const t=`${wt}play-api/editLearnerFeedback`;return Re.post(t,{payload:e,requestName:je.editLearnerFeedback})}async function Wk(e,t){const s=`${wt}play-api/getLearnerFeedback`;try{return{data:(await Re.post(s,{payload:{playerId:e,gameId:t},requestName:je.getLearnerFeedback})).response,success:!0}}catch(n){return{success:!1,error:n}}}async function Yk(e){const t=`${wt}play-api/addQudo`;return Re.post(t,{payload:e})}async function AC(e,t="strikeScreen",s=""){const n=`${wt}play-api/fetchPlayers`;try{const{response:{data:a}}=await Re.post(n,{payload:{roomHash:e,source:t,playerId:s}});return{data:a.players,success:!0}}catch(a){return{success:!1,error:a}}}async function Kk(e){return await Re.post(`${wt}play-api/v1/mark-flashcard-answered`,{payload:e,requestName:"markFlashcardAnswered"})}async function Jk(e){return await Re.post(`${wt}play-api/v1/record-iv-progress`,{payload:e,requestName:"logIVProgressAggregationEvent"})}const yt=Ot("gameData",()=>{const e=m(!1),t=m(""),s=m(""),n=m(""),a=m(null),o=m(Je.LIVE),i=m(re.NORMAL),r=m(0),c=m(0),u=m(0),l=m(""),p=m(""),d=m(""),g=m(0),f=m(0),h=m(""),E=m(""),A=m(""),_=m(""),v=m([]),y=m([]),N=m(0),G=m(null),z=m({}),Q=m(null),H=m([]),w=m([]),I=m([]),M=m(""),J=m(null),K=m(!1),fe=m({}),P=m(Sa.default),j=m({}),oe=m({}),X=m(""),ie=m({type:Ks.NONE,ids:[],createToken:null,sourceRequest:"",sourceRequestMeta:{}}),ge=m({}),Ce=m({deleted:!1,occupation:""}),Fe=m(0),ve=m(""),ot=m([]),$=m(!0),ne=m(null),Ie=m(""),qe=m({attempts:[],coinDistribution:{accuracy:0,completion:0,powerups:0}}),at=m(!1),$e=m("other"),tt=m(null),vt=m(!1),Pt=m(!1),Te=m(!1),Ne=m(0),me=m(0),Se=m(0),Qe=m(null),He=m(0),Xe=m(null),Rt=m(null),gt=m([]),Ue=m(!1),se=m(),Ee=m({}),ke=m(!1),D=m({gameMode:oi.TEACHER_PACED}),Z=m(!1),pe=m(!1),de=m(""),ce=m(""),he=m({accuracy:0,completion:0,powerups:0}),ue=m(!1),Ve=m(""),et=m(null),st=m(null),kt=m(null);function Tt(F){const pt=F.room.options;return Ps&&ih({isFocusModeEnabled:!!pt.focusMode}),S(pt)?z.value:pt}let _s=0;const Bt=m([]),ks=m(!1);function ds(){ks.value=!0}async function ls(F,pt){const Qt=Date.now();if(Qt-_s<5e3)return Bt.value;_s=Qt;try{const{data:Ht}=await AC(F,"leaderboard",pt);return Bt.value=Ht,Bt.value}catch(Ht){return console.error("Error fetching leaderboard data",Ht),[]}}function ye(F){var tl,sl,nl,al,ol,il,rl,cl;const{room:{players:pt,teams:Qt,type:Ht,expiry:Tn,duration:_n,mode:en,options:Xn,totalPlayers:Zn,code:Ri=t.value,hash:zo,name:Ci,totalPossibleMarks:Go,contestId:wi,image:Oi=M.value,experiment:Mo=X.value,groupData:xo=ie.value,issues:gr=H.value,brandingOptions:rc=ge.value,subscription:cc=oe.value,theme:uc=fe.value,masteryPeakTheme:R=P.value,totalQuestionsInQuiz:V,quizId:_e=l.value,quizType:Oe=p.value,quizName:lt=n.value,mysticPeakLevelMap:Vt=gt.value,paidOrganization:ss=Ie.value,featureFlags:yn=Ee.value},generatedPlayers:cn,forcedRedirect:Ns=tt.value,isCertificationGame:tn=at.value,certificationRegion:ma=$e.value}=F,fr=k(F,"room.gameTranslation",Qe.value),Rp=k(F,"room.versionId",ve.value),Cp=k(F,"room.hostOccupation",E.value),wp=k(F,"room.hostId",""),Op=k(F,"room.hostSessionId",""),Pp=k(F,"room.startedAt",u.value),kp=F.room.createdAt,bp=k(F,"room.endedAt",He.value),el=Array.isArray(pt)?[...pt]:v.value,Np=Array.isArray(Qt)?[...Qt]:y.value,Dp=Ht;let lc=el.length;gi(Dp)&&Number(Zn)>=0?lc=Zn:Array.isArray(cn)&&(lc=cn.length);const dc=Xn.isTestTimerEnabled||Xn.isMasteryPeakTimerEnabled||!1;let mc=0;dc&&Tn>_n&&(mc=Tn-_n,mc<=Gn.MASTERY_PEAK_TIMER&&Ia(en,Ht)&&(Te.value=!0)),Pt.value=Ia(en,Ht)&&dc,vt.value=dc,Ne.value=mc,t.value=Ri,s.value=zo,ut(Go)&&(G.value=Go),ne.value=wi||null,o.value=Ht,i.value=en,r.value=Hi(F.room).willExpireAfter,c.value=kp,u.value=Pp||u.value,He.value=bp||He.value,d.value=wp,h.value=Op,M.value=Oi,A.value=F.room.state,v.value=el,y.value=Np,N.value=lc,z.value=Tt(F),X.value=Mo,ie.value=xo,E.value=Cp,H.value=gr,ge.value=rc,Ee.value=yn!==null?yn:{},oe.value=cc,fe.value=uc,P.value=R,Fe.value=V,l.value=_e,p.value=Oe,n.value=lt||Ci,ve.value=Rp,Qe.value=fr,Ie.value=ss,tt.value=Ns,gt.value=Vt,at.value=tn,$e.value=ma,Ue.value=F.room.isLearningTrackGame,se.value=F.room.learningTrackMetaData,ce.value=F.room.options.practiceQuizId,ke.value=!!((sl=(tl=F.room)==null?void 0:tl.metadata)!=null&&sl.eyesOnMe),(al=(nl=F.room)==null?void 0:nl.metadata)!=null&&al.lesson&&Lo((il=(ol=F.room)==null?void 0:ol.metadata)==null?void 0:il.lesson),(rl=F.room)!=null&&rl.followupActivity&&(et.value=F.room.followupActivity),(cl=F.room)!=null&&cl.metadata&&(kt.value=F.room.metadata),ct.setGameDataState(zo,Ht,F.room.state,Mo)}const At=T(()=>Mh(a.value)),Et=T(()=>Ia(i.value,o.value)),Mt=T(()=>{var F;return Et.value?!1:((F=ge.value)==null?void 0:F.theme)??!1}),ms=T(()=>{var pt;const F=(pt=z.value)==null?void 0:pt.masteryMode;return F&&!S(F)}),Vs=T(()=>Dm(E.value)),xs=T(()=>At.value||z.value.showAnswers===Gt.ShowAnswers.NEVER||o.value===Je.SOLO&&L_(Ce.value)||ms.value?!1:z.value.studentLeaderboard),Zs=T(()=>typeof z.value.timer=="string"&&(z.value.timer===Gt.Timer.CLASSIC||z.value.timer===Gt.Timer.STRICT)),q=T(()=>typeof z.value.powerups=="string"&&z.value.powerups==="yes"),dt=T(()=>!S(oe.value)),zt=T(()=>z.value.jumbleAnswers),os=T(()=>z.value.showAnswers),ns=T(()=>z.value.reviewAndSubmit),rs=T(()=>z.value.timer),C=T(()=>{const{questionsPerAttempt:F}=z.value;return ut(F)&&F>=1}),x=T(()=>!0),ee=T(()=>{const pt=Dt().playerId;return v.value.filter(Qt=>Qt.id!==pt&&!Qt.isOver)}),te=T(()=>ke.value);function le(){t.value="",s.value="",n.value="",a.value=null,o.value="live",i.value=re.NORMAL,r.value=0,c.value=0,u.value=0,l.value="",p.value="",d.value="",g.value=0,f.value=0,h.value="",E.value="",A.value="",_.value="",v.value=[],y.value=[],N.value=0,G.value=null,z.value={},H.value=[],w.value=[],I.value=[],M.value="",J.value=null,K.value=!1,fe.value={},P.value=Sa.default,j.value={},oe.value={},X.value="",e.value=!1,ie.value={type:Ks.NONE,ids:[],createToken:null,sourceRequest:"",sourceRequestMeta:{}},ge.value={},Ce.value={deleted:!1,occupation:""},Fe.value=0,ve.value="",ot.value=[],$.value=!0,ne.value=null,at.value=!1,$e.value="other",tt.value=null,vt.value=!1,Pt.value=!1,Ne.value=0,me.value=0,Se.value=0,Qe.value=null,He.value=0,Xe.value=null,Rt.value=null,gt.value=[],Bt.value=[],Ee.value={},Ue.value=!1,se.value=void 0,Z.value=!1,pe.value=!1,de.value="",ce.value="",he.value={accuracy:0,completion:0,powerups:0},et.value=null,kt.value=null,ct.setGameDataState("","","","live")}function De(){return yt().$state}function we(F){const pt=j.value;le(),F&&F.preserveClassroomInfo&&(j.value=pt)}function be(F){const pt=t.value;le(),F&&F.preserveRoomCode&&(t.value=pt),j.value=F.classroomInfo}function Ge(F){a.value=F.traits}function nt(F){e.value=F}function St(F){var pt;t.value=((pt=F==null?void 0:F.room)==null?void 0:pt.code)||t.value}function mt(F){const{room:{hash:pt,type:Qt,mode:Ht,millisToStart:Tn=0,scheduledAt:_n=0,assignments:en=null,experiment:Xn="",subscription:Zn={},version:Ri,masteryPeakTheme:zo}}=F,Ci=F.room.hostId||"",Go=F.room.hostSessionId||"",wi=F.room.hostOccupation||"",Oi=F.room.issues||[],Mo=F.room.brandingOptions||{},xo=S(F.room.groupData)?ie.value:F.room.groupData;s.value=pt,o.value=Qt,i.value=Ht,g.value=Tn,f.value=_n,r.value=Hi(F.room).willExpireAfter,K.value=en?!0:K.value,z.value=Tt(F),ie.value=S(xo)?ie.value:xo,X.value=Xn,d.value=Ci,h.value=Go,E.value=wi,H.value=Oi,ge.value=Mo,oe.value=an(Zn)?Zn:{},ot.value=Ri,Ue.value=F.room.isLearningTrackGame,se.value=F.room.learningTrackMetaData,P.value=zo,ct.setGameDataState(pt,Qt,A.value,Xn)}function xt(F){var Zn;const{room:{hash:pt,type:Qt,mode:Ht,millisToStart:Tn=0,scheduledAt:_n=0,groupData:en={},subscription:Xn={}}}=F;s.value=pt,o.value=Qt,i.value=Ht,r.value=Hi(F.room).willExpireAfter,g.value=Tn,f.value=_n,z.value=Tt(F),K.value=!0,j.value={...j.value,assignmentId:((Zn=F.lmsInfo)==null?void 0:Zn.assignmentId)||""},ie.value=en||ie.value,oe.value=an(Xn)?Xn:{},ct.setGameDataState(pt,Qt,A.value,X.value)}function Lt(F){y.value=k(F,"teams",y.value),v.value=k(F,"players",v.value)}function cs(F){ye(F)}function ws(F){const{generatedPlayers:pt}=F;ye(F),v.value=pt,N.value=Array.isArray(pt)?pt.length:N.value}function Pe(F){const{classroomInfo:pt,roomHash:Qt}=F.classroomInfo;s.value=Qt,j.value=S(pt)?j.value:pt,ct.setGameDataState(Qt,o.value,A.value,X.value)}function Le(F){const{player:{assignment:pt={}},room:{code:Qt="",hash:Ht=""}}=F;ye(F),S(pt)||(K.value=!0,j.value={...j.value,roomCode:Qt,roomHash:Ht})}function Ye(F){yt().$patch(F)}function ft(F){var Ht,Tn;const pt=F.total,Qt={attempts:((Ht=F.aggregations)==null?void 0:Ht.attempts.map(_n=>({..._n,responses:_n.responses.map(en=>({...en,distribution:{...en.distribution,total:pt,correct:en.distribution.correct+en.distribution.yetToBeGraded,yetToBeGraded:0}}))})))||[],coinDistribution:((Tn=F.aggregations)==null?void 0:Tn.coinDistribution)||{accuracy:0,completion:0,powerups:0}};qe.value=Qt}function Kt(F){A.value=Ct.RUNNING,y.value=k(F,"teams",y.value),v.value=k(F,"players",v.value),z.value.areHintsEnabled=F.areHintsEnabled||z.value.areHintsEnabled,z.value.isAnswerExplanationEnabled=F.isAnswerExplanationEnabled||z.value.isAnswerExplanationEnabled,ct.setGameDataState(s.value,o.value,Ct.RUNNING,X.value)}function js(F){A.value=Ct.COMPLETED,y.value=k(F,"teams",y.value),ct.setGameDataState(s.value,o.value,Ct.COMPLETED,X.value)}function ts(F){A.value=Ct.STOPPED,y.value=k(F,"teams",y.value),ct.setGameDataState(s.value,o.value,Ct.STOPPED,X.value)}function bs(F){v.value=Array.isArray(F.players)?[...F.players]:v.value,N.value=Array.isArray(F.players)?F.players.length:N.value,y.value=Array.isArray(F.teams)?[...F.teams]:y.value}function is(F){v.value=Array.isArray(F.players)?[...F.players]:v.value,N.value=Array.isArray(F.players)?F.players.length:N.value,y.value=Array.isArray(F.teams)?F.teams:y.value}function vs(F){y.value=k(F,"teams",y.value),v.value=v.value.map(pt=>{var Qt;return{...pt,...(Qt=F==null?void 0:F.leaderboard)==null?void 0:Qt.find(Ht=>Ht.playerId===pt.playerId)}})}function Cn(F){j.value={...j.value,encodedParam:F.encodedParam,decoded:!1}}function Yn(F){j.value={...j.value,decoded:!0,roomHash:F.roomHash,roomCode:F.roomCode,courseId:F.courseId,lmsName:F.lmsName}}function Qn(F){const{teams:pt}=F;y.value=Array.isArray(pt)?[...pt]:y.value}function $s(F){const{teams:pt,players:Qt,totalPlayers:Ht}=F;y.value=Array.isArray(pt)?[...pt]:y.value,v.value=Array.isArray(Qt)?[...Qt]:v.value,N.value=Array.isArray(Ht)?Ht.length:N.value}function qn(F){const{hostId:pt,hostSessionId:Qt,roomCode:Ht,roomHash:Tn,gameType:_n,gameMode:en}=F;d.value=pt,h.value=Qt,t.value=Ht,s.value=Tn,o.value=_n,i.value=en,ct.setGameDataState(s.value,_n,A.value,X.value)}function to(F){Ne.value=F}function Ai(F){Te.value=F}function Ti(F){vt.value=F}function yi(F){P.value=F}function Ii(F){me.value=F}function ko(){A.value=Ct.PAUSED,ct.setGameDataState(s.value,o.value,Ct.PAUSED,X.value)}function B(F){ke.value=F,ct.setGameDataState(s.value,o.value,"eyesOnMe",X.value)}function Be(F){Se.value=F}function bt(F){Xe.value=F}function Fs(F){Rt.value=F}function rn(F){if(S(F))return;const pt=ci(F,!0);Object.keys(pt).forEach(Ht=>{z.value[Ht]!==pt[Ht]&&(z.value[Ht]=pt[Ht])})}function fn(){z.value.showAnswers=Gt.ShowAnswers.ALWAYS}function Un(){z.value.showAnswers=Gt.ShowAnswers.PARTIAL}function Bn(F){H.value=[...H.value,F]}function Kn(F){v.value=F}function Jn({playerId:F,userAvatar:pt}){const Qt=v.value.findIndex(Ht=>Ht.playerId===F);Qt!==-1&&(v.value[Qt].userAvatar=pt)}function hn(F){Z.value=F}function so(F){pe.value=F}function bo(F){de.value=F}function Na(F){he.value=F}function No(){return z.value.duelVersion===2.1}function Do(F){F&&(ve.value=F)}function Lo(F){D.value=F,F.eyesOnMe&&B(F.eyesOnMe)}function da(){var F;return((F=D.value)==null?void 0:F.gameMode)===oi.STUDENT_PACED}function no(F){Ve.value=F}function Si(F){st.value=F}return{roomCode:t,roomHash:s,gameId:s,recentLeaderboardPlayerdata:Bt,quizName:n,quizTraits:a,gameType:o,gameMode:i,expiry:r,createdAt:c,startedAt:u,quizId:l,quizType:p,hostId:d,timeRemainingToStart:g,scheduledTime:f,hostSessionId:h,hostOccupation:E,gameState:A,country:_,players:v,teams:y,totalPlayers:N,totalPossibleMarks:G,gameOptions:z,passageProps:Q,issues:H,grade:w,subjects:I,image:M,accuracy:J,isClassroomGame:K,theme:fe,masteryPeakTheme:P,classroomInfo:j,hostPrivileges:oe,experiment:X,groupData:ie,brandingOptions:ge,isCorporateBrandingOption:Mt,quizCreator:Ce,totalQuestionsInQuiz:Fe,quizVersionId:ve,version:ot,isQuizPublic:$,contestId:ne,isCertificationGame:at,certificationRegion:$e,forcedRedirect:tt,isTestTimerEnabled:vt,timedMasteryPeakMode:Pt,startMPTimer:Te,testTimerCounter:Ne,pauseFor:me,pauseCountdownCount:Se,gameTranslationLocale:Qe,endedAt:He,replayAsyncModalOptions:Xe,roomHashBeforeReplay:Rt,mysticPeakLevelMap:gt,isLearningTrackGame:Ue,learningTrackMetaData:se,aggregations:qe,paidOrganization:Ie,notes:ks,parentActivity:st,isMasteryMode:ms,activePlayersList:ee,isPlayerTheGameHost:x,isAdaptiveLearningGame:C,isGameStartedByProHost:dt,isPowerupsOn:q,isQuestionTimerOn:Zs,areAllGameQuestionsWithoutCorrectAnswer:At,canShowResponseStats:xs,isAvatarCustomizerVisible:ue,isQuizForCoins:Z,isPWCSummaryVisible:pe,baseRoomHash:de,practiceQuizId:ce,coinDistribution:he,isEyesOnMeOn:te,lessonMetaData:D,shouldShuffleOptions:zt,showAnswers:os,isReviewAndSubmitEnabled:ns,timerGameOption:rs,isTeacherPreview:e,getState:De,exitGame:we,setQuizInfo:Ye,gameStarted:Kt,resetGame:be,setQuestions:Ge,setTeacherPreview:nt,checkRoomInProgress:St,checkRoomResponded:mt,gameIssuesUpdate:Bn,checkAssignmentResponded:xt,teamPlayerShuffled:Lt,joinSoloGameResponded:ws,rejoinGameInProgress:Pe,rejoinGameResponded:Le,gameCompleted:js,gameStopped:ts,newPlayerJoined:bs,playerDeleted:is,proceedGameResponded:vs,enterLMSFlow:Cn,LMSLinkDecoded:Yn,setCurrentTeamRank:Qn,fetchTeamPlayersResponded:$s,hostGameResponded:qn,setTestTimerCounter:to,setStartMPTimer:Ai,setIsTestTimerEnabled:Ti,setMasteryPeakTheme:yi,pauseGame:Ii,pauseLesson:ko,setEyesOnMe:B,countdownPause321:Be,setReplayAsyncModalOptions:bt,setRoomHashBeforeReplay:Fs,updateGameOptions:rn,enableAnswerFeedback:fn,disableAnswerFeedback:Un,joinRoomResponded:cs,setAggregations:ft,updateGamePlayersData:Kn,featureFlags:Ee,refreshPlayerAvatar:Jn,isQFWHost:Vs,setIsGameForCoins:hn,setIsPWCSummaryVisible:so,setBaseRoomHash:bo,setCoinDistribution:Na,isSnSV2Enabled:No,fetchLeaderboardData:ls,setQuizVersionId:Do,setLessonMetaData:Lo,isLessonRunningInStudentPacedMode:da,overlay:Ve,setOverlay:no,followupActivity:et,setNotes:ds,roomMetaData:kt,setParentActivity:Si}}),lu={PRO:"PRO",STUDENT:"STUDENT"},gn=Ot("appSettings",()=>{var w;const e=Yt(),t=yt(),s=qt(),n=hs(),a=m(!0),o=m(!0),i=m(!0),r=m(!1),c=m(((w=ya.find(I=>I.lang==="English"))==null?void 0:w.locale)||""),u=m(Mi.DEFAULT_THEME),l=m(hc.GAME_HEADER.STANDARD),p=m(!1),d=!0,g=T(()=>{const{gameOptions:I,gameMode:M}=t,K=la().currentQuizData.quizType||"",fe=M===re.TEACHER_PACED,P=M===re.FLASHCARD||K===$a.FLASHCARD;let j;return S(K)?j=er({gameMode:M}):j=K===$a.PRESENTATION,fe||j||P?!1:S(I)?!0:I.memes===!0}),f=T(()=>{const{gameMode:I,gameType:M,gameOptions:J}=t;return!(M===Je.LIVE&&er({gameMode:I}))&&I!==re.TEACHER_PACED&&J.studentMusic}),h=T(()=>{const{slidesFlowControlType:I}=s;return I!==es.NONE});Ln(()=>t.gameOptions.isDuelEnabled,I=>{I&&(Ps&&eu()&&Il(rt.SNS),u.value=rt.SNS)});function E(I){const M=gn();if(I.appSettings){const J={...I.appSettings};e.language&&(J.language=e.language),M.$patch(J),l.value=hc.GAME_HEADER.STANDARD,Br(u.value||"")||(u.value=Mi.DEFAULT_THEME)}}async function A(I){const M={...I};"selectedLanguage"in M&&(await _(M.selectedLanguage||"en"),delete I.selectedLanguage),"selectedTheme"in M&&u.value!==M.selectedTheme&&(v(M.selectedTheme),delete I.selectedTheme),gn().$patch(M)}async function _(I="en"){const M=await Ji.setCurrentLanguage(I);return M.success?c.value=I:n.toggleSnackBar({isVisible:!0,options:{message:"Unable to change language, please try again."}}),M}function v(I){const M=Br(I||"");let J;M?J=I:J=rt.CLASSIC,b.invariant(M,`setCurrentTheme: the theme to set (${I}) is not a valid theme. So instead setting (${J})`),u.value=I,Ps&&eu()&&Il(I)}function y(I){I.isAppInProMode===!0&&(a.value=!1)}function N(I){const M=e.isUserFromAustralia,J=I===lu.PRO,K=Mi.DEFAULT_THEME;v(J||M?rt.CLASSIC:K||u.value)}function G(){var I;a.value=!1,o.value=!1,i.value=!1,r.value=!1,c.value=((I=ya.find(M=>M.lang==="English"))==null?void 0:I.locale)||"",l.value=hc.GAME_HEADER.STANDARD,p.value=!1,u.value=Mi.DEFAULT_THEME}function z(I){p.value=I}async function Q(){var K;const I=(K=Ut(ya,{lang:"English"}))==null?void 0:K.locale,M=Xt.getCookie("locale")||Dh().split("-")[0];tc(M)&&M!==c.value&&M!==I&&await _(M)}async function H({showMemes:I,playMusic:M,playSFX:J}){gn().$patch({showMemes:I,playMusic:M,playSFX:J})}return{showMemes:a,playMusic:o,playSFX:i,readAloud:r,selectedLanguage:c,selectedTheme:u,currentTheme:u,gameHeader:l,isThemeChangeAllowed:d,isMemeSettingToggleVisible:g,isMusicSettingToggleVisible:f,isReadAloudSettingToggleVisible:h,setCurrentTheme:v,setCurrentLanguage:_,setAppSettings:A,loadPreviousContext:E,setAppMode:y,setDefaultThemeForUser:N,$reset:G,setEnableToolkit:z,toolkit:p,hydrateLocale:Q,setAppSettingsFromLocalStorage:H}}),Sd=1e3;let Fc;const ps=Ot("applicationContext",()=>{const e=Yt(),t=gn(),s=$u(),n=hs(),a=Dt(),o=Is(),i=qt(),r=Fn(),c=ua(),u=Js(),l=yt(),p=Pa(),d=ui(),{isDesktop:g}=Co(),f=m({}),h=m(Math.random()*1e3<=2),E=m(!1),A=m(!1),_=m(!1),v=m(!1),y=m(ia.ACTIVE),N=m(ia.KILLED),G=m(!1),z=m(!1),Q=m(!1),H=m(Yc.WEB),w=m(!1),I=m(""),M=m(!1),J=m(!1),K=m([]),fe=m({lastTickOn:0,count:0,interval:Sd}),P=m({isPlaying:!1,isDisabled:!1,highlight:null,data:null}),j=m({[Jo.MUSIC]:!1,[Jo.SFX]:!1}),oe=m({csrf:{header:Xt.getCookie("x-csrf-token")||null,cookie:Xt.getCookie("_csrf")||null}}),X=m([]),ie=m(""),ge=m(!1),Ce=m(!1),Fe=T(()=>u.currentPage===O.List.LANDING.HOME&&!M.value),ve=T(()=>G.value),ot=T(()=>!E.value&&_.value&&!v.value),$=T(()=>P.value.highlight||{}),ne=T(()=>{const{hasJoinedTheGame:ye}=a,At=ln("checkRoom",K.value).isIt,Et=ln("checkAssignment",K.value).isIt,Mt=ln("checkCourse",K.value).isIt,ms=ln("join",K.value).isIt,Vs=ln("rejoin",K.value).isIt,xs=ln("getQuestions",K.value).isIt,Zs=ln("powerupsConfig",K.value).isIt;return At||Et||Mt||ms||Vs||xs||Zs||ye});function Ie(){f.value={},ct.setSessionId(""),h.value=Math.random()*1e3<=2,E.value=!1,A.value=!1,_.value=!1,v.value=!1,y.value=ia.ACTIVE,N.value=ia.KILLED,G.value=!1,z.value=!1,Q.value=!1,H.value=Yc.WEB,w.value=!1,I.value="",ct.setRequestCountry(""),M.value=!1,J.value=!1,K.value=[],fe.value={lastTickOn:0,count:0,interval:Sd},P.value={isPlaying:!1,isDisabled:!1,highlight:null,data:null},j.value={[Jo.MUSIC]:!1,[Jo.SFX]:!1},oe.value={csrf:{header:Xt.getCookie("x-csrf-token")||null,cookie:Xt.getCookie("_csrf")||null}},X.value=[],ie.value=""}function qe(){const ye=ps(),{previousContextLoaded:At,deviceInfo:Et,currentAppState:Mt,previousAppState:ms,clientType:Vs,hasSocketConnectedOnce:xs,isAppInProMode:Zs}=ye.$state,q={previousContextLoaded:At,deviceInfo:Et,currentAppState:Mt,previousAppState:ms,clientType:Vs,hasSocketConnectedOnce:xs,isAppInProMode:Zs};Ie(),ye.$patch(q)}function at(){G.value=!0}function $e(ye){v.value=ye.disconnectedManually,E.value=!1}function tt(){E.value=!0,_.value=!0,v.value=!1,w.value=!1}function vt(){const ye=At=>{const Et=Math.floor((At-fe.value.count)/fe.value.interval);if(Et>=1){const Mt=(At-fe.value.count)%fe.value.interval;fe.value.lastTickOn=Date.now()-Math.round(Mt),fe.value.count+=Et*fe.value.interval}Fc=window.requestAnimationFrame(ye)};Fc=window.requestAnimationFrame(ye)}async function Pt({openingRoute:ye}){const At=gn();vt();const Et={isAppInProMode:window.isProJoinRoute===!0,isAppInEmbedMode:O.matches(ye.name,O.List.EMBED._BASE_)};M.value=Et.isAppInProMode,J.value=Et.isAppInEmbedMode,t.setAppMode(Et),window.requestCountry&&(I.value=window.requestCountry,ct.setRequestCountry(window.requestCountry)),Z(),kt({isOnLoad:!0,screen:ye.name}),await d.loadPreviousContext(),await Promise.allSettled([e.loadUser(),Ue()]),await Te(),hh({environment:"production",country:I.value,locale:f.value.locale,platform:Ps?"app":"web",screenType:g?"desktop":"mobile",userId:e.mongoId,subPlanId:"",region:""}),At.setDefaultThemeForUser(Et.isAppInProMode?lu.PRO:lu.STUDENT),e&&ou.setUserAttributes(e),ou.triggerEvent(xT.GAME_LOAD)}async function Te(){const ye=Xt.getCookie("quizizz_uid")||"null";f.value={userAgent:window.navigator.userAgent,quizizzUID:ye,experimentSlot:Xt.getCookie("QUIZIZZ_EXP_SLOT")||"null",experimentName:Xt.getCookie("QUIZIZZ_EXP_NAME")||"null"},ct.setSessionId(ye)}function Ne(ye){f.value={...f.value,orientation:ye}}function me(){z.value=!1}function Se(){z.value=!0}function Qe(){z.value?(me(),d.saveCurrentContext()):Se()}function He(){l.gameType!==Je.SOLO&&(Q.value=!0)}function Xe(){Q.value=!1}function Rt(ye){const At={isPlaying:Dn(ye,"isPlaying")?ye.isPlaying:P.value.isPlaying,isDisabled:Dn(ye,"isDisabled")?ye.isDisabled:P.value.isDisabled,highlight:Dn(ye,"highlight")?ye.highlight:P.value.highlight,data:Dn(ye,"data")?ys(ye.data):P.value.data};P.value={...P.value,...At}}function gt(ye){j.value={...j.value,...ye}}async function Ue(){try{await YR(),Td(!0)}catch(ye){b.error("at action: checkIfGameDomainIsAvailable",ye),Td(!1)}}async function se(){try{const ye=Date.now();if(!(await _R()).connected){const Et=_.value?"soc_disconn_init":"soc_disconn_session",Mt=Date.now()-ye;return p.toggleOverlay({type:"socketConnectError"}),Ve({issueType:Et,params:{timeTaken:Mt}}),!1}return tt(),p.socketConnected(),!0}catch(ye){return b.error("at action: connectSocket",ye),!1}}async function Ee(){try{if(!(await vR()).connected)return;A.value=!0,s.subscribeForNotifications()}catch(ye){b.error("at action: connectSocketForNotification",ye)}}async function ke(){try{ER()}catch(ye){b.error("at action: disconnectSocket",ye)}}function D({callBeingUpdated:ye,updationType:At}){const Et=x_(K.value,ye,At);K.value=Et.callsList}function Z({isFirstTouch:ye=!1}={}){const At=n.media,Et=zh(At,ye);n.setDeviceMediaDetails({media:Et});const{orientation:Mt}=f.value;Et.orientation!==Mt&&Ne(Et.orientation)}function pe({appStateToBe:ye}){if(ye===y.value)return;N.value=y.value,y.value=ye;const{hasJoinedTheGame:At}=a;Jt([ia.INACTIVE,ia.KILLED,ia.BACKGROUND],ye)&&(At&&a.updateIncompleteGame(o.questionTimer,i.currentId,i.orderedOriginalResponses,e.isLoggedIn),d.saveCurrentContext())}async function de({redirectTo:ye,preserveClassroomInfo:At=!1}={}){const{appSettingsToRevertAtGameEnd:Et}=o,Mt={...Et},{slidesFlowControlType:ms}=i;ms===es.FULL&&r.doPlayerMetadataUpdation(),(E.value||!E.value&&_.value&&!v.value)&&ke(),c.exitGame({preserveClassroomInfo:At,redirectTo:ye}),(await xe(()=>import("./Sound.s4y1RpvF.js").then(xs=>xs.b),__vite__mapDeps([10,1,2]))).default.destroyOverriddenSettings(),!S(ye)&&(ye!=null&&ye.name)&&u.requestToChangePage({to:ye.name,metaData:ye.metaData}),se(),S(Mt)||t.setAppSettings(t)}function ce({query:ye,hasFilters:At=!1}){ct.logEvent(as.SEARCH_SUBMIT,{query:ye,hasFilters:At})}function he(ye){ct.logEvent(as.GAME_CARD_CLICK,{...ye,isNewLandingPage:Fe.value})}function ue(){d.saveCurrentContext(),setTimeout(()=>{window.location.reload()},1e3)}function Ve({issueType:ye,params:At={}}){if(!h.value)return;const Et=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,Mt={issueType:ye,...At};Et&&(Mt.effType=Et.effectiveType,Mt.downlink=Et.downlink,Mt.connType=Et.type||""),ct.logEvent(as.NETWORK_ISSUE,Mt)}async function et(ye){const At=pn(ye),Et={shouldRetry:!1};try{if(At)switch(At){case"user.AUTH_TOKEN_EXPIRED":e.handleAuthTokenRefresh(),Et.shouldRetry=!0;break;case"user.MISMATCHED_AUTH":window.location.reload();break;default:}}catch(Mt){b.error("Error at action handleCommonApplicationErrors",Mt)}return Et}function st({eventName:ye,eventPayload:At={}}){window.parent.postMessage({eventName:ye,payload:{gameId:l.roomHash,playerId:a.playerId,numCorrect:a.totalCorrect,numAttempted:i.totalInteractiveSlidesAttempted,gameState:l.gameState,totalQuestionInQuiz:i.totalQuestionsInGame,...At}},"*")}function kt({isOnLoad:ye=!1,screen:At=null}){let Et=ni(At)?At:u.currentPage;if(O.matches(Et,O.List.IN_GAME._BASE_)&&(Et="inGame"),!ye){ct.logEvent(as.PAGE_VIEW,{screen:Et},"immediate",{attachAdditionalGameParams:!1});return}const Mt={areNetworkEventsAllowedInSession:h.value},{eventParams:ms}=Wv(Mt,Et);ct.logEvent(as.APP_LOADING,ms,"immediate")}function Tt(){cancelAnimationFrame(Fc)}function _s({loader:{name:ye="",meta:At={to:"",from:""}}}){b.invariant(ni(ye)&&!S(ye),`startGlobalLoader: loader 'name' needs to be a non empty string. Recieved '${ye}'`);const Et={id:Symbol(ye),name:ye,meta:At};return X.value=[...X.value,Et],Et}function Bt({loader:{id:ye}}){b.invariant(ye!==void 0&&Rg(ye),`endGlobalLoader: loader 'id' needs to be a Symbol. Recieved '${ye==null?void 0:ye.toString()}'`);const At=X.value.filter(({id:Et})=>Et!==ye);return X.value=At,At}function ks(ye){ie.value=ye}function ds(ye){ge.value=ye}function ls(){Ce.value=!0,l.setNotes()}return{deviceInfo:f,areNetworkEventsAllowedInSession:h,sessionDetails:oe,socketConnected:E,notifSocketConnected:A,hasSocketConnectedOnce:_,socketDisconnectedManually:v,callsInProgress:K,currentAppState:y,previousAppState:N,previousContextLoaded:G,isMenuVisible:z,isLeaderBoardVisible:Q,clientType:H,needToCheckForFirewallIssues:w,areSoundsLoaded:j,requestCountry:I,readAloud:P,isAppInProMode:M,isAppInEmbedMode:J,ticker:fe,globalLoaders:X,isApplicationLoaded:ve,hasDisconnected:ot,isEnterGameInteractionDisabled:ne,socketHandshakeInfo:ie,isUserOnNewLandingPage:Fe,proceedToActivityViaLink:ge,highlightReadAloud:$,notes:Ce,loadPreviousContext:at,updateReadAloud:Rt,endGlobalLoader:Bt,startGlobalLoader:_s,stopTicker:Tt,triggerEmbedEvent:st,handleCommonApplicationErrors:et,logNetworkIssue:Ve,reloadFromNetworkIssue:ue,gameCardClickInteraction:he,onSearchSubmitInteraction:ce,handleExitGame:de,handleAppStateChange:pe,loadApplication:Pt,setMusicLoadStatus:gt,connectSocket:se,connectSocketForNotification:Ee,disconnectSocket:ke,toggleMenu:Qe,exitGame:qe,updateCallInProgressStatus:D,socketConnectedSuccess:tt,hideMenu:me,showMenu:Se,socketDisconnected:$e,checkIfGameDomainIsAvailable:Ue,setDeviceMedia:Z,setSocketHandshakeInfo:ks,setProceedToActivityViaLink:ds,hideLeaderboard:Xe,showLeaderboard:He,setNotes:ls}}),TC={__name:"GlobalLoader",props:{name:{type:String,required:!0}},setup(e){const t=e,s=T(()=>{const o=ps().globalLoaders;return(t.name?o.find(r=>r.name===t.name):null)||{}}),n=T(()=>!S(s.value));return(a,o)=>n.value?Va(a.$slots,"loader",Cg(Ud({key:0},s.value)),()=>[Wo(" Loading... ")]):Va(a.$slots,"default",{key:1})}},yC={class:"q-circle",viewBox:"25 25 50 50"},IC={__name:"QLoader",props:{size:{type:[Number,String],default:"40"},theme:{type:String,default:"",validator:e=>["","white","lilac","dark","red","fadedWhite"].includes(e)},isAnimating:{type:Boolean,default:!0}},setup(e){const t=e,s=m(!1),n=m({}),a=m(null),o=m(null),i=m(null);function r(){if(!window.CSS||!window.CSS.supports||!window.CSS.supports("stroke","#FFFFFF")){s.value=!0,Bd().then(()=>{const u=a.value;if(u){const{borderWidth:l}=u.style;n.value={height:`${t.size-l}px `,width:`${t.size-l}px`}}});return}const c=Math.ceil(Number(t.size)/5);try{o.value.setAttribute("style",`width: ${t.size}px; height: ${t.size}px`),i.value.setAttribute("style",`width: ${c}px; height: ${c}px`)}catch(u){b.error("Error at QLoader mounted",u)}}return di(()=>{r()}),Ln(()=>t.size,()=>{r()}),(c,u)=>(Ae(),ze("div",{ref_key:"loader",ref:o,class:Wt(["q-loader",[{"original-loader":!s.value,animate:e.isAnimating}]])},[s.value?(Ae(),ze("div",{key:0,ref_key:"fallbackLoader",ref:a,class:Wt(["q-fallback-loader",[e.theme]]),style:Aa(n.value)},null,6)):(Ae(),ze(Ta,{key:1},[(Ae(),ze("svg",yC,[W("circle",{class:Wt(["q-path",[e.theme]]),cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"10","stroke-miterlimit":"0"},null,2)])),W("div",{ref_key:"dot",ref:i,class:Wt(["q-dot",[e.theme]])},null,2)],64))],2))}},SC=Hs(IC,[["__scopeId","data-v-e9591aa1"]]),RC={name:"ThemedBackgroundDiv",inject:["media","selectedTheme"],props:{fixThemeTo:{type:String,default:"",validator:e=>Br(e)||e===""},assetType:{type:String,default:"auto",validator:e=>["auto","1080p","720p","tabletPortrait","mobilePortrait"].includes(e)},applyTheme:{type:Boolean,default:!0}},setup(){const{isDesktop:e}=Co();return{isDesktop:e}},data(){return{ctx:null,canvas:null,flakes:[],angle:0,ThemeNames:rt,parallaxBgPos:"50% 50%, 50% 50%, center",mouseMoveCoordinatesX:0,velocity:{x:0,y:0},current:{x:0,y:0},config:{friction:.4,ease:.1}}},computed:{...va(yt,["pauseFor","pauseCountdownCount","brandingOptions"]),...va(Js,["currentPage"]),themeToShow(){return S(this.fixThemeTo)?this.selectedTheme:this.fixThemeTo},containerClasses(){if(!this.applyTheme)return[];const e=["themed-background",this.themeToShow,`theme-${this.themeToShow}`];return this.customBranding||e.push("bg-basecolor"),this.isCurrentPageWaiting&&this.themeToShow===rt.CLASSIC&&e.push(`theme-${this.themeToShow}-waiting`),e},containerStyles(){var t;if(this.customBranding)return{backgroundColor:`#${(t=this.brandingOptions)==null?void 0:t.theme}`};if(this.pauseFor>0||this.pauseCountdownCount>0)return{backgroundImage:"none !important",backgroundColor:"black !important"};const e=this.themeImageUrl;return{backgroundImage:`url("${e}")`,"--theme-bg-image":`url("${e}")`}},customBranding(){var e;return((e=this.brandingOptions)==null?void 0:e.theme)??!1},themeImageUrl(){let{assetType:e}=this;return this.assetType==="auto"&&(e=this.calculateAssetType),Wa.getThemeAssetsUrl(this.themeToShow,this.getThemeFileName(e))},calculateAssetType(){let e=1080;switch(!S(window.screen)&&typeof window.screen.availWidth=="number"&&(e=window.screen.height*window.devicePixelRatio),this.media.type){case Ft.PHONE:return this.media.orientation===Ea.LANDSCAPE?"720p":"mobilePortrait";case Ft.TABLET:return this.media.orientation===Ea.LANDSCAPE?"auto":"tabletPortrait";case Ft.DESKTOP:default:return e>720?"auto":"720p"}},isCurrentPageWaiting(){return O.matches(this.currentPage,O.List.IN_GAME.WAITING,2)},canStartParallax(){return!this.customBranding&&this.themeToShow===rt.CLASSIC&&this.isDesktop&&this.isCurrentPageWaiting}},watch:{canStartParallax(e){e&&this.loadClassicAssets()}},mounted(){this.canStartParallax&&this.loadClassicAssets()},methods:{getThemeFileName(e=this.assetType){switch(e){case"720p":case"tabletPortrait":case"mobilePortrait":return`${Xl(this.themeToShow)&&this.isCurrentPageWaiting?"lobby":"bg"}_image_${e}`;case"auto":default:return`${Xl(this.themeToShow)&&this.isCurrentPageWaiting?"lobby":"bg"}_image`}},loadClassicAssets(){_p(["https://cf.quizizz.com/themes/v2/classic/macaronies-blur.png","https://cf.quizizz.com/themes/v2/classic/macaronies-non-blur.png","https://cf.quizizz.com/themes/v2/classic/lobby_550.svg"]).then(this.handleParallax)},onMousemove(e){const t=window.innerWidth/2,s=e.clientX;this.mouseMoveCoordinatesX=s-t},handleParallax(){let e;const t=()=>{const s=Date.now();e===void 0&&(e=s);const n=this.mouseMoveCoordinatesX-this.current.x;this.velocity.x+=n*this.config.ease,this.velocity.x*=1-this.config.friction,this.current.x+=this.velocity.x;const a=this.calculatePosition((s-e)%5e3/5e3,200),o=this.calculatePosition((s-e+1e3)%5e3/5e3,200),i=`${50-this.current.x*.008}% 50%`,r=`${50-(a.x+this.current.x)*.01}% ${50-a.y*.02}%`,c=`${50-(o.x+this.current.x)*.02}% ${50-o.y*.04}%`;this.parallaxBgPos=`${c}, ${r}, ${i}`,setTimeout(t,50)};setTimeout(t,150)},calculatePosition(e,t){const s=3*t,n=e*s;let a,o;if(n<=t){const i=n/t;a=t*i,o=0}else if(n<=2*t){const i=(n-t)/t;a=t+(t/2-t)*i,o=0+t*Math.sqrt(3)/2*i}else{const i=(n-2*t)/t;a=t/2+(0-t/2)*i,o=t*Math.sqrt(3)/2+(0-t*Math.sqrt(3)/2)*i}return{x:a,y:o}}}};function CC(e,t,s,n,a,o){return o.canStartParallax?(Ae(),ze("div",{key:0,class:Wt(["relative bg-no-repeat bg-cover bg-center grid",[o.containerClasses]])},[W("div",{class:"classic-assets-container w-full h-full",style:Aa({backgroundPosition:a.parallaxBgPos}),onMousemove:t[0]||(t[0]=(...i)=>o.onMousemove&&o.onMousemove(...i))},[Va(e.$slots,"default",{},void 0,!0)],36)],2)):(Ae(),ze("div",{key:1,class:Wt(["relative bg-no-repeat bg-cover bg-center grid",[o.containerClasses]]),style:Aa(o.containerStyles)},[Va(e.$slots,"default",{},void 0,!0)],6))}const wC=Hs(RC,[["render",CC],["__scopeId","data-v-be92eeea"]]),OC={name:"ThemedContentDiv",props:{uiVariant:{type:String,default:"black",validator:e=>["none","white","black","darkerBlack","lighterBlack","darkestBlack","mysticPeak"].includes(e)}},computed:{containerClasses(){return this.uiVariant==="none"?["themed"]:["themed",this.uiVariant]}}};function PC(e,t,s,n,a,o){return Ae(),ze("div",{class:Wt(o.containerClasses)},[Va(e.$slots,"default",{},void 0,!0)],2)}const kC=Hs(OC,[["render",PC],["__scopeId","data-v-5e383631"]]),bC={name:"Tooltip",props:{showOnFocus:{type:Boolean,default:!1},showOnHover:{type:Boolean,default:!1},text:{type:String,default:""},isVisible:{type:Boolean,default:!1},showTool:{type:Boolean,default:!0},tooltipStyle:{type:Object,default:()=>({})},tooltipContentStyle:{type:Object,default:()=>({})},position:{type:String,default:"bottom",validator:e=>["top","right","bottom","left","top-right","top-left","bottom-right","bottom-left","top-over"].includes(e)},fallbackPosition:{type:String,default:"",validator:e=>["","top","right","bottom","left","top-right","top-left","bottom-right","bottom-left"].includes(e)},theme:{type:String,default:"default",validator:e=>["error","warning","success","default","dark"].includes(e)},applyShadow:{type:Boolean,default:!1},hasTextSlot:{type:Boolean,default:!1},size:{type:String,default:"med",validator:e=>["large","med","small","xs"].includes(e)},disableInitialTransition:{type:Boolean,default:!1}},emits:["onTooltipClick","onTooltipOptionEnter"],data(){return{showManually:!0,currentPosition:"",transitionEndTimeout:null}},computed:{actionClass(){return this.isVisible?"default-action":this.showOnFocus&&this.showOnHover?"focus hover":this.showOnFocus?"focus":this.showOnHover?"hover":""},themeClass(){return this.theme},shadowClass(){return this.applyShadow?"apply-shadow":""},sizeClass(){return`size-${this.size}`},transitionStyle(){return{transition:this.disableInitialTransition?"none":"0.3s"}}},mounted(){var e;this.currentPosition=this.position,this.transitionEndTimeout=setTimeout(()=>{this.onTooltipTransitionEnd()},200),(e=this.$refs.tooltipContainer)==null||e.addEventListener("transitionend",this.onTooltipTransitionEnd)},beforeUnmount(){var e;this.transitionEndTimeout&&clearTimeout(this.transitionEndTimeout),(e=this.$refs.tooltipContainer)==null||e.removeEventListener("transitionend",this.onTooltipTransitionEnd)},methods:{onTooltipTransitionEnd(){switch(this.currentPosition){case"top":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop());break}case"right":{this.setFallbackPosition(this.calculateIfNoSpaceFromRight());break}case"bottom":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom());break}case"left":{this.setFallbackPosition(this.calculateIfNoSpaceFromLeft());break}case"top-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromRight());break}case"top-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromTop()||this.calculateIfNoSpaceFromLeft());break}case"bottom-right":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromRight());break}case"bottom-left":{this.setFallbackPosition(this.calculateIfNoSpaceFromBottom()||this.calculateIfNoSpaceFromLeft());break}}},calculateIfNoSpaceFromTop(){const e=this.$refs.tooltipContainer.getBoundingClientRect().top,t=this.$refs.tooltipContent.offsetHeight;return e<t},calculateIfNoSpaceFromRight(){const e=document.documentElement.getBoundingClientRect().right,t=this.$refs.tooltipContainer.getBoundingClientRect().right,s=e-t,n=this.$refs.tooltipContent.offsetWidth;return s<n},calculateIfNoSpaceFromBottom(){const e=document.documentElement.getBoundingClientRect().bottom,t=this.$refs.tooltipContainer.getBoundingClientRect().bottom,s=e-t,n=this.$refs.tooltipContent.offsetHeight;return s<n},calculateIfNoSpaceFromLeft(){const e=this.$refs.tooltipContainer.getBoundingClientRect().left,t=this.$refs.tooltipContent.offsetWidth;return e<t},setFallbackPosition(e=!1){e&&typeof this.fallbackPosition=="string"&&this.fallbackPosition!==""&&(this.currentPosition=this.fallbackPosition),this.$refs.tooltipContainer.removeEventListener("transitionend",this.onTooltipTransitionEnd)},onTooltipOptionEnter(e){e.stopPropagation(),this.hasTextSlot&&this.$emit("onTooltipOptionEnter")},onTooltipContainerClick(e){this.$emit("onTooltipClick",e)}}},NC=["tabindex"],DC=["innerHTML"];function LC(e,t,s,n,a,o){return Ae(),ze("div",{ref:"tooltipContainer",class:Wt(["show-tooltip cursor-pointer",[o.actionClass,o.themeClass]]),style:Aa(s.tooltipStyle),tabindex:s.hasTextSlot?"0":"-1",onKeyup:t[1]||(t[1]=bd((...i)=>o.onTooltipOptionEnter&&o.onTooltipOptionEnter(...i),["enter"]))},[Va(e.$slots,"default",{},void 0,!0),W("div",{ref:"tooltipContent",class:Wt(["content",[a.currentPosition,o.themeClass,o.shadowClass,o.sizeClass]]),style:Aa([s.tooltipContentStyle,o.transitionStyle]),onClick:t[0]||(t[0]=i=>o.onTooltipContainerClick(i)),innerHTML:s.text},null,14,DC)],46,NC)}const zC=Hs(bC,[["render",LC],["__scopeId","data-v-54725c96"]]),Rd="__anchor-input__",GC={data(){return{softKeyboard:{isRequired:!1,isVisible:!1,trigerringElement:null,openAnimationTime:-1,height:-1,hasDataBeenCaptured:!1,heightWithoutKeyboard:-1}}},provide(){return{softKeyboard:this.softKeyboard}},computed:{...va(qt,{answerResponseStatuses:e=>e.questionResponseStatuses}),...va(Is,["isValidRoom"]),...va(Pa,{overlayType:e=>e.type}),...va(hs,["media"])},created(){this.debouncedWindowResizeHandler=wg(this.windowResizeHandler,100,{maxWait:500}),this.onFirstTouchWrapperInstance=this.onFirstTouch,this.lastActiveElement=null,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=!1,this.addKeyboardCalculationAnchorInput()},mounted(){window.addEventListener("focus",this.onWindowFocus.bind(this)),window.addEventListener("blur",this.onWindowBlur.bind(this)),window.addEventListener("focus",this.onElementFocus.bind(this),!0),window.addEventListener("blur",this.onElementBlur.bind(this),!0),window.addEventListener("beforeunload",this.onWindowKilled.bind(this)),window.addEventListener("resize",this.debouncedWindowResizeHandler),window.addEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},watch:{media(e,t){!S(e)&&S(t)&&(this.softKeyboard.heightWithoutKeyboard=e.height)}},methods:{...Vc(Pa,["toggleOverlay"]),...Vc(ps,["handleAppStateChange","setDeviceMedia"]),onWindowFocus(){this.handleAppStateChange({appStateToBe:ia.ACTIVE})},onWindowBlur(){this.handleAppStateChange({appStateToBe:ia.BACKGROUND})},async onElementFocus(){if(this.updateActiveElement(),!this.softKeyboard.isRequired||!this.doesCurrentElementRequireKeyboardFocus||(this.softKeyboard.isVisible=!0,this.softKeyboard.trigerringElement=this.currentActiveElement,this.softKeyboard.hasDataBeenCaptured||this.currentActiveElement.id!==Rd))return;const e=await this.startKeyboardAnimationCapture();e.didTimeout||(this.softKeyboard.openAnimationTime=e.animationTime,this.softKeyboard.height=e.keyboardHeight,this.softKeyboard.hasDataBeenCaptured=!0)},async onElementBlur(){const e=this.doesCurrentElementRequireKeyboardFocus;this.updateActiveElement(),!(!this.softKeyboard.isRequired||!e)&&(this.softKeyboard.trigerringElement=null,this.softKeyboard.isVisible=!1)},onWindowKilled(e){const t=Eo(this.answerResponseStatuses,[Us.NOT_SENT,Us.SENDING]);if(!(Qs(t).length===0)&&this.isValidRoom&&!this.overlayType){this.toggleOverlay({type:`responseUnsynced|${Zo.ON_EXIT}`});const n="Unsaved changes remain. Are you sure do you want continue?";return e.returnValue=n,n}this.handleAppStateChange({appStateToBe:ia.KILLED})},windowResizeHandler(){const e=this.media;this.setDeviceMedia(),!(this.softKeyboard.isRequired&&this.doesCurrentElementRequireKeyboardFocus&&e.width===this.media.width)&&(this.softKeyboard.heightWithoutKeyboard=this.media.height)},onFirstTouch(){this.setDeviceMedia({isFirstTouch:!0}),this.softKeyboard.isRequired=!0,window.removeEventListener("touchstart",this.onFirstTouchWrapperInstance,{passive:!1})},updateActiveElement(){this.lastActiveElement!==document.activeElement&&(this.lastActiveElement=this.currentActiveElement,this.currentActiveElement=document.activeElement,this.doesCurrentElementRequireKeyboardFocus=xh(this.currentActiveElement))},startKeyboardAnimationCapture(){return new Promise(e=>{const s=Date.now(),n=window.innerHeight,a=document.body.clientHeight,o=2;let i=0,r,c=-1,u=-1,l=window.innerHeight,p=document.body.clientHeight,d=0,g=-1;const f=()=>{const h=Math.abs(window.innerHeight-l),E=document.body.clientHeight-p,A=Date.now()-s>750;if(i+=1,l=window.innerHeight,p=document.body.clientHeight,d=Date.now()-s,A){cancelAnimationFrame(r),e({didTimeout:!0,animationTime:d,keyboardHeight:g});return}if((h!==0||E!==0)&&c===-1&&(c=i),c>=0&&c!==i&&h===0&&E===0&&(u===-1&&(u=i),i-u>=o)){const _=Math.abs(n-window.innerHeight),v=Math.abs(a-document.body.clientHeight);g=Math.max(_,v),e({animationTime:d,keyboardHeight:g}),cancelAnimationFrame(r);return}r=requestAnimationFrame(f)};r=requestAnimationFrame(f)})},addKeyboardCalculationAnchorInput(){const e=document.createElement("input");e.style.position="fixed",e.style.bottom="-10vh",e.style.width="10px",e.style.height="20px",e.style.left="50vw",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("id",Rd),document.body.appendChild(e)}}};class MC{loadYoutubeApiScript(t,s){var n;try{const a=document.createElement("script"),o=`${s||"https://www.youtubeeducation.com"}/iframe_api`;a.src=o,a.async=!0,a.defer=!0,a.id="youtube-api-script",a.onerror=t;const i=document.getElementsByTagName("script")[0];(n=i.parentNode)==null||n.insertBefore(a,i)}catch{b.log("Error at youtube service")}}}const xC=new MC,FC={class:"w-full h-full"},QC=["id"],qC={name:"RootBootstrapper",components:{Loading:ju},mixins:[GC],provide(){return{getTranslatedText:this.getTranslatedTextWrapper,getTranslatedServerText:eh}},computed:{...va(gn,["selectedLanguage"]),getTranslatedTextWrapper(){return(...e)=>U(...e)}},created(){this.$nextTick().then(()=>{mp.loadQuicksand(),xC.loadYoutubeApiScript()})},mounted(){const e="updateCallInProgressStatus",t=$R();In.init(e,t),mo.init(),Ps&&window.addEventListener("load",yl)},unmounted(){Ps&&window.removeEventListener("load",yl)}},UC=Object.assign(qC,{setup(e){return(t,s)=>{const n=To("GlobalLoader");return Ae(),ze("div",FC,[fs(n,{name:ae(Au).ROUTE_NAVIGATION},{loader:As(()=>[fs(ju)]),_:1},8,["name"]),fs(rp),W("div",{id:ae(or).ROOT},null,8,QC)])}}}),BC={install(e,t){e.directive("click-outside",{beforeMount(s,n,a){Qc(n.value)&&Cd(s,n,a)},unmounted(s){du(s)},updated(s,n,a,o){if(n.value===n.oldValue)return;const i=Qc(n.oldValue),r=Qc(n.value);!i&&r?Cd(s,n,a):i&&!r&&du(s)}})}};function Cd(e,t,s){if(typeof e.__vueClickOutside__=="function")return;const n=an(t.value)?t.value.callback:t.value,a=t.value.onlySingleUse===!0;if(typeof n!="function"){const c=s.context.name;let u=`[Vue-click-outside:] provided expression '${t.expression}' is not a function, but has to be`;c&&(u+=`Found in component '${c}'`),b.error("Error at clickOutside Directive",u)}let o=0;const{bubble:i}=t.modifiers,r=c=>{(i||!e.contains(c.target)&&e!==c.target)&&(n(c),a&&(o+=1)),a&&o>=1&&du(e)};e.__vueClickOutside__=r,document.addEventListener("click",r)}function du(e,t="click"){document.removeEventListener(t,e.__vueClickOutside__),e.__vueClickOutside__=null}function Qc(e){return(e&&e.isActive)!==!1}const wd="vLineClampValue";function HC(e,t,s){if(s){let n=Number.parseInt(t.arg,10);Number.isNaN(n)&&(b.warn("line-height argument for vue-line-clamp must be a number (of pixels), falling back to 16px"),n=16);const a=n*s;e.style.maxHeight=a?`${a}px`:"",e.style.overflowX="hidden",e.style.lineHeight=`${n}px`}else e.style.maxHeight="",e.style.overflowX=""}const Od=function(e,t,s){const n=Number.parseInt(t.value,10);if(Number.isNaN(n)){b.error("Parameter for vue-line-clamp must be a number");return}n!==e[wd]&&(e[wd]=n,s?s(e,t,n):e.style.webkitLineClamp=n||"")},VC={install(e,t){t={importCss:!1,textOverflow:"ellipsis",...t};const s=`
      display: block;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ${t.textOverflow};
    `;if(t.importCss){const a=window.document.styleSheets,o=`.vue-line-clamp{${s}}`;if(a&&a[0]&&a.insertRule)a.insertRule(o);else{const i=window.document.createElement("style");i.id="vue-line-clamp",i.appendChild(window.document.createTextNode(o)),window.document.head.appendChild(i)}}const n="webkitLineClamp"in document.body.style?void 0:t.fallbackFunc||HC;e.directive("line-clamp",{currentValue:0,beforeMount(a){t.importCss?a.classList.add("vue-line-clamp"):a.style.cssText+=s},mounted:(a,o)=>Od(a,o,n),updated:(a,o)=>Od(a,o,n)})}},jC={install(e){e.config.globalProperties.$toasts=_o,e.provide("$toasts",_o)}};function $C(e){window.URL=window.URL||window.webkitURL;let t;try{t=new Blob([e],{type:"application/javascript"})}catch{window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new window.BlobBuilder,t.append(e),t=t.getBlob()}return new Worker(window.URL.createObjectURL(t))}const WC=`
  let timer;
  self.onmessage = function (event) {
    switch (event.data) {
      case 'start':
        timer = setInterval(() => {
            self.postMessage('tick');
          }, 1000 );
        break;
      case 'stop':
        clearInterval(timer);
        break;
      default:
    }
  };
`,YC=$C(WC),KC={install(e){e.provide("$timerWorker",YC)}},Cr={async init(){const e=await xe(()=>import("./MicrosoftTeams.min.yVyVUgIJ.js").then(t=>t.M),__vite__mapDeps([117,1,2]));b.log("MsTeams.init: Initializing Teams sdk..."),e.initialize(()=>{this.notifyAuthSuccess(),b.log("MsTeams.init: Initialization done.")})},async notifyAuthSuccess(){const e=await xe(()=>import("./MicrosoftTeams.min.yVyVUgIJ.js").then(t=>t.M),__vite__mapDeps([117,1,2]));try{const t=Rs.getItem("msftConfigAuthStartedFrom");if(t&&this.isUserLoggedIn()){b.log("MsTeams.notifyAuthSuccess: Auth started from config page. Redirecting back..."),Rs.removeItem("msftConfigAuthStartedFrom"),window.location.href=t;return}Rs.getItem("shouldNotifyMsft")&&(b.log("MsTeams.notifyAuthSuccess: notifying auth success!"),Rs.removeItem("shouldNotifyMsft"),e.authentication.notifySuccess()),document.location.href.includes("msftTeamsAuthNotify")&&(b.log("MsTeams.notifyAuthSuccess: notifying auth success!"),e.authentication.notifySuccess())}catch(t){b.error(`MsTeams.notifyAuthSuccess: Error!
`,t)}},async initiateAuthFlow(e,t=s=>{}){const s=await xe(()=>import("./MicrosoftTeams.min.yVyVUgIJ.js").then(i=>i.M),__vite__mapDeps([117,1,2])),n=pm(e);n.msftTeamsAuthNotify=!0;const a=Nh(e),o=bh(n);try{Rs.setItem("shouldNotifyMsft",!0)}catch(i){b.error(`MsTeams.notifyAuthSuccess: Error!
`,i)}s.authentication.authenticate({url:`${a}?${o}`,successCallback:()=>{t(!0)},failureCallback:()=>{t(!1)},width:800,height:600})},isUserLoggedIn(){return!0},getTeamsAppId(){return"a22fbd93-4ad1-4842-b88d-bef47690f909"},async openStageView(e){const t=await xe(()=>import("./MicrosoftTeams.min.yVyVUgIJ.js").then(a=>a.M),__vite__mapDeps([117,1,2]));if(!e)return;b.log("MsTeams.openStageView: Opening app url in teams stage view ",e);const s={contentUrl:e,websiteUrl:e},n=`https://teams.microsoft.com/l/stage/${this.getTeamsAppId()}/0?context=${encodeURIComponent(JSON.stringify(s))}`;t.executeDeepLink(n)},getSession(){let e=null;try{window.sessionStorage&&(e=window.sessionStorage.getItem("msftContext"),e&&(e=JSON.parse(e)))}catch(t){b.log("Error while accessing session, ",t)}return e},createSession(){try{const e={init:!0};window.sessionStorage&&window.sessionStorage.setItem("msftContext",JSON.stringify(e))}catch(e){b.log("Error while creating session, ",e)}}},JC={install(e,t){let s=!1;if(!s){let n=Cr.getSession();const a=pm(window.location.href)["ms-teams"];!n&&a&&(n=Cr.createSession()),n&&(b.log("MSTeams: Initializing Teams session"),Cr.init(),s=!0,b.log("MSTeams: Teams session initialized")),e.config.globalProperties.$msTeams={isTeamApp:()=>s,...Cr}}}};function Ip(e){const t=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";let s=[];if(window.localStorage){const n=JSON.parse(window.localStorage.getItem(t)||"{}");Array.isArray(n)?s=n:b.error(`Error at event logger getEventsInBuffer: Data for bucket(${t}) is not an Array`,n)}return s}function XC(e,t=[],s=!1){const n=e==="main"?"QuizizzAnalyticsBucket":"QuizizzAnalyticsBucketTemp";try{if(s)window.localStorage&&window.localStorage.setItem(n,JSON.stringify(t));else{let a=Ip(e);a=a.concat(t),window.localStorage&&window.localStorage.setItem(n,JSON.stringify(a))}}catch(a){b.error("Error at event logger putEventsInBuffer",a)}}function ZC(){return{sessionId:Xt.getCookie("quizizz_uid"),deviceId:Xt.getCookie("quizizz_uid"),modelDetails:{expSlot:Xt.getCookie("QUIZIZZ_EXP_SLOT"),expName:Xt.getCookie("QUIZIZZ_EXP_NAME"),platform:Ps?"app":"web"}}}function ew(e){return!e||!e.stack?!1:e.stack.toString().includes("node_modules")}function tw(e,t){if(t.originalException&&ew(t.originalException))return null;const s={...e},n={},a=hs(),o=yt(),i=Yt(),r=Dt(),c=ra(a.media,(l,p,d)=>(l[`device_${d}`]=p,l),n),u={gameId:o.roomHash,userId:i.mongoId,playerId:r.playerId,...c};return s.extra?s.extra={...s.extra,...u}:s.extra=u,s}Qg("isWebview",Ps);function sw(){const e=gn(),t=yt(),{gameType:s}=t;qa(n=>{n.setExtra("Language",`${e.selectedLanguage}`),n.setExtra("Theme",`${e.selectedTheme}`),n.setExtra("ReadAloud",`${e.readAloud}`),n.setExtra("ShowMemes",`${e.showMemes}`),n.setExtra("PlayMusic",`${e.playMusic}`),n.setExtra("PlaySFX",`${e.playSFX}`),n.setTag("gameType",s)})}function nw(e){const{store:t}=e;t.$onAction(s=>{const{name:n,args:a,store:o}=s,i=a[0]||{};let r="";try{switch(n){case"handleAppStateChange":break;case"toggleModal":r=`type:${i.type}`;break;case"updateCurrentPage":case"requestToChangePage":r=JSON.stringify(i),qa(d=>{d.setExtra("CurrentPage",o.currentPage),d.setTag("CurrentPage",o.currentPage)});break;case"joinRoomResponded":case"rejoinGameResponded":case"joinSoloGameResponded":if(o.$id!=="gameQuestions")break;qa(d=>{d.setExtra("GameOptions",JSON.stringify(i.room.options))});const c=i.responses&&typeof i.responses.length=="number"?i.responses.length:"nil";r=`Type:${i.room.type}-State:${i.room.state}-Answered:${c}-roomHash:${i.room.hash}-playerId:${i.player&&i.player.id}`;break;case"answeredCurrentQuestion":const u={ic:i.response.isCorrect,time:i.response.timeTaken,qAttempt:i.response.attempt,type:i.questionType,id:i.response.questionId};r=JSON.stringify(u);break;case"loadPreviousContext":if(o.$id!=="applicationContext")break;i||(r="No Previous Context Found");const l=k(i,"applicationContext.deviceInfo.experimentSlot",null),p=k(i,"applicationContext.deviceInfo.experimentName",null);qa(d=>{d.setExtra("experimentSlot",l),d.setExtra("experimentName",p),p!==null&&d.setTag("experimentName",p),d.setTag("sessionId",`${Xt.getCookie("quizizz_uid")}`)}),sw();break;case"userSignedIn":qa(d=>{d.setUser({id:`${i.mongoId}`})});break;case"setQuestions":if(o.$id!=="gameQuestions")break;r=`Tot- ${Object.keys(i.questions).length}`;break;case"proceedGameRespondedWithError":r=JSON.stringify(i.response);break;case"updateCallsInProgress":r=`call:${i.callBeingUpdated}-type:${i.updationType}-total:${i.callsList.length}-time:${i.callDoneTime}-`;break;case"updateIncompleteGameAction":r=`isC:${i.isComplete}-lQId:${i.lastVisibleQuestionId}`;break;case"setRunningGameResponse":case"setCompletedGameResponse":r=`len:${i.items.length}-tot:${i.total}-size:${i.pageSize}-si:${i.startIndex}`;break;case"toggleOverlay":r=`type:${i.type}`;break;case"proceedGameResponded":if(o.$id!=="gameQuestions")break;r=`fQInd:${i.forQues.id}-fQAttemptInd:${i.forQues.attemptIndex}`;break;case"checkRoomInProgress":case"checkAssignmentInProgress":r=`source:${i.startSource}-code:${i.room&&i.room.code}`;break;case"joinRoomInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"rejoinGameInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"joinSoloGameInProgress":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"playerJoinedTheGame":if(o.$id!=="gameFlow")break;r=JSON.stringify(i);break;case"resetGame":if(o.$id!=="gameQuestions")break;r=JSON.stringify(i);break;case"exitGame":if(o.$id!=="gameQuestions")break;r=JSON.stringify(i);break;case"completedQuesAudioPrefetch":r=`for:${i.forQuestionId}`;break;case"completedQuestionImagesPrefetch":r=`for:${i.forQuestionId}`;break;case"changeRemainingQuestionsOrder":r=`qRem:${i.remainingOrder}`;break;case"setCurrentQuestion":if(o.$id!=="gameQuestions")break;qa(d=>{const g=o.isCurrentQuestionForRedemptionAttempt?`red:${o.currentQuestionNumber}`:`org:${o.currentQuestionNumber}`;d.setExtra("CurrentQuestionNum",g)});break;default:break}r!==""&&qg({message:`${n}:- ${r}`})}catch{}})}var aw={npm_package_devDependencies__types_node:"18.16.6",npm_package_scripts_lint_ci_diff:'eslint $(git diff --name-only --relative --diff-filter=ACMRTUXB origin/main | grep  -E "(.js$|.ts$|.vue$|.jsx$|.tsx$)")',npm_package_dependencies_pinia:"2.0.32",npm_package_dependencies_tiny_emitter:"2.1.0",npm_package_devDependencies__types_howler:"^2.2.10",npm_package_devDependencies_rollup_plugin_execute:"1.1.1",npm_package_devDependencies_vitest:"1.6.0",B_NOTIFICATION_BASE:"https://notif.quizizz.com",Q_BUILD_BUCKET:"quizizz-static-content",npm_package_devDependencies__sentry_cli:"2.17.5",npm_package_devDependencies__testing_library_jest_dom:"6.4.5",npm_package_devDependencies__types_jsdom:"21.1.7",npm_config_user_agent:"pnpm/8.6.2 npm/? node/v18.20.7 linux x64",Q_JS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_RE_SECRET_KEY:"6Ld5MucnAAAAAOx3BubwZWrSqUR5csc0ltZOnHxo",NODE_VERSION:"18.20.7",npm_package_scripts_lint_staged:"npx lint-staged",npm_package_dependencies__unhead_vue:"1.1.26",npm_package_dependencies_vue:"3.4.27",npm_package_devDependencies__testing_library_user_event:"14.5.2",HOSTNAME:"fb5533062c90",YARN_VERSION:"1.22.22",npm_package_scripts_lint_ci:"eslint src --ext .ts,.vue,.js",npm_package_dependencies_analytics_client:"workspace:analytics-client",npm_package_dependencies_markdown_it_katex:"2.0.3",npm_package_devDependencies_user_agent_data_types:"0.4.2",npm_package_devDependencies_vite:"5.2.6",npm_node_execpath:"/usr/local/bin/node",SHLVL:"2",npm_package_dependencies_shared_typings:"workspace:shared-typings",HOME:"/root",SENTRY_URL:"https://sentry.io",npm_package_dependencies_slide_previews:"workspace:slide-previews",npm_package_devDependencies_sass:"1.62.0",COREPACK_ROOT:"/usr/local/lib/node_modules/corepack",npm_package_scripts_dev_local:"vite --mode localenv",npm_config_auto_install_peers:"true",NODE_OPTIONS:"--max_old_space_size=5120",Q_BUILD_GOOGLE_PROJECT_ID:"quizizz-org",npm_package_scripts_type_check:"vue-tsc --noEmit -p tsconfig.json",npm_package_devDependencies__originjs_vite_plugin_commonjs:"1.0.3",version:"6e304f4_67baa7ba",npm_package_dependencies_html2canvas:"1.4.1",npm_package_dependencies_dayjs:"1.11.7",npm_package_dependencies_recordrtc:"5.6.2",npm_package_dependencies_video_js:"8.5.0",npm_package_devDependencies_husky:"8.0.0",npm_config_engine_strict:"true",npm_package_dependencies__sentry_vue:"8.27.0",npm_package_dependencies_howler:"2.2.3",npm_package_devDependencies_tailwindcss:"3.3.1",npm_package_devDependencies_typescript:"5.0.4",npm_package_scripts_build_dev:"pnpm run build:development",npm_package_scripts_build_dependencies:"turbo run build --filter=join^...",npm_package_dependencies_katex:"0.16.4",npm_package_devDependencies_vue_tsc:"1.8.22",npm_package_lint_staged___vue_0:"pnpm run lint:vue",VITE_RE_SITE_KEY:"6Ld5MucnAAAAAMT2r7RrT0GPherTWgUc5Mxx8rzt",COREPACK_ENABLE_DOWNLOAD_PROMPT:"1",npm_package_scripts_dev:"vite",npm_package_scripts_build_prod:"pnpm run build-dependencies && vite build",npm_package_dependencies_emoji_regex:"10.2.1",npm_package_dependencies_floating_vue:"5.2.0",npm_package_devDependencies__playwright_test:"1.35.0",B_REQUEST:"https://quizizz.com/_api/main",npm_package_type:"module",npm_package_scripts_prod:"vite --mode production",npm_package_dependencies_webrtc_adapter:"8.2.3",npm_package_devDependencies__testing_library_dom:"10.1.0",npm_package_devDependencies__vue_tsconfig:"0.1.3",npm_package_lint_staged___js_0:"pnpm run lint:js",AWS_DEFAULT_REGION:"us-east-1",_:"/usr/local/bin/pnpm",npm_package_private:"true",npm_package_dependencies__microsoft_teams_js:"2.10.1",npm_package_dependencies_gsap:"3.11.5",npm_package_devDependencies__commitlint_config_conventional:"17.6.1",npm_package_devDependencies_autoprefixer:"10.4.14",B_GAME:"https://game.quizizz.com",image_repository:"399771530480.dkr.ecr.us-east-1.amazonaws.com",componentType:"join",npm_package_scripts_lint:"eslint . --ext .vue,.js,.jsx,.cjs,.mjs,.ts,.tsx,.cts,.mts --fix --ignore-path .gitignore",npm_package_dependencies__stripe_stripe_js:"1.52.1",npm_package_devDependencies__types_lodash_es:"4.17.7",npm_package_devDependencies__types_uuid:"9.0.2",npm_package_devDependencies__vitest_coverage_v8:"1.6.0",npm_config_registry:"https://registry.npmjs.org/",B_BASE:"https://quizizz.com",npm_package_dependencies_bson_objectid:"2.0.4",npm_package_dependencies_fraction_js:"4.2.0",Q_BUILD_META_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts/buildMeta",Q_SENTRY_DSN:"https://f4055af1be6347b5a3b645683a6b50ff@o984659.ingest.sentry.io/4505148554412032",npm_package_scripts_start:"pnpm run dev",npm_package_scripts_build_jenkins:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode jenkins",npm_package_scripts_lint_vue:"eslint . --ext .vue --fix --ignore-path .gitignore",npm_package_dependencies_shared_library:"workspace:shared-library",npm_package_devDependencies__vitejs_plugin_vue:"5.0.4",npm_package_dependencies_axios:"1.3.6",npm_package_dependencies_mathquill:"git+https://github.com/Perseus/mathquill.git",npm_config_node_gyp:"/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node_modules/node-gyp/bin/node-gyp.js",PATH:"/usr/app/apps/join/node_modules/.bin:/root/.cache/node/corepack/v1/pnpm/8.6.2/dist/node-gyp-bin:/usr/app/node_modules/.bin:/opt/python_env/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/.pnpm",npm_package_name:"join",npm_package_scripts_lint_js:"eslint src --ext .js --fix --ignore-path .gitignore",npm_package_dependencies__rive_app_canvas:"^2.8.0",npm_package_devDependencies__types_crypto_js:"4.1.1",NODE:"/usr/local/bin/node",npm_package_scripts_build_local:"pnpm run build-dependencies && vite build --mode localenv",npm_package_dependencies_marked:"^15.0.2",npm_package_devDependencies__sentry_vite_plugin:"2.22.3",npm_package_devDependencies_axios_mock_adapter:"1.21.4",componentName:"main",npm_package_scripts_build_development:"pnpm run build-dependencies && vite build --mode development",npm_package_dependencies_seedrandom:"3.0.5",npm_package_dependencies_vue_markdown_render:"2.1.1",npm_package_devDependencies__commitlint_cli:"17.6.1",npm_package_scripts_build_e2e:"NODE_OPTIONS=--max-old-space-size=8192 && pnpm run build-dependencies && vite build --mode e2e",npm_package_dependencies_fast_equals:"5.0.1",npm_package_devDependencies__vue_test_utils:"2.4.6",npm_package_devDependencies_eslint:"8.50.0",B_ANALYTICS:"https://analytics.quizizz.com",AWS_ACCOUNT_ID:"399771530480",npm_package_devDependencies_dotenv:"16.0.3",npm_package_lint_staged___ts_0:"pnpm run lint:ts",npm_lifecycle_script:"pnpm run build-dependencies && vite build",npm_package_scripts_test:"TZ=UTC vitest run",npm_package_devDependencies_vite_plugin_environment:"1.1.3",commitId:"6e304f4210f4c5f8680f3dda6cc62281d1c9d696",npm_package_version:"4.0.0",npm_package_dependencies_nanoid:"4.0.2",npm_package_dependencies_vuedraggable:"4.1.0",npm_package_devDependencies__rushstack_eslint_patch:"1.2.0",npm_package_devDependencies__types_nprogress:"^0.2.3",npm_package_devDependencies_jsdom:"24.1.0",npm_lifecycle_event:"build:prod",NODE_PATH:"/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/bin/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules/vite/node_modules:/usr/app/node_modules/.pnpm/vite@5.2.6_@types+node@18.16.6_sass@1.62.0/node_modules:/usr/app/node_modules/.pnpm/node_modules",B_MAIN:"https://quizizz.com",Q_GCLOUD_PROD_CRED_ENV:'{"type":"service_account","project_id":"quizizz-org","private_key_id":"689560b691f67f317cf4236ba52b37dc7ca2d810","private_key":"-----BEGIN PRIVATE KEY-----\\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCwlHYA7exrEuOe\\nJ4Yb2DwOf8d7h47c4rqrf4Y0oPBgN+cS2kVKTKFwaG28QPNiLxo0lHZRuIPH9tvE\\n9sPeCzuSCFKUwVaan85j50IMiP0qesmK/bLvqXJC/9xZyW/t+4yyRm3ixF2jP+fQ\\nugtZOirI/V/meh1QSbUI0UxYihoA1G41tGs/SqjUn+PFV23rB49mWHJdCXBH3zjl\\n9vBAJBP3zZZ9VGSxwlFjA5/2nPB0FiZ1XEiICl7BbOhvehEdUcvMF20IVAPT9Xxj\\njjzJ52ARYpnyuyI4TWvssd19RWk4qtTNnP/wya860FkMpZlXjQbOqjIK4c0uP6el\\nx/UA+IdFAgMBAAECggEACdHPuCCDB7dOsiJXil/dgx7m/H8e2ji/kb7vOykCBQ/G\\nyV0bAlU9mw8rnw7rmfetmOPyqnu81FdthEgGv2fXgbj1wrD3vHSLmTGokiLiFUUr\\nxQ9zrnE5WfF5kwKpN05IVjelb7lkzanFne1iqS0baP7yINKEo8zdhOaCvN+9L3OJ\\nDObj/1o47YdVWmVGJM1P7/aB7+yQnCVdSmnnlFVQpekhLVpXMltDUQzlG5KML4HK\\nZqjIc1EgoVUxOhziB2RWef4TC97dUqV6pCL2AOFKxzW2A2yesEV4L+RgqkCJk1H9\\n6/8LZprS63E8a4RGJlWOdFEhrqXAw8xhOUkpFdz1AQKBgQDnBPUinD9DQUxuv7U6\\nIQ1EhwVpJ2jDy/Vf/5g/NpwycW0BLUwxfIP1LHLhrv5DSAVkMGpx35IpDppQjNhy\\nmUful/9HpkymwzM9LFQ8BQYDWENZ3xZuldK+kD5gAKitxCakOXn04fT00qQNgX9R\\nig2Rh52yajyT06iGXFXDf2U2gQKBgQDDrITrRGB57aPSvrbr0eITtmBsm569XNUz\\nSGpIN90EPn/Vy/lpEgUHp2VJd92hiwkS4GEPcUDTtmrgJMrXf59im0cHx4kxnpfM\\n0TEShDx0vvz0xFRw+1xD1LzI2SSYEBB7mU1WLBJCV92h/qZ2QsD5csTZ1bfqL8Rm\\nZOtNEyaWxQKBgQCS0v/JQ2yhnfqp2IWhsCfyia3Sqw1Wg2Yr4RIt+tNC6/vPZ66p\\nNO3ZAKry7HkE4d0rU+oS/XizR2ikER/vlaO17Dx+mR7WTfFey7Gtg7PSpGIJ2FM1\\nbVtHaf16nnCWH7g/X5g3HvTENKu3ObplZExDVeHP5t0hRsAwxLZtTaZSAQKBgQCB\\nCsENtqY5QrMLRKK1mlCR13B3r5lcIGCp1VPiFJU5O05q3H27ARs4FPkDHn2XD24I\\neNkJqhKqjF6nOxxaSdv+15BcXQbpJkHN3ReTsol8JIgFk4Rsjhgm06E8g5dSgSWd\\nnVgXQDE6d1++eYWl8Bf7aejQD9WeJ6pKLLvQtJR6UQKBgAoVdYrKHcxuFvZn7mTa\\ngdF9xaDJ5QO8nExvzDCZclGENhQEhYDRY2LPSwua/GdFp1dlNvF7mcCYM9AQ71wi\\nwjgTpgmDWVAhlHiwgXdZpaF4T1iR2z5fSYrXNCnHuBLpepEHOCUU9hWzQf1Kxov/\\nJsYdlN8vkfFjI91rbhEHlR1B\\n-----END PRIVATE KEY-----\\n","client_email":"quizizz-org@appspot.gserviceaccount.com","client_id":"114144258260971284008","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://accounts.google.com/o/oauth2/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/quizizz-org%40appspot.gserviceaccount.com"}',npm_package_scripts_build:"pnpm run build-dependencies && vite build",npm_package_dependencies_lodash_es:"4.17.21",npm_package_dependencies_uuid:"9.0.0",npm_package_dependencies_wavesurfer_js:"6.6.3",npm_package_devDependencies_lint_staged:"13.2.1",B_GAME_SOCKET_PATH:"",npm_package_scripts_test_coverage:"TZ=UTC vitest run --coverage",npm_package_dependencies_test_helpers:"workspace:test-helpers",Q_SENTRY_AUTH_TOKEN:"f17875a1ca5a4392a703e29271e4e73f55e1705d9c9f48329b6f411af15f128a",npm_package_dependencies_vue_router:"4.1.6",npm_package_dependencies_whiteboard:"workspace:whiteboard",SENTRY_LOG_LEVEL:"debug",npm_package_scripts_lint_ts:"eslint . --ext .ts --fix --ignore-path .gitignore",npm_package_dependencies_shuffle_seed:"git+https://github.com/echo8795/shuffle-seed.git",npm_package_dependencies_tw_colors:"^3.3.1",npm_package_dependencies_utilities:"workspace:utilities",npm_package_devDependencies__testing_library_vue:"8.1.0",npm_package_scripts_test_watch:"TZ=UTC vitest",npm_package_dependencies_crypto_js:"4.1.1",npm_package_dependencies_join_icons:"workspace:join-icons",PWD:"/usr/app/apps/join",npm_execpath:"/root/.cache/node/corepack/v1/pnpm/8.6.2/bin/pnpm.cjs",env:"prod",npm_package_dependencies_pinia_logger:"1.3.12",Q_BUILD_ADDRESS:"https://cf.quizizz.com",Q_TRANSLATIONS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/translations",npm_package_dependencies_ios_inner_height:"1.1.1",npm_package_dependencies_socket_io_client:"4.6.1",npm_package_devDependencies__pinia_testing:"0.1.2",npm_package_devDependencies_postcss:"8.4.21",npm_command:"run-script",PNPM_SCRIPT_SRC_DIR:"/usr/app/apps/join",B_SOCKET:"https://socket.quizizz.com",B_APIS:"main",npm_package_scripts_preview:"pnpm run build-dependencies && vite preview",npm_package_scripts_generate_translations:"bash ./scripts/localizationWrapper.sh; node server/localizationV2.js",npm_package_devDependencies_rollup_plugin_visualizer:"5.9.0",npm_package_devDependencies_vite_plugin_lightningcss:"0.0.5",NODE_ENV:"production",PNPM_HOME:"/usr/.pnpm",npm_package_dependencies_hls_js:"^1.5.17",npm_package_devDependencies_npm_run_all:"4.1.5",npm_package_dependencies_nprogress:"^0.2.0",npm_package_devDependencies__antfu_eslint_config:"0.39.8",INIT_CWD:"/usr/app/apps/join",BACKEND_ENV:"prod",ARE_TRANSLATIONS_REQUIRED:"true",SHELL_LOGS_ALLOWED:"true",IS_BUNDLE_UPLOADING_PROCEDURE:"false",STRIPE_PUBLIC_KEY:"pk_live_FwrYQJLoT8QEcGoiPtO8TvJH",SENTRY_ORG:"quizizz",SENTRY_PROJECT:"game-web",SENTRY_AUTH_TOKEN:"7b48e89e2b864f2cae36780ca55a7b8f973c46dab3754b11bb6805c9e60e5c92",SENTRY_VCS_REMOTE:"github",IS_BUNDLE_GENERATION_PROCEDURE:"false",SENTRY_DSN:"https://ef6a77d54b20488988595566b6951a86@o984659.ingest.sentry.io/6322987",Q_CSS_ASSETS_UPLOAD_LOCATION:"https://cf.quizizz.com/assets/v3/j/scripts",VITE_GOOGLE_API_KEY:"AIzaSyD0xyjgp01kEzXr4aSfvQh5ikHMyfyUbyg",VITE_ENV_API_E2E_MODE:"false",SENTRY_PIPELINE:"vite-plugin/2.22.3",VITE_USER_NODE_ENV:"production"};b.log("Bootstrapping Application ver 4.0.0");const Cs=Og({render:()=>Gg(UC)}),Zu=Pg();function ow(){return aw.DISABLE_PINIA_LOGGER==="true"||!b.isStateLogAllowedInProd()}Zu.use(kg.PiniaLogger({expanded:!1,disabled:ow()}));Zu.use(nw);Cs.use(Zu);Cs.use(wa);const Sp=ZC();ct.setSessionId(Sp.sessionId);ct.init(Sp.modelDetails,Ip,XC);Cs.use(VC,{});Cs.use(BC,{});Cs.use(KC);Cs.use(jC);Cs.use(JC,{});Cs.use(bg,{themes:{"read-aloud-tooltip":{$extend:"tooltip",$resetCss:!0}}});Cs.directive("tooltip",Ng);Cs.directive("close-popper",Dg);Cs.component("GlobalLoader",TC);Cs.component("ThemedContentDiv",kC);Cs.component("ThemedBackgroundDiv",wC);Cs.component("QLoader",SC);Cs.component("ButtonV2",kf);Cs.component("VTooltip",Lg);Cs.component("VDropdown",zg);Cs.component("Tooltip",zC);Cs.provide("PageNames",O);GT(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=",void 0,void 0);const qc=document.getElementById("root");qc&&(qc.style.width="100dvw",qc.style.height="100dvh");cf();Cs.mount("#root");async function iw(){const e=Wa.getSentryDsnURL();e&&Ug({app:Cs,dsn:e,sampleRate:1,beforeSend:(t,s)=>tw(t,s),beforeBreadcrumb:pc.beforeBreadcrumb,ignoreErrors:pc.ignoredErrors,tracesSampleRate:.005,replaysSessionSampleRate:.01,replaysOnErrorSampleRate:.05,integrations:[Bg({router:wa}),Mg({blockAllMedia:!0,maxReplayDuration:3e5})],denyUrls:pc.denyUrls})}iw();export{hs as $,qr as A,ba as B,zC as C,Ft as D,pO as E,rt as F,vo as G,Gi as H,ct as I,zi as J,Pk as K,Rs as L,Rk as M,Yd as N,Ea as O,O as P,b as Q,Ck as R,Jo as S,_o as T,ho as U,wk as V,as as W,Ok as X,gn as Y,SC as Z,Hs as _,eO as a,ik as a$,xC as a0,wo as a1,Fa as a2,U as a3,kf as a4,ga as a5,Nn as a6,od as a7,L as a8,Co as a9,vm as aA,dw as aB,qo as aC,cu as aD,Yc as aE,Ew as aF,sO as aG,Xi as aH,Fw as aI,Qw as aJ,qw as aK,jt as aL,xw as aM,_w as aN,OP as aO,kP as aP,PP as aQ,go as aR,qt as aS,oc as aT,Pa as aU,Fn as aV,ui as aW,Ba as aX,pr as aY,ld as aZ,Hm as a_,Yt as aa,UP as ab,VP as ac,BP as ad,Ct as ae,Wu as af,eu as ag,HP as ah,cp as ai,NP as aj,DP as ak,Ya as al,Js as am,Iw as an,ps as ao,Ps as ap,Is as aq,Kl as ar,un as as,Vw as at,ln as au,ua as av,Oo as aw,mE as ax,la as ay,Ra as az,tO as b,AP as b$,Lk as b0,rk as b1,ck as b2,zk as b3,uk as b4,pn as b5,lk as b6,dk as b7,Gk as b8,mk as b9,CP as bA,Tk as bB,So as bC,fi as bD,Nk as bE,Dk as bF,Xt as bG,yk as bH,$o as bI,vO as bJ,ww as bK,ak as bL,Cw as bM,bP as bN,Kh as bO,Ds as bP,mm as bQ,Ro as bR,F_ as bS,Q_ as bT,q_ as bU,Ks as bV,Nm as bW,zf as bX,Ww as bY,Aw as bZ,Uu as b_,bm as ba,Hw as bb,pk as bc,gk as bd,xk as be,fk as bf,hk as bg,_C as bh,Ul as bi,Fu as bj,LS as bk,EC as bl,er as bm,mp as bn,Qk as bo,Fk as bp,_k as bq,vk as br,zs as bs,Ek as bt,ei as bu,qk as bv,ac as bw,Qi as bx,Gt as by,Ak as bz,S as c,CO as c$,EP as c0,j_ as c1,Qo as c2,EO as c3,MS as c4,xf as c5,hw as c6,wn as c7,LP as c8,Mv as c9,kr as cA,Uk as cB,fo as cC,Y as cD,dp as cE,es as cF,iI as cG,CS as cH,Ia as cI,RP as cJ,Pw as cK,Wn as cL,jw as cM,Gn as cN,Om as cO,Ou as cP,fP as cQ,MO as cR,mw as cS,uu as cT,ip as cU,Tu as cV,pp as cW,Sa as cX,tk as cY,fa as cZ,RO as c_,ya as ca,vw as cb,Br as cc,Fo as cd,KP as ce,JP as cf,$t as cg,qP as ch,pd as ci,Ly as cj,ok as ck,ek as cl,Uf as cm,yu as cn,om as co,pw as cp,Jw as cq,ou as cr,xT as cs,tu as ct,mn as cu,u_ as cv,l_ as cw,eP as cx,sP as cy,dn as cz,Wa as d,FP as d$,wO as d0,yw as d1,ym as d2,LO as d3,wc as d4,sn as d5,uo as d6,hO as d7,Rr as d8,mO as d9,_P as dA,Gh as dB,BO as dC,VO as dD,Pm as dE,$O as dF,jO as dG,XO as dH,ZO as dI,tP as dJ,YO as dK,WO as dL,HO as dM,xn as dN,_t as dO,Yw as dP,Kw as dQ,Wc as dR,Zw as dS,Bs as dT,Ua as dU,ZP as dV,Sm as dW,nk as dX,lw as dY,aP as dZ,nc as d_,xh as da,oi as db,zw as dc,cO as dd,FT as de,iO as df,DO as dg,Im as dh,nP as di,zO as dj,bO as dk,kO as dl,Ml as dm,Am as dn,Tm as dp,Cu as dq,ti as dr,qO as ds,mP as dt,uP as du,lP as dv,zS as dw,pP as dx,Sw as dy,Qf as dz,Re as e,PT as e$,XP as e0,Jk as e1,wP as e2,zn as e3,GO as e4,SO as e5,ia as e6,yO as e7,xO as e8,ii as e9,TO as eA,dP as eB,iP as eC,gP as eD,Gm as eE,rm as eF,im as eG,kw as eH,gh as eI,AC as eJ,Xc as eK,gw as eL,sk as eM,or as eN,Sk as eO,uO as eP,_p as eQ,nd as eR,Mk as eS,Os as eT,El as eU,Lw as eV,Vi as eW,Vf as eX,$w as eY,ki as eZ,MP as e_,hP as ea,mo as eb,na as ec,qi as ed,Vn as ee,qI as ef,IO as eg,aa as eh,Bf as ei,yr as ej,WP as ek,YI as el,UI as em,WI as en,jP as eo,bn as ep,YP as eq,ta as er,xP as es,KO as et,JO as eu,AO as ev,rO as ew,vP as ex,a_ as ey,OO as ez,je as f,Hr as f$,ha as f0,PO as f1,jf as f2,hc as f3,lO as f4,Tw as f5,cP as f6,QO as f7,Er as f8,FO as f9,ro as fA,xa as fB,Yk as fC,kh as fD,Nw as fE,Dw as fF,Bk as fG,Ik as fH,gi as fI,Bw as fJ,tp as fK,Ao as fL,kC as fM,$k as fN,jk as fO,kk as fP,bk as fQ,ic as fR,nr as fS,Kk as fT,Ko as fU,zP as fV,GP as fW,Bm as fX,Rw as fY,qf as fZ,fO as f_,IP as fa,nO as fb,aO as fc,Eu as fd,Mh as fe,rP as ff,wu as fg,ju as fh,fc as fi,Df as fj,yP as fk,Uw as fl,UO as fm,Sl as fn,fw as fo,SP as fp,$P as fq,Vk as fr,Hk as fs,QP as ft,id as fu,pi as fv,sp as fw,gc as fx,Wk as fy,oR as fz,Y_ as g,NO as g0,gO as g1,e_ as g2,Zh as g3,Ow as g4,Ff as g5,oP as g6,bw as g7,Ui as g8,_O as g9,Xw as ga,Mw as gb,Gw as gc,Pr as h,dO as i,pE as j,ri as k,yt as l,Dt as m,Je as n,re as o,L_ as p,$a as q,Ha as r,TP as s,Ca as t,dr as u,xe as v,Ze as w,En as x,oO as y,Bi as z};
